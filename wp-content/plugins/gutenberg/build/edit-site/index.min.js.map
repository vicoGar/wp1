{"version":3,"file":"./build/edit-site/index.min.js","mappings":"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","sources":["webpack://wp/./node_modules/autosize/dist/autosize.js","webpack://wp/./node_modules/classnames/index.js","webpack://wp/./node_modules/computed-style/dist/computedStyle.commonjs.js","webpack://wp/./node_modules/downloadjs/download.js","webpack://wp/./node_modules/line-height/lib/line-height.js","webpack://wp/./node_modules/prop-types/factoryWithThrowingShims.js","webpack://wp/./node_modules/prop-types/index.js","webpack://wp/./node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack://wp/./node_modules/react-autosize-textarea/lib/TextareaAutosize.js","webpack://wp/./node_modules/react-autosize-textarea/lib/index.js","webpack://wp/external window \"React\"","webpack://wp/webpack/bootstrap","webpack://wp/webpack/runtime/compat get default export","webpack://wp/webpack/runtime/define property getters","webpack://wp/webpack/runtime/hasOwnProperty shorthand","webpack://wp/webpack/runtime/make namespace object","webpack://wp/external window [\"wp\",\"element\"]","webpack://wp/external window [\"wp\",\"blocks\"]","webpack://wp/external window [\"wp\",\"blockLibrary\"]","webpack://wp/external window [\"wp\",\"data\"]","webpack://wp/external window [\"wp\",\"coreData\"]","webpack://wp/external window [\"wp\",\"editor\"]","webpack://wp/external window [\"wp\",\"i18n\"]","webpack://wp/external window [\"wp\",\"viewport\"]","webpack://wp/external window [\"wp\",\"url\"]","webpack://wp/external window [\"wp\",\"hooks\"]","webpack://wp/external window [\"wp\",\"mediaUtils\"]","webpack://wp/./packages/edit-site/build-module/hooks/@wordpress/edit-site/src/hooks/components.js","webpack://wp/./packages/edit-site/build-module/store/@wordpress/edit-site/src/store/defaults.js","webpack://wp/./packages/edit-site/build-module/store/@wordpress/edit-site/src/store/constants.js","webpack://wp/./packages/edit-site/build-module/components/navigation-sidebar/navigation-panel/@wordpress/edit-site/src/components/navigation-sidebar/navigation-panel/constants.js","webpack://wp/./packages/edit-site/build-module/store/@wordpress/edit-site/src/store/reducer.js","webpack://wp/external window [\"wp\",\"apiFetch\"]","webpack://wp/external window [\"wp\",\"notices\"]","webpack://wp/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://wp/external window [\"wp\",\"components\"]","webpack://wp/external window [\"wp\",\"primitives\"]","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/check.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/star-filled.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/star-empty.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/close-small.js","webpack://wp/external window \"lodash\"","webpack://wp/./packages/interface/build-module/store/@wordpress/interface/src/store/reducer.js","webpack://wp/./packages/interface/build-module/store/@wordpress/interface/src/store/actions.js","webpack://wp/./packages/interface/build-module/store/@wordpress/interface/src/store/selectors.js","webpack://wp/./packages/interface/build-module/store/@wordpress/interface/src/store/constants.js","webpack://wp/./packages/interface/build-module/store/@wordpress/interface/src/store/index.js","webpack://wp/external window [\"wp\",\"plugins\"]","webpack://wp/./packages/interface/build-module/components/complementary-area-context/@wordpress/interface/src/components/complementary-area-context/index.js","webpack://wp/./packages/interface/build-module/components/complementary-area-toggle/@wordpress/interface/src/components/complementary-area-toggle/index.js","webpack://wp/./packages/interface/build-module/components/complementary-area-header/@wordpress/interface/src/components/complementary-area-header/index.js","webpack://wp/./packages/interface/build-module/components/action-item/@wordpress/interface/src/components/action-item/index.js","webpack://wp/./packages/interface/build-module/components/complementary-area-more-menu-item/@wordpress/interface/src/components/complementary-area-more-menu-item/index.js","webpack://wp/./packages/interface/build-module/components/pinned-items/@wordpress/interface/src/components/pinned-items/index.js","webpack://wp/./packages/interface/build-module/components/complementary-area/@wordpress/interface/src/components/complementary-area/index.js","webpack://wp/external window [\"wp\",\"compose\"]","webpack://wp/./packages/interface/build-module/components/interface-skeleton/@wordpress/interface/src/components/interface-skeleton/index.js","webpack://wp/external window [\"wp\",\"blockEditor\"]","webpack://wp/external window [\"wp\",\"a11y\"]","webpack://wp/./packages/edit-site/build-module/utils/@wordpress/edit-site/src/utils/is-template-revertable.js","webpack://wp/./packages/edit-site/build-module/store/@wordpress/edit-site/src/store/actions.js","webpack://wp/./node_modules/rememo/es/rememo.js","webpack://wp/./packages/edit-site/build-module/components/navigation-sidebar/navigation-panel/@wordpress/edit-site/src/components/navigation-sidebar/navigation-panel/template-hierarchy.js","webpack://wp/./packages/edit-site/build-module/store/@wordpress/edit-site/src/store/selectors.js","webpack://wp/./packages/edit-site/build-module/store/@wordpress/edit-site/src/store/index.js","webpack://wp/./packages/edit-site/build-module/utils/@wordpress/edit-site/src/utils/history.js","webpack://wp/./packages/edit-site/build-module/components/routes/@wordpress/edit-site/src/components/routes/index.js","webpack://wp/external window [\"wp\",\"keyboardShortcuts\"]","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/plus.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/list-view.js","webpack://wp/external window [\"wp\",\"keycodes\"]","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/more-vertical.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/external.js","webpack://wp/./packages/edit-site/build-module/components/keyboard-shortcut-help-modal/@wordpress/edit-site/src/components/keyboard-shortcut-help-modal/config.js","webpack://wp/./packages/edit-site/build-module/components/keyboard-shortcut-help-modal/@wordpress/edit-site/src/components/keyboard-shortcut-help-modal/shortcut.js","webpack://wp/./packages/edit-site/build-module/components/keyboard-shortcut-help-modal/@wordpress/edit-site/src/components/keyboard-shortcut-help-modal/dynamic-shortcut.js","webpack://wp/./packages/edit-site/build-module/components/keyboard-shortcut-help-modal/@wordpress/edit-site/src/components/keyboard-shortcut-help-modal/index.js","webpack://wp/./packages/edit-site/build-module/components/header/feature-toggle/@wordpress/edit-site/src/components/header/feature-toggle/index.js","webpack://wp/./packages/edit-site/build-module/components/header/tools-more-menu-group/@wordpress/edit-site/src/components/header/tools-more-menu-group/index.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/download.js","webpack://wp/./packages/edit-site/build-module/components/header/more-menu/@wordpress/edit-site/src/components/header/more-menu/site-export.js","webpack://wp/./packages/edit-site/build-module/components/header/more-menu/@wordpress/edit-site/src/components/header/more-menu/welcome-guide-menu-item.js","webpack://wp/./packages/edit-site/build-module/components/header/more-menu/@wordpress/edit-site/src/components/header/more-menu/copy-content-menu-item.js","webpack://wp/./packages/edit-site/build-module/components/header/mode-switcher/@wordpress/edit-site/src/components/header/mode-switcher/index.js","webpack://wp/./packages/edit-site/build-module/components/header/more-menu/@wordpress/edit-site/src/components/header/more-menu/index.js","webpack://wp/./packages/edit-site/build-module/components/save-button/@wordpress/edit-site/src/components/save-button/index.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/undo.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/redo.js","webpack://wp/./packages/edit-site/build-module/components/header/undo-redo/@wordpress/edit-site/src/components/header/undo-redo/undo.js","webpack://wp/./packages/edit-site/build-module/components/header/undo-redo/@wordpress/edit-site/src/components/header/undo-redo/redo.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/chevron-down.js","webpack://wp/./packages/edit-site/build-module/components/header/document-actions/@wordpress/edit-site/src/components/header/document-actions/index.js","webpack://wp/./packages/edit-site/build-module/components/routes/@wordpress/edit-site/src/components/routes/link.js","webpack://wp/./packages/edit-site/build-module/components/template-details/@wordpress/edit-site/src/components/template-details/template-areas.js","webpack://wp/./packages/edit-site/build-module/components/template-details/@wordpress/edit-site/src/components/template-details/edit-template-title.js","webpack://wp/./packages/edit-site/build-module/components/template-details/@wordpress/edit-site/src/components/template-details/index.js","webpack://wp/./packages/edit-site/build-module/components/header/@wordpress/edit-site/src/components/header/index.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/cog.js","webpack://wp/./packages/edit-site/build-module/components/sidebar/@wordpress/edit-site/src/components/sidebar/default-sidebar.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/styles.js","webpack://wp/./packages/icons/build-module/icon/@wordpress/icons/src/icon/index.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/chevron-left.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/chevron-right.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/navigation-button.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/typography.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/color.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/layout.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/utils.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/context.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/hooks.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/border-panel.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/color-utils.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/dimensions-panel.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/typography-panel.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/context-menu.js","webpack://wp/./packages/style-engine/build-module/styles/@wordpress/style-engine/src/styles/index.ts","webpack://wp/./packages/style-engine/build-module/styles/@wordpress/style-engine/src/styles/padding.ts","webpack://wp/./packages/style-engine/build-module/styles/@wordpress/style-engine/src/styles/utils.ts","webpack://wp/./packages/style-engine/build-module/@wordpress/style-engine/src/index.ts","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/use-global-styles-output.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/preview.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/screen-root.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/header.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/screen-block-list.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/screen-block.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/subtitle.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/screen-typography.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/screen-typography-element.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/palette.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/screen-colors.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/color-palette-panel.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/gradients-palette-panel.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/screen-color-palette.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/screen-background-color.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/screen-text-color.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/screen-link-color.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/screen-layout.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/global-styles-provider.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/screen-style-variations.js","webpack://wp/./packages/edit-site/build-module/components/global-styles/@wordpress/edit-site/src/components/global-styles/ui.js","webpack://wp/./packages/edit-site/build-module/components/sidebar/@wordpress/edit-site/src/components/sidebar/global-styles-sidebar.js","webpack://wp/./packages/edit-site/build-module/components/sidebar/@wordpress/edit-site/src/components/sidebar/constants.js","webpack://wp/./packages/edit-site/build-module/components/sidebar/settings-header/@wordpress/edit-site/src/components/sidebar/settings-header/index.js","webpack://wp/./packages/edit-site/build-module/components/sidebar/template-card/@wordpress/edit-site/src/components/sidebar/template-card/template-areas.js","webpack://wp/./packages/edit-site/build-module/components/sidebar/template-card/@wordpress/edit-site/src/components/sidebar/template-card/index.js","webpack://wp/./packages/edit-site/build-module/components/sidebar/@wordpress/edit-site/src/components/sidebar/index.js","webpack://wp/external window [\"wp\",\"htmlEntities\"]","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/home.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/symbol-filled.js","webpack://wp/./packages/edit-site/build-module/components/main-dashboard-button/@wordpress/edit-site/src/components/main-dashboard-button/index.js","webpack://wp/./packages/edit-site/build-module/components/navigation-sidebar/navigation-panel/@wordpress/edit-site/src/components/navigation-sidebar/navigation-panel/index.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/wordpress.js","webpack://wp/./packages/edit-site/build-module/components/navigation-sidebar/navigation-toggle/@wordpress/edit-site/src/components/navigation-sidebar/navigation-toggle/index.js","webpack://wp/./packages/edit-site/build-module/components/navigation-sidebar/@wordpress/edit-site/src/components/navigation-sidebar/index.js","webpack://wp/external window [\"wp\",\"reusableBlocks\"]","webpack://wp/./packages/edit-site/build-module/components/template-part-converter/@wordpress/edit-site/src/components/template-part-converter/convert-to-regular.js","webpack://wp/./packages/edit-site/build-module/components/create-template-part-modal/@wordpress/edit-site/src/components/create-template-part-modal/index.js","webpack://wp/./packages/edit-site/build-module/components/template-part-converter/@wordpress/edit-site/src/components/template-part-converter/convert-to-template-part.js","webpack://wp/./packages/edit-site/build-module/components/template-part-converter/@wordpress/edit-site/src/components/template-part-converter/index.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/pencil.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/edit.js","webpack://wp/./packages/edit-site/build-module/components/navigate-to-link/@wordpress/edit-site/src/components/navigate-to-link/index.js","webpack://wp/./packages/edit-site/build-module/components/block-editor/@wordpress/edit-site/src/components/block-editor/block-inspector-button.js","webpack://wp/./packages/edit-site/build-module/components/edit-template-part-menu-button/@wordpress/edit-site/src/components/edit-template-part-menu-button/index.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/arrow-left.js","webpack://wp/./packages/edit-site/build-module/components/block-editor/@wordpress/edit-site/src/components/block-editor/back-button.js","webpack://wp/./packages/edit-site/build-module/components/block-editor/@wordpress/edit-site/src/components/block-editor/resize-handle.js","webpack://wp/./packages/edit-site/build-module/components/block-editor/@wordpress/edit-site/src/components/block-editor/resizable-editor.js","webpack://wp/./packages/edit-site/build-module/components/block-editor/@wordpress/edit-site/src/components/block-editor/index.js","webpack://wp/./packages/edit-site/build-module/components/code-editor/@wordpress/edit-site/src/components/code-editor/code-editor-text-area.js","webpack://wp/./packages/edit-site/build-module/components/code-editor/@wordpress/edit-site/src/components/code-editor/index.js","webpack://wp/./packages/edit-site/build-module/components/keyboard-shortcuts/@wordpress/edit-site/src/components/keyboard-shortcuts/index.js","webpack://wp/./packages/edit-site/build-module/components/url-query-controller/@wordpress/edit-site/src/components/url-query-controller/index.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/close.js","webpack://wp/./packages/edit-site/build-module/components/secondary-sidebar/@wordpress/edit-site/src/components/secondary-sidebar/inserter-sidebar.js","webpack://wp/./packages/edit-site/build-module/components/secondary-sidebar/@wordpress/edit-site/src/components/secondary-sidebar/list-view-sidebar.js","webpack://wp/./packages/edit-site/build-module/components/error-boundary/@wordpress/edit-site/src/components/error-boundary/warning.js","webpack://wp/./packages/edit-site/build-module/components/error-boundary/@wordpress/edit-site/src/components/error-boundary/index.js","webpack://wp/./packages/edit-site/build-module/components/welcome-guide/@wordpress/edit-site/src/components/welcome-guide/image.js","webpack://wp/./packages/edit-site/build-module/components/welcome-guide/@wordpress/edit-site/src/components/welcome-guide/editor.js","webpack://wp/./packages/edit-site/build-module/components/welcome-guide/@wordpress/edit-site/src/components/welcome-guide/styles.js","webpack://wp/./packages/edit-site/build-module/components/welcome-guide/@wordpress/edit-site/src/components/welcome-guide/index.js","webpack://wp/./packages/edit-site/build-module/components/editor/@wordpress/edit-site/src/components/editor/global-styles-renderer.js","webpack://wp/./packages/edit-site/build-module/components/routes/@wordpress/edit-site/src/components/routes/use-title.js","webpack://wp/./packages/edit-site/build-module/components/editor/@wordpress/edit-site/src/components/editor/index.js","webpack://wp/./packages/edit-site/build-module/components/add-new-template/@wordpress/edit-site/src/components/add-new-template/new-template.js","webpack://wp/./packages/edit-site/build-module/components/add-new-template/@wordpress/edit-site/src/components/add-new-template/new-template-part.js","webpack://wp/./packages/edit-site/build-module/components/add-new-template/@wordpress/edit-site/src/components/add-new-template/index.js","webpack://wp/./packages/edit-site/build-module/components/list/@wordpress/edit-site/src/components/list/header.js","webpack://wp/./packages/edit-site/build-module/components/list/actions/@wordpress/edit-site/src/components/list/actions/rename-menu-item.js","webpack://wp/./packages/edit-site/build-module/components/list/actions/@wordpress/edit-site/src/components/list/actions/index.js","webpack://wp/./packages/edit-site/build-module/utils/@wordpress/edit-site/src/utils/is-template-removable.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/plugins.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/comment-author-avatar.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/globe.js","webpack://wp/./packages/edit-site/build-module/components/list/@wordpress/edit-site/src/components/list/added-by.js","webpack://wp/./packages/edit-site/build-module/components/list/@wordpress/edit-site/src/components/list/table.js","webpack://wp/./packages/edit-site/build-module/components/list/@wordpress/edit-site/src/components/list/index.js","webpack://wp/./packages/edit-site/build-module/components/list/@wordpress/edit-site/src/components/list/use-register-shortcuts.js","webpack://wp/./packages/edit-site/build-module/utils/@wordpress/edit-site/src/utils/get-is-list-page.js","webpack://wp/./packages/edit-site/build-module/components/app/@wordpress/edit-site/src/components/app/index.js","webpack://wp/./packages/edit-site/build-module/components/sidebar/plugin-sidebar/@wordpress/edit-site/src/components/sidebar/plugin-sidebar/index.js","webpack://wp/./packages/edit-site/build-module/components/header/plugin-sidebar-more-menu-item/@wordpress/edit-site/src/components/header/plugin-sidebar-more-menu-item/index.js","webpack://wp/./packages/edit-site/build-module/components/header/plugin-more-menu-item/@wordpress/edit-site/src/components/header/plugin-more-menu-item/index.js","webpack://wp/./packages/edit-site/build-module/@wordpress/edit-site/src/index.js","webpack://wp/./packages/edit-site/build-module/components/routes/@wordpress/edit-site/src/components/routes/redirect-to-homepage.js"],"sourcesContent":["/*!\n\tautosize 4.0.2\n\tlicense: MIT\n\thttp://www.jacklmoore.com/autosize\n*/\n(function (global, factory) {\n\tif (typeof define === \"function\" && define.amd) {\n\t\tdefine(['module', 'exports'], factory);\n\t} else if (typeof exports !== \"undefined\") {\n\t\tfactory(module, exports);\n\t} else {\n\t\tvar mod = {\n\t\t\texports: {}\n\t\t};\n\t\tfactory(mod, mod.exports);\n\t\tglobal.autosize = mod.exports;\n\t}\n})(this, function (module, exports) {\n\t'use strict';\n\n\tvar map = typeof Map === \"function\" ? new Map() : function () {\n\t\tvar keys = [];\n\t\tvar values = [];\n\n\t\treturn {\n\t\t\thas: function has(key) {\n\t\t\t\treturn keys.indexOf(key) > -1;\n\t\t\t},\n\t\t\tget: function get(key) {\n\t\t\t\treturn values[keys.indexOf(key)];\n\t\t\t},\n\t\t\tset: function set(key, value) {\n\t\t\t\tif (keys.indexOf(key) === -1) {\n\t\t\t\t\tkeys.push(key);\n\t\t\t\t\tvalues.push(value);\n\t\t\t\t}\n\t\t\t},\n\t\t\tdelete: function _delete(key) {\n\t\t\t\tvar index = keys.indexOf(key);\n\t\t\t\tif (index > -1) {\n\t\t\t\t\tkeys.splice(index, 1);\n\t\t\t\t\tvalues.splice(index, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}();\n\n\tvar createEvent = function createEvent(name) {\n\t\treturn new Event(name, { bubbles: true });\n\t};\n\ttry {\n\t\tnew Event('test');\n\t} catch (e) {\n\t\t// IE does not support `new Event()`\n\t\tcreateEvent = function createEvent(name) {\n\t\t\tvar evt = document.createEvent('Event');\n\t\t\tevt.initEvent(name, true, false);\n\t\t\treturn evt;\n\t\t};\n\t}\n\n\tfunction assign(ta) {\n\t\tif (!ta || !ta.nodeName || ta.nodeName !== 'TEXTAREA' || map.has(ta)) return;\n\n\t\tvar heightOffset = null;\n\t\tvar clientWidth = null;\n\t\tvar cachedHeight = null;\n\n\t\tfunction init() {\n\t\t\tvar style = window.getComputedStyle(ta, null);\n\n\t\t\tif (style.resize === 'vertical') {\n\t\t\t\tta.style.resize = 'none';\n\t\t\t} else if (style.resize === 'both') {\n\t\t\t\tta.style.resize = 'horizontal';\n\t\t\t}\n\n\t\t\tif (style.boxSizing === 'content-box') {\n\t\t\t\theightOffset = -(parseFloat(style.paddingTop) + parseFloat(style.paddingBottom));\n\t\t\t} else {\n\t\t\t\theightOffset = parseFloat(style.borderTopWidth) + parseFloat(style.borderBottomWidth);\n\t\t\t}\n\t\t\t// Fix when a textarea is not on document body and heightOffset is Not a Number\n\t\t\tif (isNaN(heightOffset)) {\n\t\t\t\theightOffset = 0;\n\t\t\t}\n\n\t\t\tupdate();\n\t\t}\n\n\t\tfunction changeOverflow(value) {\n\t\t\t{\n\t\t\t\t// Chrome/Safari-specific fix:\n\t\t\t\t// When the textarea y-overflow is hidden, Chrome/Safari do not reflow the text to account for the space\n\t\t\t\t// made available by removing the scrollbar. The following forces the necessary text reflow.\n\t\t\t\tvar width = ta.style.width;\n\t\t\t\tta.style.width = '0px';\n\t\t\t\t// Force reflow:\n\t\t\t\t/* jshint ignore:start */\n\t\t\t\tta.offsetWidth;\n\t\t\t\t/* jshint ignore:end */\n\t\t\t\tta.style.width = width;\n\t\t\t}\n\n\t\t\tta.style.overflowY = value;\n\t\t}\n\n\t\tfunction getParentOverflows(el) {\n\t\t\tvar arr = [];\n\n\t\t\twhile (el && el.parentNode && el.parentNode instanceof Element) {\n\t\t\t\tif (el.parentNode.scrollTop) {\n\t\t\t\t\tarr.push({\n\t\t\t\t\t\tnode: el.parentNode,\n\t\t\t\t\t\tscrollTop: el.parentNode.scrollTop\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tel = el.parentNode;\n\t\t\t}\n\n\t\t\treturn arr;\n\t\t}\n\n\t\tfunction resize() {\n\t\t\tif (ta.scrollHeight === 0) {\n\t\t\t\t// If the scrollHeight is 0, then the element probably has display:none or is detached from the DOM.\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar overflows = getParentOverflows(ta);\n\t\t\tvar docTop = document.documentElement && document.documentElement.scrollTop; // Needed for Mobile IE (ticket #240)\n\n\t\t\tta.style.height = '';\n\t\t\tta.style.height = ta.scrollHeight + heightOffset + 'px';\n\n\t\t\t// used to check if an update is actually necessary on window.resize\n\t\t\tclientWidth = ta.clientWidth;\n\n\t\t\t// prevents scroll-position jumping\n\t\t\toverflows.forEach(function (el) {\n\t\t\t\tel.node.scrollTop = el.scrollTop;\n\t\t\t});\n\n\t\t\tif (docTop) {\n\t\t\t\tdocument.documentElement.scrollTop = docTop;\n\t\t\t}\n\t\t}\n\n\t\tfunction update() {\n\t\t\tresize();\n\n\t\t\tvar styleHeight = Math.round(parseFloat(ta.style.height));\n\t\t\tvar computed = window.getComputedStyle(ta, null);\n\n\t\t\t// Using offsetHeight as a replacement for computed.height in IE, because IE does not account use of border-box\n\t\t\tvar actualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(computed.height)) : ta.offsetHeight;\n\n\t\t\t// The actual height not matching the style height (set via the resize method) indicates that \n\t\t\t// the max-height has been exceeded, in which case the overflow should be allowed.\n\t\t\tif (actualHeight < styleHeight) {\n\t\t\t\tif (computed.overflowY === 'hidden') {\n\t\t\t\t\tchangeOverflow('scroll');\n\t\t\t\t\tresize();\n\t\t\t\t\tactualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(window.getComputedStyle(ta, null).height)) : ta.offsetHeight;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Normally keep overflow set to hidden, to avoid flash of scrollbar as the textarea expands.\n\t\t\t\tif (computed.overflowY !== 'hidden') {\n\t\t\t\t\tchangeOverflow('hidden');\n\t\t\t\t\tresize();\n\t\t\t\t\tactualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(window.getComputedStyle(ta, null).height)) : ta.offsetHeight;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (cachedHeight !== actualHeight) {\n\t\t\t\tcachedHeight = actualHeight;\n\t\t\t\tvar evt = createEvent('autosize:resized');\n\t\t\t\ttry {\n\t\t\t\t\tta.dispatchEvent(evt);\n\t\t\t\t} catch (err) {\n\t\t\t\t\t// Firefox will throw an error on dispatchEvent for a detached element\n\t\t\t\t\t// https://bugzilla.mozilla.org/show_bug.cgi?id=889376\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar pageResize = function pageResize() {\n\t\t\tif (ta.clientWidth !== clientWidth) {\n\t\t\t\tupdate();\n\t\t\t}\n\t\t};\n\n\t\tvar destroy = function (style) {\n\t\t\twindow.removeEventListener('resize', pageResize, false);\n\t\t\tta.removeEventListener('input', update, false);\n\t\t\tta.removeEventListener('keyup', update, false);\n\t\t\tta.removeEventListener('autosize:destroy', destroy, false);\n\t\t\tta.removeEventListener('autosize:update', update, false);\n\n\t\t\tObject.keys(style).forEach(function (key) {\n\t\t\t\tta.style[key] = style[key];\n\t\t\t});\n\n\t\t\tmap.delete(ta);\n\t\t}.bind(ta, {\n\t\t\theight: ta.style.height,\n\t\t\tresize: ta.style.resize,\n\t\t\toverflowY: ta.style.overflowY,\n\t\t\toverflowX: ta.style.overflowX,\n\t\t\twordWrap: ta.style.wordWrap\n\t\t});\n\n\t\tta.addEventListener('autosize:destroy', destroy, false);\n\n\t\t// IE9 does not fire onpropertychange or oninput for deletions,\n\t\t// so binding to onkeyup to catch most of those events.\n\t\t// There is no way that I know of to detect something like 'cut' in IE9.\n\t\tif ('onpropertychange' in ta && 'oninput' in ta) {\n\t\t\tta.addEventListener('keyup', update, false);\n\t\t}\n\n\t\twindow.addEventListener('resize', pageResize, false);\n\t\tta.addEventListener('input', update, false);\n\t\tta.addEventListener('autosize:update', update, false);\n\t\tta.style.overflowX = 'hidden';\n\t\tta.style.wordWrap = 'break-word';\n\n\t\tmap.set(ta, {\n\t\t\tdestroy: destroy,\n\t\t\tupdate: update\n\t\t});\n\n\t\tinit();\n\t}\n\n\tfunction destroy(ta) {\n\t\tvar methods = map.get(ta);\n\t\tif (methods) {\n\t\t\tmethods.destroy();\n\t\t}\n\t}\n\n\tfunction update(ta) {\n\t\tvar methods = map.get(ta);\n\t\tif (methods) {\n\t\t\tmethods.update();\n\t\t}\n\t}\n\n\tvar autosize = null;\n\n\t// Do nothing in Node.js environment and IE8 (or lower)\n\tif (typeof window === 'undefined' || typeof window.getComputedStyle !== 'function') {\n\t\tautosize = function autosize(el) {\n\t\t\treturn el;\n\t\t};\n\t\tautosize.destroy = function (el) {\n\t\t\treturn el;\n\t\t};\n\t\tautosize.update = function (el) {\n\t\t\treturn el;\n\t\t};\n\t} else {\n\t\tautosize = function autosize(el, options) {\n\t\t\tif (el) {\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], function (x) {\n\t\t\t\t\treturn assign(x, options);\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn el;\n\t\t};\n\t\tautosize.destroy = function (el) {\n\t\t\tif (el) {\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], destroy);\n\t\t\t}\n\t\t\treturn el;\n\t\t};\n\t\tautosize.update = function (el) {\n\t\t\tif (el) {\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], update);\n\t\t\t}\n\t\t\treturn el;\n\t\t};\n\t}\n\n\texports.default = autosize;\n\tmodule.exports = exports['default'];\n});","/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","// This code has been refactored for 140 bytes\n// You can see the original here: https://github.com/twolfson/computedStyle/blob/04cd1da2e30fa45844f95f5cb1ac898e9b9ef050/lib/computedStyle.js\nvar computedStyle = function (el, prop, getComputedStyle) {\n  getComputedStyle = window.getComputedStyle;\n\n  // In one fell swoop\n  return (\n    // If we have getComputedStyle\n    getComputedStyle ?\n      // Query it\n      // TODO: From CSS-Query notes, we might need (node, null) for FF\n      getComputedStyle(el) :\n\n    // Otherwise, we are in IE and use currentStyle\n      el.currentStyle\n  )[\n    // Switch to camelCase for CSSOM\n    // DEV: Grabbed from jQuery\n    // https://github.com/jquery/jquery/blob/1.9-stable/src/css.js#L191-L194\n    // https://github.com/jquery/jquery/blob/1.9-stable/src/core.js#L593-L597\n    prop.replace(/-(\\w)/gi, function (word, letter) {\n      return letter.toUpperCase();\n    })\n  ];\n};\n\nmodule.exports = computedStyle;\n","//download.js v4.2, by dandavis; 2008-2016. [MIT] see http://danml.com/download.html for tests/usage\n// v1 landed a FF+Chrome compat way of downloading strings to local un-named files, upgraded to use a hidden frame and optional mime\n// v2 added named files via a[download], msSaveBlob, IE (10+) support, and window.URL support for larger+faster saves than dataURLs\n// v3 added dataURL and Blob Input, bind-toggle arity, and legacy dataURL fallback was improved with force-download mime and base64 support. 3.1 improved safari handling.\n// v4 adds AMD/UMD, commonJS, and plain browser support\n// v4.1 adds url download capability via solo URL argument (same domain/CORS only)\n// v4.2 adds semantic variable names, long (over 2MB) dataURL support, and hidden by default temp anchors\n// https://github.com/rndme/download\n\n(function (root, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine([], factory);\n\t} else if (typeof exports === 'object') {\n\t\t// Node. Does not work with strict CommonJS, but\n\t\t// only CommonJS-like environments that support module.exports,\n\t\t// like Node.\n\t\tmodule.exports = factory();\n\t} else {\n\t\t// Browser globals (root is window)\n\t\troot.download = factory();\n  }\n}(this, function () {\n\n\treturn function download(data, strFileName, strMimeType) {\n\n\t\tvar self = window, // this script is only for browsers anyway...\n\t\t\tdefaultMime = \"application/octet-stream\", // this default mime also triggers iframe downloads\n\t\t\tmimeType = strMimeType || defaultMime,\n\t\t\tpayload = data,\n\t\t\turl = !strFileName && !strMimeType && payload,\n\t\t\tanchor = document.createElement(\"a\"),\n\t\t\ttoString = function(a){return String(a);},\n\t\t\tmyBlob = (self.Blob || self.MozBlob || self.WebKitBlob || toString),\n\t\t\tfileName = strFileName || \"download\",\n\t\t\tblob,\n\t\t\treader;\n\t\t\tmyBlob= myBlob.call ? myBlob.bind(self) : Blob ;\n\t  \n\t\tif(String(this)===\"true\"){ //reverse arguments, allowing download.bind(true, \"text/xml\", \"export.xml\") to act as a callback\n\t\t\tpayload=[payload, mimeType];\n\t\t\tmimeType=payload[0];\n\t\t\tpayload=payload[1];\n\t\t}\n\n\n\t\tif(url && url.length< 2048){ // if no filename and no mime, assume a url was passed as the only argument\n\t\t\tfileName = url.split(\"/\").pop().split(\"?\")[0];\n\t\t\tanchor.href = url; // assign href prop to temp anchor\n\t\t  \tif(anchor.href.indexOf(url) !== -1){ // if the browser determines that it's a potentially valid url path:\n        \t\tvar ajax=new XMLHttpRequest();\n        \t\tajax.open( \"GET\", url, true);\n        \t\tajax.responseType = 'blob';\n        \t\tajax.onload= function(e){ \n\t\t\t\t  download(e.target.response, fileName, defaultMime);\n\t\t\t\t};\n        \t\tsetTimeout(function(){ ajax.send();}, 0); // allows setting custom ajax headers using the return:\n\t\t\t    return ajax;\n\t\t\t} // end if valid url?\n\t\t} // end if url?\n\n\n\t\t//go ahead and download dataURLs right away\n\t\tif(/^data:([\\w+-]+\\/[\\w+.-]+)?[,;]/.test(payload)){\n\t\t\n\t\t\tif(payload.length > (1024*1024*1.999) && myBlob !== toString ){\n\t\t\t\tpayload=dataUrlToBlob(payload);\n\t\t\t\tmimeType=payload.type || defaultMime;\n\t\t\t}else{\t\t\t\n\t\t\t\treturn navigator.msSaveBlob ?  // IE10 can't do a[download], only Blobs:\n\t\t\t\t\tnavigator.msSaveBlob(dataUrlToBlob(payload), fileName) :\n\t\t\t\t\tsaver(payload) ; // everyone else can save dataURLs un-processed\n\t\t\t}\n\t\t\t\n\t\t}else{//not data url, is it a string with special needs?\n\t\t\tif(/([\\x80-\\xff])/.test(payload)){\t\t\t  \n\t\t\t\tvar i=0, tempUiArr= new Uint8Array(payload.length), mx=tempUiArr.length;\n\t\t\t\tfor(i;i<mx;++i) tempUiArr[i]= payload.charCodeAt(i);\n\t\t\t \tpayload=new myBlob([tempUiArr], {type: mimeType});\n\t\t\t}\t\t  \n\t\t}\n\t\tblob = payload instanceof myBlob ?\n\t\t\tpayload :\n\t\t\tnew myBlob([payload], {type: mimeType}) ;\n\n\n\t\tfunction dataUrlToBlob(strUrl) {\n\t\t\tvar parts= strUrl.split(/[:;,]/),\n\t\t\ttype= parts[1],\n\t\t\tdecoder= parts[2] == \"base64\" ? atob : decodeURIComponent,\n\t\t\tbinData= decoder( parts.pop() ),\n\t\t\tmx= binData.length,\n\t\t\ti= 0,\n\t\t\tuiArr= new Uint8Array(mx);\n\n\t\t\tfor(i;i<mx;++i) uiArr[i]= binData.charCodeAt(i);\n\n\t\t\treturn new myBlob([uiArr], {type: type});\n\t\t }\n\n\t\tfunction saver(url, winMode){\n\n\t\t\tif ('download' in anchor) { //html5 A[download]\n\t\t\t\tanchor.href = url;\n\t\t\t\tanchor.setAttribute(\"download\", fileName);\n\t\t\t\tanchor.className = \"download-js-link\";\n\t\t\t\tanchor.innerHTML = \"downloading...\";\n\t\t\t\tanchor.style.display = \"none\";\n\t\t\t\tdocument.body.appendChild(anchor);\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tanchor.click();\n\t\t\t\t\tdocument.body.removeChild(anchor);\n\t\t\t\t\tif(winMode===true){setTimeout(function(){ self.URL.revokeObjectURL(anchor.href);}, 250 );}\n\t\t\t\t}, 66);\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// handle non-a[download] safari as best we can:\n\t\t\tif(/(Version)\\/(\\d+)\\.(\\d+)(?:\\.(\\d+))?.*Safari\\//.test(navigator.userAgent)) {\n\t\t\t\tif(/^data:/.test(url))\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t\tif(!window.open(url)){ // popup blocked, offer direct download:\n\t\t\t\t\tif(confirm(\"Displaying New Document\\n\\nUse Save As... to download, then click back to return to this page.\")){ location.href=url; }\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t//do iframe dataURL download (old ch+FF):\n\t\t\tvar f = document.createElement(\"iframe\");\n\t\t\tdocument.body.appendChild(f);\n\n\t\t\tif(!winMode && /^data:/.test(url)){ // force a mime that will download:\n\t\t\t\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t}\n\t\t\tf.src=url;\n\t\t\tsetTimeout(function(){ document.body.removeChild(f); }, 333);\n\n\t\t}//end saver\n\n\n\n\n\t\tif (navigator.msSaveBlob) { // IE10+ : (has Blob, but not a[download] or URL)\n\t\t\treturn navigator.msSaveBlob(blob, fileName);\n\t\t}\n\n\t\tif(self.URL){ // simple fast and modern way using Blob and URL:\n\t\t\tsaver(self.URL.createObjectURL(blob), true);\n\t\t}else{\n\t\t\t// handle non-Blob()+non-URL browsers:\n\t\t\tif(typeof blob === \"string\" || blob.constructor===toString ){\n\t\t\t\ttry{\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \";base64,\"  +  self.btoa(blob)  );\n\t\t\t\t}catch(y){\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \",\" + encodeURIComponent(blob)  );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Blob but not URL support:\n\t\t\treader=new FileReader();\n\t\t\treader.onload=function(e){\n\t\t\t\tsaver(this.result);\n\t\t\t};\n\t\t\treader.readAsDataURL(blob);\n\t\t}\n\t\treturn true;\n\t}; /* end download() */\n}));\n","// Load in dependencies\nvar computedStyle = require('computed-style');\n\n/**\n * Calculate the `line-height` of a given node\n * @param {HTMLElement} node Element to calculate line height of. Must be in the DOM.\n * @returns {Number} `line-height` of the element in pixels\n */\nfunction lineHeight(node) {\n  // Grab the line-height via style\n  var lnHeightStr = computedStyle(node, 'line-height');\n  var lnHeight = parseFloat(lnHeightStr, 10);\n\n  // If the lineHeight did not contain a unit (i.e. it was numeric), convert it to ems (e.g. '2.3' === '2.3em')\n  if (lnHeightStr === lnHeight + '') {\n    // Save the old lineHeight style and update the em unit to the element\n    var _lnHeightStyle = node.style.lineHeight;\n    node.style.lineHeight = lnHeightStr + 'em';\n\n    // Calculate the em based height\n    lnHeightStr = computedStyle(node, 'line-height');\n    lnHeight = parseFloat(lnHeightStr, 10);\n\n    // Revert the lineHeight style\n    if (_lnHeightStyle) {\n      node.style.lineHeight = _lnHeightStyle;\n    } else {\n      delete node.style.lineHeight;\n    }\n  }\n\n  // If the lineHeight is in `pt`, convert it to pixels (4px for 3pt)\n  // DEV: `em` units are converted to `pt` in IE6\n  // Conversion ratio from https://developer.mozilla.org/en-US/docs/Web/CSS/length\n  if (lnHeightStr.indexOf('pt') !== -1) {\n    lnHeight *= 4;\n    lnHeight /= 3;\n  // Otherwise, if the lineHeight is in `mm`, convert it to pixels (96px for 25.4mm)\n  } else if (lnHeightStr.indexOf('mm') !== -1) {\n    lnHeight *= 96;\n    lnHeight /= 25.4;\n  // Otherwise, if the lineHeight is in `cm`, convert it to pixels (96px for 2.54cm)\n  } else if (lnHeightStr.indexOf('cm') !== -1) {\n    lnHeight *= 96;\n    lnHeight /= 2.54;\n  // Otherwise, if the lineHeight is in `in`, convert it to pixels (96px for 1in)\n  } else if (lnHeightStr.indexOf('in') !== -1) {\n    lnHeight *= 96;\n  // Otherwise, if the lineHeight is in `pc`, convert it to pixels (12pt for 1pc)\n  } else if (lnHeightStr.indexOf('pc') !== -1) {\n    lnHeight *= 16;\n  }\n\n  // Continue our computation\n  lnHeight = Math.round(lnHeight);\n\n  // If the line-height is \"normal\", calculate by font-size\n  if (lnHeightStr === 'normal') {\n    // Create a temporary node\n    var nodeName = node.nodeName;\n    var _node = document.createElement(nodeName);\n    _node.innerHTML = '&nbsp;';\n\n    // If we have a text area, reset it to only 1 row\n    // https://github.com/twolfson/line-height/issues/4\n    if (nodeName.toUpperCase() === 'TEXTAREA') {\n      _node.setAttribute('rows', '1');\n    }\n\n    // Set the font-size of the element\n    var fontSizeStr = computedStyle(node, 'font-size');\n    _node.style.fontSize = fontSizeStr;\n\n    // Remove default padding/border which can affect offset height\n    // https://github.com/twolfson/line-height/issues/4\n    // https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/offsetHeight\n    _node.style.padding = '0px';\n    _node.style.border = '0px';\n\n    // Append it to the body\n    var body = document.body;\n    body.appendChild(_node);\n\n    // Assume the line height of the element is the height\n    var height = _node.offsetHeight;\n    lnHeight = height;\n\n    // Remove our child from the DOM\n    body.removeChild(_node);\n  }\n\n  // Return the calculated height\n  return lnHeight;\n}\n\n// Export lineHeight\nmodule.exports = lineHeight;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nexports.__esModule = true;\nvar React = require(\"react\");\nvar PropTypes = require(\"prop-types\");\nvar autosize = require(\"autosize\");\nvar _getLineHeight = require(\"line-height\");\nvar getLineHeight = _getLineHeight;\nvar RESIZED = \"autosize:resized\";\n/**\n * A light replacement for built-in textarea component\n * which automaticaly adjusts its height to match the content\n */\nvar TextareaAutosizeClass = /** @class */ (function (_super) {\n    __extends(TextareaAutosizeClass, _super);\n    function TextareaAutosizeClass() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            lineHeight: null\n        };\n        _this.textarea = null;\n        _this.onResize = function (e) {\n            if (_this.props.onResize) {\n                _this.props.onResize(e);\n            }\n        };\n        _this.updateLineHeight = function () {\n            if (_this.textarea) {\n                _this.setState({\n                    lineHeight: getLineHeight(_this.textarea)\n                });\n            }\n        };\n        _this.onChange = function (e) {\n            var onChange = _this.props.onChange;\n            _this.currentValue = e.currentTarget.value;\n            onChange && onChange(e);\n        };\n        return _this;\n    }\n    TextareaAutosizeClass.prototype.componentDidMount = function () {\n        var _this = this;\n        var _a = this.props, maxRows = _a.maxRows, async = _a.async;\n        if (typeof maxRows === \"number\") {\n            this.updateLineHeight();\n        }\n        if (typeof maxRows === \"number\" || async) {\n            /*\n              the defer is needed to:\n                - force \"autosize\" to activate the scrollbar when this.props.maxRows is passed\n                - support StyledComponents (see #71)\n            */\n            setTimeout(function () { return _this.textarea && autosize(_this.textarea); });\n        }\n        else {\n            this.textarea && autosize(this.textarea);\n        }\n        if (this.textarea) {\n            this.textarea.addEventListener(RESIZED, this.onResize);\n        }\n    };\n    TextareaAutosizeClass.prototype.componentWillUnmount = function () {\n        if (this.textarea) {\n            this.textarea.removeEventListener(RESIZED, this.onResize);\n            autosize.destroy(this.textarea);\n        }\n    };\n    TextareaAutosizeClass.prototype.render = function () {\n        var _this = this;\n        var _a = this, _b = _a.props, onResize = _b.onResize, maxRows = _b.maxRows, onChange = _b.onChange, style = _b.style, innerRef = _b.innerRef, children = _b.children, props = __rest(_b, [\"onResize\", \"maxRows\", \"onChange\", \"style\", \"innerRef\", \"children\"]), lineHeight = _a.state.lineHeight;\n        var maxHeight = maxRows && lineHeight ? lineHeight * maxRows : null;\n        return (React.createElement(\"textarea\", __assign({}, props, { onChange: this.onChange, style: maxHeight ? __assign({}, style, { maxHeight: maxHeight }) : style, ref: function (element) {\n                _this.textarea = element;\n                if (typeof _this.props.innerRef === 'function') {\n                    _this.props.innerRef(element);\n                }\n                else if (_this.props.innerRef) {\n                    _this.props.innerRef.current = element;\n                }\n            } }), children));\n    };\n    TextareaAutosizeClass.prototype.componentDidUpdate = function () {\n        this.textarea && autosize.update(this.textarea);\n    };\n    TextareaAutosizeClass.defaultProps = {\n        rows: 1,\n        async: false\n    };\n    TextareaAutosizeClass.propTypes = {\n        rows: PropTypes.number,\n        maxRows: PropTypes.number,\n        onResize: PropTypes.func,\n        innerRef: PropTypes.any,\n        async: PropTypes.bool\n    };\n    return TextareaAutosizeClass;\n}(React.Component));\nexports.TextareaAutosize = React.forwardRef(function (props, ref) {\n    return React.createElement(TextareaAutosizeClass, __assign({}, props, { innerRef: ref }));\n});\n","\"use strict\";\nexports.__esModule = true;\nvar TextareaAutosize_1 = require(\"./TextareaAutosize\");\nexports[\"default\"] = TextareaAutosize_1.TextareaAutosize;\n","module.exports = window[\"React\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"element\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blocks\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blockLibrary\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"data\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"coreData\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"editor\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"i18n\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"viewport\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"url\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"hooks\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"mediaUtils\"];","/**\n * WordPress dependencies\n */\nimport { addFilter } from '@wordpress/hooks';\nimport { MediaUpload } from '@wordpress/media-utils';\n\naddFilter(\n\t'editor.MediaUpload',\n\t'core/edit-site/components/media-upload',\n\t() => MediaUpload\n);\n","export const PREFERENCES_DEFAULTS = {\n\tfeatures: {\n\t\twelcomeGuide: true,\n\t\twelcomeGuideStyles: true,\n\t},\n\teditorMode: 'visual',\n};\n","/**\n * The identifier for the data store.\n *\n * @type {string}\n */\nexport const STORE_NAME = 'core/edit-site';\n\nexport const TEMPLATE_PART_AREA_HEADER = 'header';\nexport const TEMPLATE_PART_AREA_FOOTER = 'footer';\nexport const TEMPLATE_PART_AREA_SIDEBAR = 'sidebar';\nexport const TEMPLATE_PART_AREA_GENERAL = 'uncategorized';\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport {\n\tTEMPLATE_PART_AREA_HEADER,\n\tTEMPLATE_PART_AREA_FOOTER,\n\tTEMPLATE_PART_AREA_SIDEBAR,\n\tTEMPLATE_PART_AREA_GENERAL,\n} from '../../../store/constants';\n\nexport const TEMPLATES_PRIMARY = [\n\t'index',\n\t'singular',\n\t'archive',\n\t'single',\n\t'page',\n\t'home',\n\t'404',\n\t'search',\n];\n\nexport const TEMPLATES_SECONDARY = [\n\t'author',\n\t'category',\n\t'taxonomy',\n\t'date',\n\t'tag',\n\t'attachment',\n\t'single-post',\n\t'front-page',\n];\n\nexport const TEMPLATES_TOP_LEVEL = [\n\t...TEMPLATES_PRIMARY,\n\t...TEMPLATES_SECONDARY,\n];\n\nexport const TEMPLATES_GENERAL = [ 'page-home' ];\n\nexport const TEMPLATES_POSTS_PREFIXES = [\n\t'post-',\n\t'author-',\n\t'single-post-',\n\t'tag-',\n];\n\nexport const TEMPLATES_PAGES_PREFIXES = [ 'page-' ];\n\nexport const TEMPLATE_OVERRIDES = {\n\tsingular: [ 'single', 'page' ],\n\tindex: [ 'archive', '404', 'search', 'singular', 'home' ],\n\thome: [ 'front-page' ],\n};\n\nexport const MENU_ROOT = 'root';\nexport const MENU_TEMPLATE_PARTS = 'template-parts';\nexport const MENU_TEMPLATES = 'templates';\nexport const MENU_TEMPLATES_GENERAL = 'templates-general';\nexport const MENU_TEMPLATES_PAGES = 'templates-pages';\nexport const MENU_TEMPLATES_POSTS = 'templates-posts';\nexport const MENU_TEMPLATES_UNUSED = 'templates-unused';\n\nexport const MENU_TEMPLATE_PARTS_HEADERS = 'template-parts-headers';\nexport const MENU_TEMPLATE_PARTS_FOOTERS = 'template-parts-footers';\nexport const MENU_TEMPLATE_PARTS_SIDEBARS = 'template-parts-sidebars';\nexport const MENU_TEMPLATE_PARTS_GENERAL = 'template-parts-general';\n\nexport const TEMPLATE_PARTS_SUB_MENUS = [\n\t{\n\t\tarea: TEMPLATE_PART_AREA_HEADER,\n\t\tmenu: MENU_TEMPLATE_PARTS_HEADERS,\n\t\ttitle: __( 'headers' ),\n\t},\n\t{\n\t\tarea: TEMPLATE_PART_AREA_FOOTER,\n\t\tmenu: MENU_TEMPLATE_PARTS_FOOTERS,\n\t\ttitle: __( 'footers' ),\n\t},\n\t{\n\t\tarea: TEMPLATE_PART_AREA_SIDEBAR,\n\t\tmenu: MENU_TEMPLATE_PARTS_SIDEBARS,\n\t\ttitle: __( 'sidebars' ),\n\t},\n\t{\n\t\tarea: TEMPLATE_PART_AREA_GENERAL,\n\t\tmenu: MENU_TEMPLATE_PARTS_GENERAL,\n\t\ttitle: __( 'general' ),\n\t},\n];\n","/**\n * WordPress dependencies\n */\nimport { combineReducers } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { PREFERENCES_DEFAULTS } from './defaults';\nimport { MENU_ROOT } from '../components/navigation-sidebar/navigation-panel/constants';\n\n/**\n * Reducer returning the user preferences.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n * @return {Object} Updated state.\n */\nexport const preferences = combineReducers( {\n\tfeatures( state = PREFERENCES_DEFAULTS.features, action ) {\n\t\tswitch ( action.type ) {\n\t\t\tcase 'TOGGLE_FEATURE': {\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\t[ action.feature ]: ! state[ action.feature ],\n\t\t\t\t};\n\t\t\t}\n\t\t\tdefault:\n\t\t\t\treturn state;\n\t\t}\n\t},\n\teditorMode( state = PREFERENCES_DEFAULTS.editorMode, action ) {\n\t\tif ( action.type === 'SWITCH_MODE' ) {\n\t\t\treturn action.mode;\n\t\t}\n\t\treturn state;\n\t},\n} );\n\n/**\n * Reducer returning the editing canvas device type.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function deviceType( state = 'Desktop', action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_PREVIEW_DEVICE_TYPE':\n\t\t\treturn action.deviceType;\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer returning the settings.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function settings( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'UPDATE_SETTINGS':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t...action.settings,\n\t\t\t};\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer keeping track of the currently edited Post Type,\n * Post Id and the context provided to fill the content of the block editor.\n *\n * @param {Object} state  Current edited post.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function editedPost( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_TEMPLATE':\n\t\tcase 'SET_PAGE':\n\t\t\treturn {\n\t\t\t\ttype: 'wp_template',\n\t\t\t\tid: action.templateId,\n\t\t\t\tpage: action.page,\n\t\t\t};\n\t\tcase 'SET_TEMPLATE_PART':\n\t\t\treturn {\n\t\t\t\ttype: 'wp_template_part',\n\t\t\t\tid: action.templatePartId,\n\t\t\t};\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer for information about the site's homepage.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function homeTemplateId( state, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_HOME_TEMPLATE':\n\t\t\treturn action.homeTemplateId;\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer for information about the navigation panel, such as its active menu\n * and whether it should be opened or closed.\n *\n * Note: this reducer interacts with the inserter and list view panels reducers\n * to make sure that only one of the three panels is open at the same time.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n */\nexport function navigationPanel(\n\tstate = { menu: MENU_ROOT, isOpen: false },\n\taction\n) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_NAVIGATION_PANEL_ACTIVE_MENU':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tmenu: action.menu,\n\t\t\t};\n\t\tcase 'OPEN_NAVIGATION_PANEL_TO_MENU':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisOpen: true,\n\t\t\t\tmenu: action.menu,\n\t\t\t};\n\t\tcase 'SET_IS_NAVIGATION_PANEL_OPENED':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tmenu: ! action.isOpen ? MENU_ROOT : state.menu, // Set menu to root when closing panel.\n\t\t\t\tisOpen: action.isOpen,\n\t\t\t};\n\t\tcase 'SET_IS_LIST_VIEW_OPENED':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tmenu: state.isOpen && action.isOpen ? MENU_ROOT : state.menu, // Set menu to root when closing panel.\n\t\t\t\tisOpen: action.isOpen ? false : state.isOpen,\n\t\t\t};\n\t\tcase 'SET_IS_INSERTER_OPENED':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tmenu: state.isOpen && action.value ? MENU_ROOT : state.menu, // Set menu to root when closing panel.\n\t\t\t\tisOpen: action.value ? false : state.isOpen,\n\t\t\t};\n\t}\n\treturn state;\n}\n\n/**\n * Reducer to set the block inserter panel open or closed.\n *\n * Note: this reducer interacts with the navigation and list view panels reducers\n * to make sure that only one of the three panels is open at the same time.\n *\n * @param {boolean|Object} state  Current state.\n * @param {Object}         action Dispatched action.\n */\nexport function blockInserterPanel( state = false, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'OPEN_NAVIGATION_PANEL_TO_MENU':\n\t\t\treturn false;\n\t\tcase 'SET_IS_NAVIGATION_PANEL_OPENED':\n\t\tcase 'SET_IS_LIST_VIEW_OPENED':\n\t\t\treturn action.isOpen ? false : state;\n\t\tcase 'SET_IS_INSERTER_OPENED':\n\t\t\treturn action.value;\n\t}\n\treturn state;\n}\n\n/**\n * Reducer to set the list view panel open or closed.\n *\n * Note: this reducer interacts with the navigation and inserter panels reducers\n * to make sure that only one of the three panels is open at the same time.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n */\nexport function listViewPanel( state = false, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'OPEN_NAVIGATION_PANEL_TO_MENU':\n\t\t\treturn false;\n\t\tcase 'SET_IS_NAVIGATION_PANEL_OPENED':\n\t\t\treturn action.isOpen ? false : state;\n\t\tcase 'SET_IS_INSERTER_OPENED':\n\t\t\treturn action.value ? false : state;\n\t\tcase 'SET_IS_LIST_VIEW_OPENED':\n\t\t\treturn action.isOpen;\n\t}\n\treturn state;\n}\n\nexport default combineReducers( {\n\tpreferences,\n\tdeviceType,\n\tsettings,\n\teditedPost,\n\thomeTemplateId,\n\tnavigationPanel,\n\tblockInserterPanel,\n\tlistViewPanel,\n} );\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"apiFetch\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"notices\"];","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"components\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"primitives\"];","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst check = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z\" />\n\t</SVG>\n);\n\nexport default check;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst starFilled = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M11.776 4.454a.25.25 0 01.448 0l2.069 4.192a.25.25 0 00.188.137l4.626.672a.25.25 0 01.139.426l-3.348 3.263a.25.25 0 00-.072.222l.79 4.607a.25.25 0 01-.362.263l-4.138-2.175a.25.25 0 00-.232 0l-4.138 2.175a.25.25 0 01-.363-.263l.79-4.607a.25.25 0 00-.071-.222L4.754 9.881a.25.25 0 01.139-.426l4.626-.672a.25.25 0 00.188-.137l2.069-4.192z\" />\n\t</SVG>\n);\n\nexport default starFilled;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst starEmpty = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path\n\t\t\tfillRule=\"evenodd\"\n\t\t\td=\"M9.706 8.646a.25.25 0 01-.188.137l-4.626.672a.25.25 0 00-.139.427l3.348 3.262a.25.25 0 01.072.222l-.79 4.607a.25.25 0 00.362.264l4.138-2.176a.25.25 0 01.233 0l4.137 2.175a.25.25 0 00.363-.263l-.79-4.607a.25.25 0 01.072-.222l3.347-3.262a.25.25 0 00-.139-.427l-4.626-.672a.25.25 0 01-.188-.137l-2.069-4.192a.25.25 0 00-.448 0L9.706 8.646zM12 7.39l-.948 1.921a1.75 1.75 0 01-1.317.957l-2.12.308 1.534 1.495c.412.402.6.982.503 1.55l-.362 2.11 1.896-.997a1.75 1.75 0 011.629 0l1.895.997-.362-2.11a1.75 1.75 0 01.504-1.55l1.533-1.495-2.12-.308a1.75 1.75 0 01-1.317-.957L12 7.39z\"\n\t\t\tclipRule=\"evenodd\"\n\t\t/>\n\t</SVG>\n);\n\nexport default starEmpty;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst closeSmall = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z\" />\n\t</SVG>\n);\n\nexport default closeSmall;\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"lodash\"];","/**\n * External dependencies\n */\nimport { get } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { combineReducers } from '@wordpress/data';\n\n/**\n * Reducer to keep tract of the active area per scope.\n *\n * @param {boolean} state           Previous state.\n * @param {Object}  action          Action object.\n * @param {string}  action.type     Action type.\n * @param {string}  action.itemType Type of item.\n * @param {string}  action.scope    Item scope.\n * @param {string}  action.item     Item name.\n *\n * @return {Object} Updated state.\n */\nexport function singleEnableItems(\n\tstate = {},\n\t{ type, itemType, scope, item }\n) {\n\tif ( type !== 'SET_SINGLE_ENABLE_ITEM' || ! itemType || ! scope ) {\n\t\treturn state;\n\t}\n\n\treturn {\n\t\t...state,\n\t\t[ itemType ]: {\n\t\t\t...state[ itemType ],\n\t\t\t[ scope ]: item || null,\n\t\t},\n\t};\n}\n\n/**\n * Reducer keeping track of the \"pinned\" items per scope.\n *\n * @param {boolean} state           Previous state.\n * @param {Object}  action          Action object.\n * @param {string}  action.type     Action type.\n * @param {string}  action.itemType Type of item.\n * @param {string}  action.scope    Item scope.\n * @param {string}  action.item     Item name.\n * @param {boolean} action.isEnable Whether the item is pinned.\n *\n * @return {Object} Updated state.\n */\nexport function multipleEnableItems(\n\tstate = {},\n\t{ type, itemType, scope, item, isEnable }\n) {\n\tif (\n\t\ttype !== 'SET_MULTIPLE_ENABLE_ITEM' ||\n\t\t! itemType ||\n\t\t! scope ||\n\t\t! item ||\n\t\tget( state, [ itemType, scope, item ] ) === isEnable\n\t) {\n\t\treturn state;\n\t}\n\tconst currentTypeState = state[ itemType ] || {};\n\tconst currentScopeState = currentTypeState[ scope ] || {};\n\n\treturn {\n\t\t...state,\n\t\t[ itemType ]: {\n\t\t\t...currentTypeState,\n\t\t\t[ scope ]: {\n\t\t\t\t...currentScopeState,\n\t\t\t\t[ item ]: isEnable || false,\n\t\t\t},\n\t\t},\n\t};\n}\n\n/**\n * Reducer returning the defaults for user preferences.\n *\n * This is kept intentionally separate from the preferences\n * themselves so that defaults are not persisted.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport const preferenceDefaults = combineReducers( {\n\tfeatures( state = {}, action ) {\n\t\tif ( action.type === 'SET_FEATURE_DEFAULTS' ) {\n\t\t\tconst { scope, defaults } = action;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ scope ]: {\n\t\t\t\t\t...state[ scope ],\n\t\t\t\t\t...defaults,\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\n\t\treturn state;\n\t},\n} );\n\n/**\n * Reducer returning the user preferences.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport const preferences = combineReducers( {\n\tfeatures( state = {}, action ) {\n\t\tif ( action.type === 'SET_FEATURE_VALUE' ) {\n\t\t\tconst { scope, featureName, value } = action;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ scope ]: {\n\t\t\t\t\t...state[ scope ],\n\t\t\t\t\t[ featureName ]: value,\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\n\t\treturn state;\n\t},\n} );\n\nconst enableItems = combineReducers( {\n\tsingleEnableItems,\n\tmultipleEnableItems,\n} );\n\nexport default combineReducers( {\n\tenableItems,\n\tpreferenceDefaults,\n\tpreferences,\n} );\n","/**\n * Returns an action object used in signalling that an active area should be changed.\n *\n * @param {string} itemType Type of item.\n * @param {string} scope    Item scope.\n * @param {string} item     Item identifier.\n *\n * @return {Object} Action object.\n */\nfunction setSingleEnableItem( itemType, scope, item ) {\n\treturn {\n\t\ttype: 'SET_SINGLE_ENABLE_ITEM',\n\t\titemType,\n\t\tscope,\n\t\titem,\n\t};\n}\n\n/**\n * Returns an action object used in signalling that a complementary item should be enabled.\n *\n * @param {string} scope Complementary area scope.\n * @param {string} area  Area identifier.\n *\n * @return {Object} Action object.\n */\nexport function enableComplementaryArea( scope, area ) {\n\treturn setSingleEnableItem( 'complementaryArea', scope, area );\n}\n\n/**\n * Returns an action object used in signalling that the complementary area of a given scope should be disabled.\n *\n * @param {string} scope Complementary area scope.\n *\n * @return {Object} Action object.\n */\nexport function disableComplementaryArea( scope ) {\n\treturn setSingleEnableItem( 'complementaryArea', scope, undefined );\n}\n\n/**\n * Returns an action object to make an area enabled/disabled.\n *\n * @param {string}  itemType Type of item.\n * @param {string}  scope    Item scope.\n * @param {string}  item     Item identifier.\n * @param {boolean} isEnable Boolean indicating if an area should be pinned or not.\n *\n * @return {Object} Action object.\n */\nfunction setMultipleEnableItem( itemType, scope, item, isEnable ) {\n\treturn {\n\t\ttype: 'SET_MULTIPLE_ENABLE_ITEM',\n\t\titemType,\n\t\tscope,\n\t\titem,\n\t\tisEnable,\n\t};\n}\n\n/**\n * Returns an action object used in signalling that an item should be pinned.\n *\n * @param {string} scope  Item scope.\n * @param {string} itemId Item identifier.\n *\n * @return {Object} Action object.\n */\nexport function pinItem( scope, itemId ) {\n\treturn setMultipleEnableItem( 'pinnedItems', scope, itemId, true );\n}\n\n/**\n * Returns an action object used in signalling that an item should be unpinned.\n *\n * @param {string} scope  Item scope.\n * @param {string} itemId Item identifier.\n *\n * @return {Object} Action object.\n */\nexport function unpinItem( scope, itemId ) {\n\treturn setMultipleEnableItem( 'pinnedItems', scope, itemId, false );\n}\n\n/**\n * Returns an action object used in signalling that a feature should be toggled.\n *\n * @param {string} scope       The feature scope (e.g. core/edit-post).\n * @param {string} featureName The feature name.\n */\nexport function toggleFeature( scope, featureName ) {\n\treturn function ( { select, dispatch } ) {\n\t\tconst currentValue = select.isFeatureActive( scope, featureName );\n\t\tdispatch.setFeatureValue( scope, featureName, ! currentValue );\n\t};\n}\n\n/**\n * Returns an action object used in signalling that a feature should be set to\n * a true or false value\n *\n * @param {string}  scope       The feature scope (e.g. core/edit-post).\n * @param {string}  featureName The feature name.\n * @param {boolean} value       The value to set.\n *\n * @return {Object} Action object.\n */\nexport function setFeatureValue( scope, featureName, value ) {\n\treturn {\n\t\ttype: 'SET_FEATURE_VALUE',\n\t\tscope,\n\t\tfeatureName,\n\t\tvalue: !! value,\n\t};\n}\n\n/**\n * Returns an action object used in signalling that defaults should be set for features.\n *\n * @param {string}                  scope    The feature scope (e.g. core/edit-post).\n * @param {Object<string, boolean>} defaults A key/value map of feature names to values.\n *\n * @return {Object} Action object.\n */\nexport function setFeatureDefaults( scope, defaults ) {\n\treturn {\n\t\ttype: 'SET_FEATURE_DEFAULTS',\n\t\tscope,\n\t\tdefaults,\n\t};\n}\n","/**\n * External dependencies\n */\nimport { get } from 'lodash';\n\n/**\n * Returns the item that is enabled in a given scope.\n *\n * @param {Object} state    Global application state.\n * @param {string} itemType Type of item.\n * @param {string} scope    Item scope.\n *\n * @return {?string|null} The item that is enabled in the passed scope and type.\n */\nfunction getSingleEnableItem( state, itemType, scope ) {\n\treturn get( state.enableItems.singleEnableItems, [ itemType, scope ] );\n}\n\n/**\n * Returns the complementary area that is active in a given scope.\n *\n * @param {Object} state Global application state.\n * @param {string} scope Item scope.\n *\n * @return {string} The complementary area that is active in the given scope.\n */\nexport function getActiveComplementaryArea( state, scope ) {\n\treturn getSingleEnableItem( state, 'complementaryArea', scope );\n}\n\n/**\n * Returns a boolean indicating if an item is enabled or not in a given scope.\n *\n * @param {Object} state    Global application state.\n * @param {string} itemType Type of item.\n * @param {string} scope    Scope.\n * @param {string} item     Item to check.\n *\n * @return {boolean|undefined} True if the item is enabled, false otherwise if the item is explicitly disabled, and undefined if there is no information for that item.\n */\nfunction isMultipleEnabledItemEnabled( state, itemType, scope, item ) {\n\treturn get( state.enableItems.multipleEnableItems, [\n\t\titemType,\n\t\tscope,\n\t\titem,\n\t] );\n}\n\n/**\n * Returns a boolean indicating if an item is pinned or not.\n *\n * @param {Object} state Global application state.\n * @param {string} scope Scope.\n * @param {string} item  Item to check.\n *\n * @return {boolean} True if the item is pinned and false otherwise.\n */\nexport function isItemPinned( state, scope, item ) {\n\treturn (\n\t\tisMultipleEnabledItemEnabled( state, 'pinnedItems', scope, item ) !==\n\t\tfalse\n\t);\n}\n\n/**\n * Returns a boolean indicating whether a feature is active for a particular\n * scope.\n *\n * @param {Object} state       The store state.\n * @param {string} scope       The scope of the feature (e.g. core/edit-post).\n * @param {string} featureName The name of the feature.\n *\n * @return {boolean} Is the feature enabled?\n */\nexport function isFeatureActive( state, scope, featureName ) {\n\tconst featureValue = state.preferences.features[ scope ]?.[ featureName ];\n\tconst defaultedFeatureValue =\n\t\tfeatureValue !== undefined\n\t\t\t? featureValue\n\t\t\t: state.preferenceDefaults.features[ scope ]?.[ featureName ];\n\n\treturn !! defaultedFeatureValue;\n}\n","/**\n * The identifier for the data store.\n *\n * @type {string}\n */\nexport const STORE_NAME = 'core/interface';\n","/**\n * WordPress dependencies\n */\nimport { createReduxStore, registerStore } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport reducer from './reducer';\nimport * as actions from './actions';\nimport * as selectors from './selectors';\nimport { STORE_NAME } from './constants';\n\nconst storeConfig = {\n\treducer,\n\tactions,\n\tselectors,\n\tpersist: [ 'enableItems', 'preferences' ],\n};\n\n/**\n * Store definition for the interface namespace.\n *\n * @see https://github.com/WordPress/gutenberg/blob/HEAD/packages/data/README.md#createReduxStore\n *\n * @type {Object}\n */\nexport const store = createReduxStore( STORE_NAME, storeConfig );\n\n// Once we build a more generic persistence plugin that works across types of stores\n// we'd be able to replace this with a register call.\nregisterStore( STORE_NAME, storeConfig );\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"plugins\"];","/**\n * WordPress dependencies\n */\nimport { withPluginContext } from '@wordpress/plugins';\n\nexport default withPluginContext( ( context, ownProps ) => {\n\treturn {\n\t\ticon: ownProps.icon || context.icon,\n\t\tidentifier:\n\t\t\townProps.identifier || `${ context.name }/${ ownProps.name }`,\n\t};\n} );\n","/**\n * External dependencies\n */\nimport { omit } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { Button } from '@wordpress/components';\nimport { useDispatch, useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as interfaceStore } from '../../store';\nimport complementaryAreaContext from '../complementary-area-context';\n\nfunction ComplementaryAreaToggle( {\n\tas = Button,\n\tscope,\n\tidentifier,\n\ticon,\n\tselectedIcon,\n\t...props\n} ) {\n\tconst ComponentToUse = as;\n\tconst isSelected = useSelect(\n\t\t( select ) =>\n\t\t\tselect( interfaceStore ).getActiveComplementaryArea( scope ) ===\n\t\t\tidentifier,\n\t\t[ identifier ]\n\t);\n\tconst { enableComplementaryArea, disableComplementaryArea } = useDispatch(\n\t\tinterfaceStore\n\t);\n\treturn (\n\t\t<ComponentToUse\n\t\t\ticon={ selectedIcon && isSelected ? selectedIcon : icon }\n\t\t\tonClick={ () => {\n\t\t\t\tif ( isSelected ) {\n\t\t\t\t\tdisableComplementaryArea( scope );\n\t\t\t\t} else {\n\t\t\t\t\tenableComplementaryArea( scope, identifier );\n\t\t\t\t}\n\t\t\t} }\n\t\t\t{ ...omit( props, [ 'name' ] ) }\n\t\t/>\n\t);\n}\n\nexport default complementaryAreaContext( ComplementaryAreaToggle );\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { closeSmall } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport ComplementaryAreaToggle from '../complementary-area-toggle';\n\nconst ComplementaryAreaHeader = ( {\n\tsmallScreenTitle,\n\tchildren,\n\tclassName,\n\ttoggleButtonProps,\n} ) => {\n\tconst toggleButton = (\n\t\t<ComplementaryAreaToggle icon={ closeSmall } { ...toggleButtonProps } />\n\t);\n\treturn (\n\t\t<>\n\t\t\t<div className=\"components-panel__header interface-complementary-area-header__small\">\n\t\t\t\t{ smallScreenTitle && (\n\t\t\t\t\t<span className=\"interface-complementary-area-header__small-title\">\n\t\t\t\t\t\t{ smallScreenTitle }\n\t\t\t\t\t</span>\n\t\t\t\t) }\n\t\t\t\t{ toggleButton }\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tclassName={ classnames(\n\t\t\t\t\t'components-panel__header',\n\t\t\t\t\t'interface-complementary-area-header',\n\t\t\t\t\tclassName\n\t\t\t\t) }\n\t\t\t\ttabIndex={ -1 }\n\t\t\t>\n\t\t\t\t{ children }\n\t\t\t\t{ toggleButton }\n\t\t\t</div>\n\t\t</>\n\t);\n};\n\nexport default ComplementaryAreaHeader;\n","/**\n * External dependencies\n */\nimport { isEmpty, noop } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { ButtonGroup, Button, Slot, Fill } from '@wordpress/components';\nimport { Children } from '@wordpress/element';\n\nfunction ActionItemSlot( {\n\tname,\n\tas: Component = ButtonGroup,\n\tfillProps = {},\n\tbubblesVirtually,\n\t...props\n} ) {\n\treturn (\n\t\t<Slot\n\t\t\tname={ name }\n\t\t\tbubblesVirtually={ bubblesVirtually }\n\t\t\tfillProps={ fillProps }\n\t\t>\n\t\t\t{ ( fills ) => {\n\t\t\t\tif ( isEmpty( Children.toArray( fills ) ) ) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\t// Special handling exists for backward compatibility.\n\t\t\t\t// It ensures that menu items created by plugin authors aren't\n\t\t\t\t// duplicated with automatically injected menu items coming\n\t\t\t\t// from pinnable plugin sidebars.\n\t\t\t\t// @see https://github.com/WordPress/gutenberg/issues/14457\n\t\t\t\tconst initializedByPlugins = [];\n\t\t\t\tChildren.forEach(\n\t\t\t\t\tfills,\n\t\t\t\t\t( {\n\t\t\t\t\t\tprops: { __unstableExplicitMenuItem, __unstableTarget },\n\t\t\t\t\t} ) => {\n\t\t\t\t\t\tif ( __unstableTarget && __unstableExplicitMenuItem ) {\n\t\t\t\t\t\t\tinitializedByPlugins.push( __unstableTarget );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\tconst children = Children.map( fills, ( child ) => {\n\t\t\t\t\tif (\n\t\t\t\t\t\t! child.props.__unstableExplicitMenuItem &&\n\t\t\t\t\t\tinitializedByPlugins.includes(\n\t\t\t\t\t\t\tchild.props.__unstableTarget\n\t\t\t\t\t\t)\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t\treturn child;\n\t\t\t\t} );\n\n\t\t\t\treturn <Component { ...props }>{ children }</Component>;\n\t\t\t} }\n\t\t</Slot>\n\t);\n}\n\nfunction ActionItem( { name, as: Component = Button, onClick, ...props } ) {\n\treturn (\n\t\t<Fill name={ name }>\n\t\t\t{ ( { onClick: fpOnClick } ) => {\n\t\t\t\treturn (\n\t\t\t\t\t<Component\n\t\t\t\t\t\tonClick={\n\t\t\t\t\t\t\tonClick || fpOnClick\n\t\t\t\t\t\t\t\t? ( ...args ) => {\n\t\t\t\t\t\t\t\t\t\t( onClick || noop )( ...args );\n\t\t\t\t\t\t\t\t\t\t( fpOnClick || noop )( ...args );\n\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{ ...props }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} }\n\t\t</Fill>\n\t);\n}\n\nActionItem.Slot = ActionItemSlot;\n\nexport default ActionItem;\n","/**\n * External dependencies\n */\nimport { omit } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { check } from '@wordpress/icons';\nimport { MenuItem } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport ComplementaryAreaToggle from '../complementary-area-toggle';\nimport ActionItem from '../action-item';\n\nconst PluginsMenuItem = ( props ) => (\n\t// Menu item is marked with unstable prop for backward compatibility.\n\t// They are removed so they don't leak to DOM elements.\n\t// @see https://github.com/WordPress/gutenberg/issues/14457\n\t<MenuItem\n\t\t{ ...omit( props, [\n\t\t\t'__unstableExplicitMenuItem',\n\t\t\t'__unstableTarget',\n\t\t] ) }\n\t/>\n);\n\nexport default function ComplementaryAreaMoreMenuItem( {\n\tscope,\n\ttarget,\n\t__unstableExplicitMenuItem,\n\t...props\n} ) {\n\treturn (\n\t\t<ComplementaryAreaToggle\n\t\t\tas={ ( toggleProps ) => {\n\t\t\t\treturn (\n\t\t\t\t\t<ActionItem\n\t\t\t\t\t\t__unstableExplicitMenuItem={\n\t\t\t\t\t\t\t__unstableExplicitMenuItem\n\t\t\t\t\t\t}\n\t\t\t\t\t\t__unstableTarget={ `${ scope }/${ target }` }\n\t\t\t\t\t\tas={ PluginsMenuItem }\n\t\t\t\t\t\tname={ `${ scope }/plugin-more-menu` }\n\t\t\t\t\t\t{ ...toggleProps }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} }\n\t\t\trole=\"menuitemcheckbox\"\n\t\t\tselectedIcon={ check }\n\t\t\tname={ target }\n\t\t\tscope={ scope }\n\t\t\t{ ...props }\n\t\t/>\n\t);\n}\n","/**\n * External dependencies\n */\nimport { isEmpty } from 'lodash';\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { Slot, Fill } from '@wordpress/components';\n\nfunction PinnedItems( { scope, ...props } ) {\n\treturn <Fill name={ `PinnedItems/${ scope }` } { ...props } />;\n}\n\nfunction PinnedItemsSlot( { scope, className, ...props } ) {\n\treturn (\n\t\t<Slot name={ `PinnedItems/${ scope }` } { ...props }>\n\t\t\t{ ( fills ) =>\n\t\t\t\t! isEmpty( fills ) && (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t\tclassName,\n\t\t\t\t\t\t\t'interface-pinned-items'\n\t\t\t\t\t\t) }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ fills }\n\t\t\t\t\t</div>\n\t\t\t\t)\n\t\t\t}\n\t\t</Slot>\n\t);\n}\n\nPinnedItems.Slot = PinnedItemsSlot;\n\nexport default PinnedItems;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { Button, Panel, Slot, Fill } from '@wordpress/components';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { check, starEmpty, starFilled } from '@wordpress/icons';\nimport { useEffect, useRef } from '@wordpress/element';\nimport { store as viewportStore } from '@wordpress/viewport';\n\n/**\n * Internal dependencies\n */\nimport ComplementaryAreaHeader from '../complementary-area-header';\nimport ComplementaryAreaMoreMenuItem from '../complementary-area-more-menu-item';\nimport ComplementaryAreaToggle from '../complementary-area-toggle';\nimport withComplementaryAreaContext from '../complementary-area-context';\nimport PinnedItems from '../pinned-items';\nimport { store as interfaceStore } from '../../store';\n\nfunction ComplementaryAreaSlot( { scope, ...props } ) {\n\treturn <Slot name={ `ComplementaryArea/${ scope }` } { ...props } />;\n}\n\nfunction ComplementaryAreaFill( { scope, children, className } ) {\n\treturn (\n\t\t<Fill name={ `ComplementaryArea/${ scope }` }>\n\t\t\t<div className={ className }>{ children }</div>\n\t\t</Fill>\n\t);\n}\n\nfunction useAdjustComplementaryListener(\n\tscope,\n\tidentifier,\n\tactiveArea,\n\tisActive,\n\tisSmall\n) {\n\tconst previousIsSmall = useRef( false );\n\tconst shouldOpenWhenNotSmall = useRef( false );\n\tconst { enableComplementaryArea, disableComplementaryArea } = useDispatch(\n\t\tinterfaceStore\n\t);\n\tuseEffect( () => {\n\t\t// If the complementary area is active and the editor is switching from a big to a small window size.\n\t\tif ( isActive && isSmall && ! previousIsSmall.current ) {\n\t\t\t// Disable the complementary area.\n\t\t\tdisableComplementaryArea( scope );\n\t\t\t// Flag the complementary area to be reopened when the window size goes from small to big.\n\t\t\tshouldOpenWhenNotSmall.current = true;\n\t\t} else if (\n\t\t\t// If there is a flag indicating the complementary area should be enabled when we go from small to big window size\n\t\t\t// and we are going from a small to big window size.\n\t\t\tshouldOpenWhenNotSmall.current &&\n\t\t\t! isSmall &&\n\t\t\tpreviousIsSmall.current\n\t\t) {\n\t\t\t// Remove the flag indicating the complementary area should be enabled.\n\t\t\tshouldOpenWhenNotSmall.current = false;\n\t\t\t// Enable the complementary area.\n\t\t\tenableComplementaryArea( scope, identifier );\n\t\t} else if (\n\t\t\t// If the flag is indicating the current complementary should be reopened but another complementary area becomes active,\n\t\t\t// remove the flag.\n\t\t\tshouldOpenWhenNotSmall.current &&\n\t\t\tactiveArea &&\n\t\t\tactiveArea !== identifier\n\t\t) {\n\t\t\tshouldOpenWhenNotSmall.current = false;\n\t\t}\n\t\tif ( isSmall !== previousIsSmall.current ) {\n\t\t\tpreviousIsSmall.current = isSmall;\n\t\t}\n\t}, [ isActive, isSmall, scope, identifier, activeArea ] );\n}\n\nfunction ComplementaryArea( {\n\tchildren,\n\tclassName,\n\tcloseLabel = __( 'Close plugin' ),\n\tidentifier,\n\theader,\n\theaderClassName,\n\ticon,\n\tisPinnable = true,\n\tpanelClassName,\n\tscope,\n\tname,\n\tsmallScreenTitle,\n\ttitle,\n\ttoggleShortcut,\n\tisActiveByDefault,\n\tshowIconLabels = false,\n} ) {\n\tconst { isActive, isPinned, activeArea, isSmall, isLarge } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getActiveComplementaryArea, isItemPinned } = select(\n\t\t\t\tinterfaceStore\n\t\t\t);\n\t\t\tconst _activeArea = getActiveComplementaryArea( scope );\n\t\t\treturn {\n\t\t\t\tisActive: _activeArea === identifier,\n\t\t\t\tisPinned: isItemPinned( scope, identifier ),\n\t\t\t\tactiveArea: _activeArea,\n\t\t\t\tisSmall: select( viewportStore ).isViewportMatch( '< medium' ),\n\t\t\t\tisLarge: select( viewportStore ).isViewportMatch( 'large' ),\n\t\t\t};\n\t\t},\n\t\t[ identifier, scope ]\n\t);\n\tuseAdjustComplementaryListener(\n\t\tscope,\n\t\tidentifier,\n\t\tactiveArea,\n\t\tisActive,\n\t\tisSmall\n\t);\n\tconst {\n\t\tenableComplementaryArea,\n\t\tdisableComplementaryArea,\n\t\tpinItem,\n\t\tunpinItem,\n\t} = useDispatch( interfaceStore );\n\n\tuseEffect( () => {\n\t\tif ( isActiveByDefault && activeArea === undefined && ! isSmall ) {\n\t\t\tenableComplementaryArea( scope, identifier );\n\t\t}\n\t}, [ activeArea, isActiveByDefault, scope, identifier, isSmall ] );\n\n\treturn (\n\t\t<>\n\t\t\t{ isPinnable && (\n\t\t\t\t<PinnedItems scope={ scope }>\n\t\t\t\t\t{ isPinned && (\n\t\t\t\t\t\t<ComplementaryAreaToggle\n\t\t\t\t\t\t\tscope={ scope }\n\t\t\t\t\t\t\tidentifier={ identifier }\n\t\t\t\t\t\t\tisPressed={\n\t\t\t\t\t\t\t\tisActive && ( ! showIconLabels || isLarge )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\taria-expanded={ isActive }\n\t\t\t\t\t\t\tlabel={ title }\n\t\t\t\t\t\t\ticon={ showIconLabels ? check : icon }\n\t\t\t\t\t\t\tshowTooltip={ ! showIconLabels }\n\t\t\t\t\t\t\tvariant={ showIconLabels ? 'tertiary' : undefined }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</PinnedItems>\n\t\t\t) }\n\t\t\t{ name && isPinnable && (\n\t\t\t\t<ComplementaryAreaMoreMenuItem\n\t\t\t\t\ttarget={ name }\n\t\t\t\t\tscope={ scope }\n\t\t\t\t\ticon={ icon }\n\t\t\t\t>\n\t\t\t\t\t{ title }\n\t\t\t\t</ComplementaryAreaMoreMenuItem>\n\t\t\t) }\n\t\t\t{ isActive && (\n\t\t\t\t<ComplementaryAreaFill\n\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t'interface-complementary-area',\n\t\t\t\t\t\tclassName\n\t\t\t\t\t) }\n\t\t\t\t\tscope={ scope }\n\t\t\t\t>\n\t\t\t\t\t<ComplementaryAreaHeader\n\t\t\t\t\t\tclassName={ headerClassName }\n\t\t\t\t\t\tcloseLabel={ closeLabel }\n\t\t\t\t\t\tonClose={ () => disableComplementaryArea( scope ) }\n\t\t\t\t\t\tsmallScreenTitle={ smallScreenTitle }\n\t\t\t\t\t\ttoggleButtonProps={ {\n\t\t\t\t\t\t\tlabel: closeLabel,\n\t\t\t\t\t\t\tshortcut: toggleShortcut,\n\t\t\t\t\t\t\tscope,\n\t\t\t\t\t\t\tidentifier,\n\t\t\t\t\t\t} }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ header || (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<strong>{ title }</strong>\n\t\t\t\t\t\t\t\t{ isPinnable && (\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tclassName=\"interface-complementary-area__pin-unpin-item\"\n\t\t\t\t\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t\t\t\t\tisPinned ? starFilled : starEmpty\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t\t\t\t\tisPinned\n\t\t\t\t\t\t\t\t\t\t\t\t? __( 'Unpin from toolbar' )\n\t\t\t\t\t\t\t\t\t\t\t\t: __( 'Pin to toolbar' )\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\t\t\t\t\t( isPinned ? unpinItem : pinItem )(\n\t\t\t\t\t\t\t\t\t\t\t\tscope,\n\t\t\t\t\t\t\t\t\t\t\t\tidentifier\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tisPressed={ isPinned }\n\t\t\t\t\t\t\t\t\t\taria-expanded={ isPinned }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</ComplementaryAreaHeader>\n\t\t\t\t\t<Panel className={ panelClassName }>{ children }</Panel>\n\t\t\t\t</ComplementaryAreaFill>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nconst ComplementaryAreaWrapped = withComplementaryAreaContext(\n\tComplementaryArea\n);\n\nComplementaryAreaWrapped.Slot = ComplementaryAreaSlot;\n\nexport default ComplementaryAreaWrapped;\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"compose\"];","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\n/**\n * WordPress dependencies\n */\nimport { forwardRef, useEffect } from '@wordpress/element';\nimport { __unstableUseNavigateRegions as useNavigateRegions } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useMergeRefs } from '@wordpress/compose';\n\nfunction useHTMLClass( className ) {\n\tuseEffect( () => {\n\t\tconst element =\n\t\t\tdocument && document.querySelector( `html:not(.${ className })` );\n\t\tif ( ! element ) {\n\t\t\treturn;\n\t\t}\n\t\telement.classList.toggle( className );\n\t\treturn () => {\n\t\t\telement.classList.toggle( className );\n\t\t};\n\t}, [ className ] );\n}\n\nfunction InterfaceSkeleton(\n\t{\n\t\tfooter,\n\t\theader,\n\t\tsidebar,\n\t\tsecondarySidebar,\n\t\tnotices,\n\t\tcontent,\n\t\tdrawer,\n\t\tactions,\n\t\tlabels,\n\t\tclassName,\n\t\tshortcuts,\n\t},\n\tref\n) {\n\tconst navigateRegionsProps = useNavigateRegions( shortcuts );\n\n\tuseHTMLClass( 'interface-interface-skeleton__html-container' );\n\n\tconst defaultLabels = {\n\t\t/* translators: accessibility text for the nav bar landmark region. */\n\t\tdrawer: __( 'Drawer' ),\n\t\t/* translators: accessibility text for the top bar landmark region. */\n\t\theader: __( 'Header' ),\n\t\t/* translators: accessibility text for the content landmark region. */\n\t\tbody: __( 'Content' ),\n\t\t/* translators: accessibility text for the secondary sidebar landmark region. */\n\t\tsecondarySidebar: __( 'Block Library' ),\n\t\t/* translators: accessibility text for the settings landmark region. */\n\t\tsidebar: __( 'Settings' ),\n\t\t/* translators: accessibility text for the publish landmark region. */\n\t\tactions: __( 'Publish' ),\n\t\t/* translators: accessibility text for the footer landmark region. */\n\t\tfooter: __( 'Footer' ),\n\t};\n\n\tconst mergedLabels = { ...defaultLabels, ...labels };\n\n\treturn (\n\t\t<div\n\t\t\t{ ...navigateRegionsProps }\n\t\t\tref={ useMergeRefs( [ ref, navigateRegionsProps.ref ] ) }\n\t\t\tclassName={ classnames(\n\t\t\t\tclassName,\n\t\t\t\t'interface-interface-skeleton',\n\t\t\t\tnavigateRegionsProps.className,\n\t\t\t\t!! footer && 'has-footer'\n\t\t\t) }\n\t\t>\n\t\t\t{ !! drawer && (\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"interface-interface-skeleton__drawer\"\n\t\t\t\t\trole=\"region\"\n\t\t\t\t\taria-label={ mergedLabels.drawer }\n\t\t\t\t\ttabIndex=\"-1\"\n\t\t\t\t>\n\t\t\t\t\t{ drawer }\n\t\t\t\t</div>\n\t\t\t) }\n\t\t\t<div className=\"interface-interface-skeleton__editor\">\n\t\t\t\t{ !! header && (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"interface-interface-skeleton__header\"\n\t\t\t\t\t\trole=\"region\"\n\t\t\t\t\t\taria-label={ mergedLabels.header }\n\t\t\t\t\t\ttabIndex=\"-1\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ header }\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t\t<div className=\"interface-interface-skeleton__body\">\n\t\t\t\t\t{ !! secondarySidebar && (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName=\"interface-interface-skeleton__secondary-sidebar\"\n\t\t\t\t\t\t\trole=\"region\"\n\t\t\t\t\t\t\taria-label={ mergedLabels.secondarySidebar }\n\t\t\t\t\t\t\ttabIndex=\"-1\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ secondarySidebar }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) }\n\t\t\t\t\t{ !! notices && (\n\t\t\t\t\t\t<div className=\"interface-interface-skeleton__notices\">\n\t\t\t\t\t\t\t{ notices }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) }\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"interface-interface-skeleton__content\"\n\t\t\t\t\t\trole=\"region\"\n\t\t\t\t\t\taria-label={ mergedLabels.body }\n\t\t\t\t\t\ttabIndex=\"-1\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ content }\n\t\t\t\t\t</div>\n\t\t\t\t\t{ !! sidebar && (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName=\"interface-interface-skeleton__sidebar\"\n\t\t\t\t\t\t\trole=\"region\"\n\t\t\t\t\t\t\taria-label={ mergedLabels.sidebar }\n\t\t\t\t\t\t\ttabIndex=\"-1\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ sidebar }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) }\n\t\t\t\t\t{ !! actions && (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName=\"interface-interface-skeleton__actions\"\n\t\t\t\t\t\t\trole=\"region\"\n\t\t\t\t\t\t\taria-label={ mergedLabels.actions }\n\t\t\t\t\t\t\ttabIndex=\"-1\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ actions }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{ !! footer && (\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"interface-interface-skeleton__footer\"\n\t\t\t\t\trole=\"region\"\n\t\t\t\t\taria-label={ mergedLabels.footer }\n\t\t\t\t\ttabIndex=\"-1\"\n\t\t\t\t>\n\t\t\t\t\t{ footer }\n\t\t\t\t</div>\n\t\t\t) }\n\t\t</div>\n\t);\n}\n\nexport default forwardRef( InterfaceSkeleton );\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blockEditor\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"a11y\"];","/**\n * Check if a template is revertable to its original theme-provided template file.\n *\n * @param {Object} template The template entity to check.\n * @return {boolean} Whether the template is revertable.\n */\nexport default function isTemplateRevertable( template ) {\n\tif ( ! template ) {\n\t\treturn false;\n\t}\n\t/* eslint-disable camelcase */\n\treturn template?.source === 'custom' && template?.has_theme_file;\n\t/* eslint-enable camelcase */\n}\n","/**\n * WordPress dependencies\n */\nimport apiFetch from '@wordpress/api-fetch';\nimport { parse, __unstableSerializeAndClean } from '@wordpress/blocks';\nimport { addQueryArgs, getPathAndQueryString } from '@wordpress/url';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { store as interfaceStore } from '@wordpress/interface';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { speak } from '@wordpress/a11y';\n\n/**\n * Internal dependencies\n */\nimport { STORE_NAME as editSiteStoreName } from './constants';\nimport isTemplateRevertable from '../utils/is-template-revertable';\n\n/**\n * Action that toggles a feature flag.\n *\n * @param {string} feature Feature name.\n *\n * @return {Object} Action object.\n */\nexport function toggleFeature( feature ) {\n\treturn {\n\t\ttype: 'TOGGLE_FEATURE',\n\t\tfeature,\n\t};\n}\n\n/**\n * Action that changes the width of the editing canvas.\n *\n * @param {string} deviceType\n *\n * @return {Object} Action object.\n */\nexport function __experimentalSetPreviewDeviceType( deviceType ) {\n\treturn {\n\t\ttype: 'SET_PREVIEW_DEVICE_TYPE',\n\t\tdeviceType,\n\t};\n}\n\n/**\n * Action that sets a template, optionally fetching it from REST API.\n *\n * @param {number} templateId   The template ID.\n * @param {string} templateSlug The template slug.\n * @return {Object} Action object.\n */\nexport const setTemplate = ( templateId, templateSlug ) => async ( {\n\tdispatch,\n\tregistry,\n} ) => {\n\tif ( ! templateSlug ) {\n\t\tconst template = await registry\n\t\t\t.resolveSelect( coreStore )\n\t\t\t.getEntityRecord( 'postType', 'wp_template', templateId );\n\t\ttemplateSlug = template?.slug;\n\t}\n\n\tdispatch( {\n\t\ttype: 'SET_TEMPLATE',\n\t\ttemplateId,\n\t\tpage: { context: { templateSlug } },\n\t} );\n};\n\n/**\n * Action that adds a new template and sets it as the current template.\n *\n * @param {Object} template The template.\n *\n * @return {Object} Action object used to set the current template.\n */\nexport const addTemplate = ( template ) => async ( { dispatch, registry } ) => {\n\tconst newTemplate = await registry\n\t\t.dispatch( coreStore )\n\t\t.saveEntityRecord( 'postType', 'wp_template', template );\n\n\tif ( template.content ) {\n\t\tregistry\n\t\t\t.dispatch( coreStore )\n\t\t\t.editEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\t'wp_template',\n\t\t\t\tnewTemplate.id,\n\t\t\t\t{ blocks: parse( template.content ) },\n\t\t\t\t{ undoIgnore: true }\n\t\t\t);\n\t}\n\n\tdispatch( {\n\t\ttype: 'SET_TEMPLATE',\n\t\ttemplateId: newTemplate.id,\n\t\tpage: { context: { templateSlug: newTemplate.slug } },\n\t} );\n};\n\n/**\n * Action that removes a template.\n *\n * @param {Object} template The template object.\n */\nexport const removeTemplate = ( template ) => async ( { registry } ) => {\n\ttry {\n\t\tawait registry\n\t\t\t.dispatch( coreStore )\n\t\t\t.deleteEntityRecord( 'postType', template.type, template.id, {\n\t\t\t\tforce: true,\n\t\t\t} );\n\n\t\tconst lastError = registry\n\t\t\t.select( coreStore )\n\t\t\t.getLastEntityDeleteError( 'postType', template.type, template.id );\n\n\t\tif ( lastError ) {\n\t\t\tthrow lastError;\n\t\t}\n\n\t\tregistry.dispatch( noticesStore ).createSuccessNotice(\n\t\t\tsprintf(\n\t\t\t\t/* translators: The template/part's name. */\n\t\t\t\t__( '\"%s\" deleted.' ),\n\t\t\t\ttemplate.title.rendered\n\t\t\t),\n\t\t\t{ type: 'snackbar' }\n\t\t);\n\t} catch ( error ) {\n\t\tconst errorMessage =\n\t\t\terror.message && error.code !== 'unknown_error'\n\t\t\t\t? error.message\n\t\t\t\t: __( 'An error occurred while deleting the template.' );\n\n\t\tregistry\n\t\t\t.dispatch( noticesStore )\n\t\t\t.createErrorNotice( errorMessage, { type: 'snackbar' } );\n\t}\n};\n\n/**\n * Action that sets a template part.\n *\n * @param {string} templatePartId The template part ID.\n *\n * @return {Object} Action object.\n */\nexport function setTemplatePart( templatePartId ) {\n\treturn {\n\t\ttype: 'SET_TEMPLATE_PART',\n\t\ttemplatePartId,\n\t};\n}\n\n/**\n * Action that sets the home template ID to the template ID of the page resolved\n * from a given path.\n *\n * @param {number} homeTemplateId The template ID for the homepage.\n */\nexport function setHomeTemplateId( homeTemplateId ) {\n\treturn {\n\t\ttype: 'SET_HOME_TEMPLATE',\n\t\thomeTemplateId,\n\t};\n}\n\n/**\n * Resolves the template for a page and displays both. If no path is given, attempts\n * to use the postId to generate a path like `?p=${ postId }`.\n *\n * @param {Object} page         The page object.\n * @param {string} page.type    The page type.\n * @param {string} page.slug    The page slug.\n * @param {string} page.path    The page path.\n * @param {Object} page.context The page context.\n *\n * @return {number} The resolved template ID for the page route.\n */\nexport const setPage = ( page ) => async ( { dispatch, registry } ) => {\n\tif ( ! page.path && page.context?.postId ) {\n\t\tconst entity = await registry\n\t\t\t.resolveSelect( coreStore )\n\t\t\t.getEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\tpage.context.postType || 'post',\n\t\t\t\tpage.context.postId\n\t\t\t);\n\t\t// If the entity is undefined for some reason, path will resolve to \"/\"\n\t\tpage.path = getPathAndQueryString( entity?.link );\n\t}\n\n\tconst template = await registry\n\t\t.resolveSelect( coreStore )\n\t\t.__experimentalGetTemplateForLink( page.path );\n\n\tif ( ! template ) {\n\t\treturn;\n\t}\n\n\tdispatch( {\n\t\ttype: 'SET_PAGE',\n\t\tpage: template.slug\n\t\t\t? {\n\t\t\t\t\t...page,\n\t\t\t\t\tcontext: {\n\t\t\t\t\t\t...page.context,\n\t\t\t\t\t\ttemplateSlug: template.slug,\n\t\t\t\t\t},\n\t\t\t  }\n\t\t\t: page,\n\t\ttemplateId: template.id,\n\t} );\n\n\treturn template.id;\n};\n\n/**\n * Action that sets the active navigation panel menu.\n *\n * @param {string} menu Menu prop of active menu.\n *\n * @return {Object} Action object.\n */\nexport function setNavigationPanelActiveMenu( menu ) {\n\treturn {\n\t\ttype: 'SET_NAVIGATION_PANEL_ACTIVE_MENU',\n\t\tmenu,\n\t};\n}\n\n/**\n * Opens the navigation panel and sets its active menu at the same time.\n *\n * @param {string} menu Identifies the menu to open.\n */\nexport function openNavigationPanelToMenu( menu ) {\n\treturn {\n\t\ttype: 'OPEN_NAVIGATION_PANEL_TO_MENU',\n\t\tmenu,\n\t};\n}\n\n/**\n * Sets whether the navigation panel should be open.\n *\n * @param {boolean} isOpen If true, opens the nav panel. If false, closes it. It\n *                         does not toggle the state, but sets it directly.\n */\nexport function setIsNavigationPanelOpened( isOpen ) {\n\treturn {\n\t\ttype: 'SET_IS_NAVIGATION_PANEL_OPENED',\n\t\tisOpen,\n\t};\n}\n\n/**\n * Opens or closes the inserter.\n *\n * @param {boolean|Object} value                Whether the inserter should be\n *                                              opened (true) or closed (false).\n *                                              To specify an insertion point,\n *                                              use an object.\n * @param {string}         value.rootClientId   The root client ID to insert at.\n * @param {number}         value.insertionIndex The index to insert at.\n *\n * @return {Object} Action object.\n */\nexport function setIsInserterOpened( value ) {\n\treturn {\n\t\ttype: 'SET_IS_INSERTER_OPENED',\n\t\tvalue,\n\t};\n}\n\n/**\n * Returns an action object used to update the settings.\n *\n * @param {Object} settings New settings.\n *\n * @return {Object} Action object.\n */\nexport function updateSettings( settings ) {\n\treturn {\n\t\ttype: 'UPDATE_SETTINGS',\n\t\tsettings,\n\t};\n}\n\n/**\n * Sets whether the list view panel should be open.\n *\n * @param {boolean} isOpen If true, opens the list view. If false, closes it.\n *                         It does not toggle the state, but sets it directly.\n */\nexport function setIsListViewOpened( isOpen ) {\n\treturn {\n\t\ttype: 'SET_IS_LIST_VIEW_OPENED',\n\t\tisOpen,\n\t};\n}\n\n/**\n * Reverts a template to its original theme-provided file.\n *\n * @param {Object}  template            The template to revert.\n * @param {Object}  [options]\n * @param {boolean} [options.allowUndo] Whether to allow the user to undo\n *                                      reverting the template. Default true.\n */\nexport const revertTemplate = (\n\ttemplate,\n\t{ allowUndo = true } = {}\n) => async ( { registry } ) => {\n\tif ( ! isTemplateRevertable( template ) ) {\n\t\tregistry\n\t\t\t.dispatch( noticesStore )\n\t\t\t.createErrorNotice( __( 'This template is not revertable.' ), {\n\t\t\t\ttype: 'snackbar',\n\t\t\t} );\n\t\treturn;\n\t}\n\n\ttry {\n\t\tconst templateEntity = registry\n\t\t\t.select( coreStore )\n\t\t\t.getEntity( 'postType', template.type );\n\n\t\tif ( ! templateEntity ) {\n\t\t\tregistry\n\t\t\t\t.dispatch( noticesStore )\n\t\t\t\t.createErrorNotice(\n\t\t\t\t\t__(\n\t\t\t\t\t\t'The editor has encountered an unexpected error. Please reload.'\n\t\t\t\t\t),\n\t\t\t\t\t{ type: 'snackbar' }\n\t\t\t\t);\n\t\t\treturn;\n\t\t}\n\n\t\tconst fileTemplatePath = addQueryArgs(\n\t\t\t`${ templateEntity.baseURL }/${ template.id }`,\n\t\t\t{ context: 'edit', source: 'theme' }\n\t\t);\n\n\t\tconst fileTemplate = await apiFetch( { path: fileTemplatePath } );\n\t\tif ( ! fileTemplate ) {\n\t\t\tregistry\n\t\t\t\t.dispatch( noticesStore )\n\t\t\t\t.createErrorNotice(\n\t\t\t\t\t__(\n\t\t\t\t\t\t'The editor has encountered an unexpected error. Please reload.'\n\t\t\t\t\t),\n\t\t\t\t\t{ type: 'snackbar' }\n\t\t\t\t);\n\t\t\treturn;\n\t\t}\n\n\t\tconst serializeBlocks = ( { blocks: blocksForSerialization = [] } ) =>\n\t\t\t__unstableSerializeAndClean( blocksForSerialization );\n\n\t\tconst edited = registry\n\t\t\t.select( coreStore )\n\t\t\t.getEditedEntityRecord( 'postType', template.type, template.id );\n\n\t\t// We are fixing up the undo level here to make sure we can undo\n\t\t// the revert in the header toolbar correctly.\n\t\tregistry.dispatch( coreStore ).editEntityRecord(\n\t\t\t'postType',\n\t\t\ttemplate.type,\n\t\t\ttemplate.id,\n\t\t\t{\n\t\t\t\tcontent: serializeBlocks, // required to make the `undo` behave correctly\n\t\t\t\tblocks: edited.blocks, // required to revert the blocks in the editor\n\t\t\t\tsource: 'custom', // required to avoid turning the editor into a dirty state\n\t\t\t},\n\t\t\t{\n\t\t\t\tundoIgnore: true, // required to merge this edit with the last undo level\n\t\t\t}\n\t\t);\n\n\t\tconst blocks = parse( fileTemplate?.content?.raw );\n\t\tregistry\n\t\t\t.dispatch( coreStore )\n\t\t\t.editEntityRecord( 'postType', template.type, fileTemplate.id, {\n\t\t\t\tcontent: serializeBlocks,\n\t\t\t\tblocks,\n\t\t\t\tsource: 'theme',\n\t\t\t} );\n\n\t\tif ( allowUndo ) {\n\t\t\tconst undoRevert = () => {\n\t\t\t\tregistry\n\t\t\t\t\t.dispatch( coreStore )\n\t\t\t\t\t.editEntityRecord( 'postType', template.type, edited.id, {\n\t\t\t\t\t\tcontent: serializeBlocks,\n\t\t\t\t\t\tblocks: edited.blocks,\n\t\t\t\t\t\tsource: 'custom',\n\t\t\t\t\t} );\n\t\t\t};\n\n\t\t\tregistry\n\t\t\t\t.dispatch( noticesStore )\n\t\t\t\t.createSuccessNotice( __( 'Template reverted.' ), {\n\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\tactions: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: __( 'Undo' ),\n\t\t\t\t\t\t\tonClick: undoRevert,\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t} );\n\t\t} else {\n\t\t\tregistry\n\t\t\t\t.dispatch( noticesStore )\n\t\t\t\t.createSuccessNotice( __( 'Template reverted.' ) );\n\t\t}\n\t} catch ( error ) {\n\t\tconst errorMessage =\n\t\t\terror.message && error.code !== 'unknown_error'\n\t\t\t\t? error.message\n\t\t\t\t: __( 'Template revert failed. Please reload.' );\n\t\tregistry\n\t\t\t.dispatch( noticesStore )\n\t\t\t.createErrorNotice( errorMessage, { type: 'snackbar' } );\n\t}\n};\n/**\n * Action that opens an editor sidebar.\n *\n * @param {?string} name Sidebar name to be opened.\n */\nexport const openGeneralSidebar = ( name ) => ( { registry } ) => {\n\tregistry\n\t\t.dispatch( interfaceStore )\n\t\t.enableComplementaryArea( editSiteStoreName, name );\n};\n\n/**\n * Action that closes the sidebar.\n */\nexport const closeGeneralSidebar = () => ( { registry } ) => {\n\tregistry\n\t\t.dispatch( interfaceStore )\n\t\t.disableComplementaryArea( editSiteStoreName );\n};\n\nexport const switchEditorMode = ( mode ) => ( { dispatch, registry } ) => {\n\tdispatch( { type: 'SWITCH_MODE', mode } );\n\n\t// Unselect blocks when we switch to a non visual mode.\n\tif ( mode !== 'visual' ) {\n\t\tregistry.dispatch( blockEditorStore ).clearSelectedBlock();\n\t}\n\n\tif ( mode === 'visual' ) {\n\t\tspeak( __( 'Visual editor selected' ), 'assertive' );\n\t} else if ( mode === 'mosaic' ) {\n\t\tspeak( __( 'Mosaic view selected' ), 'assertive' );\n\t}\n};\n","'use strict';\n\nvar LEAF_KEY, hasWeakMap;\n\n/**\n * Arbitrary value used as key for referencing cache object in WeakMap tree.\n *\n * @type {Object}\n */\nLEAF_KEY = {};\n\n/**\n * Whether environment supports WeakMap.\n *\n * @type {boolean}\n */\nhasWeakMap = typeof WeakMap !== 'undefined';\n\n/**\n * Returns the first argument as the sole entry in an array.\n *\n * @param {*} value Value to return.\n *\n * @return {Array} Value returned as entry in array.\n */\nfunction arrayOf( value ) {\n\treturn [ value ];\n}\n\n/**\n * Returns true if the value passed is object-like, or false otherwise. A value\n * is object-like if it can support property assignment, e.g. object or array.\n *\n * @param {*} value Value to test.\n *\n * @return {boolean} Whether value is object-like.\n */\nfunction isObjectLike( value ) {\n\treturn !! value && 'object' === typeof value;\n}\n\n/**\n * Creates and returns a new cache object.\n *\n * @return {Object} Cache object.\n */\nfunction createCache() {\n\tvar cache = {\n\t\tclear: function() {\n\t\t\tcache.head = null;\n\t\t},\n\t};\n\n\treturn cache;\n}\n\n/**\n * Returns true if entries within the two arrays are strictly equal by\n * reference from a starting index.\n *\n * @param {Array}  a         First array.\n * @param {Array}  b         Second array.\n * @param {number} fromIndex Index from which to start comparison.\n *\n * @return {boolean} Whether arrays are shallowly equal.\n */\nfunction isShallowEqual( a, b, fromIndex ) {\n\tvar i;\n\n\tif ( a.length !== b.length ) {\n\t\treturn false;\n\t}\n\n\tfor ( i = fromIndex; i < a.length; i++ ) {\n\t\tif ( a[ i ] !== b[ i ] ) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n}\n\n/**\n * Returns a memoized selector function. The getDependants function argument is\n * called before the memoized selector and is expected to return an immutable\n * reference or array of references on which the selector depends for computing\n * its own return value. The memoize cache is preserved only as long as those\n * dependant references remain the same. If getDependants returns a different\n * reference(s), the cache is cleared and the selector value regenerated.\n *\n * @param {Function} selector      Selector function.\n * @param {Function} getDependants Dependant getter returning an immutable\n *                                 reference or array of reference used in\n *                                 cache bust consideration.\n *\n * @return {Function} Memoized selector.\n */\nexport default function( selector, getDependants ) {\n\tvar rootCache, getCache;\n\n\t// Use object source as dependant if getter not provided\n\tif ( ! getDependants ) {\n\t\tgetDependants = arrayOf;\n\t}\n\n\t/**\n\t * Returns the root cache. If WeakMap is supported, this is assigned to the\n\t * root WeakMap cache set, otherwise it is a shared instance of the default\n\t * cache object.\n\t *\n\t * @return {(WeakMap|Object)} Root cache object.\n\t */\n\tfunction getRootCache() {\n\t\treturn rootCache;\n\t}\n\n\t/**\n\t * Returns the cache for a given dependants array. When possible, a WeakMap\n\t * will be used to create a unique cache for each set of dependants. This\n\t * is feasible due to the nature of WeakMap in allowing garbage collection\n\t * to occur on entries where the key object is no longer referenced. Since\n\t * WeakMap requires the key to be an object, this is only possible when the\n\t * dependant is object-like. The root cache is created as a hierarchy where\n\t * each top-level key is the first entry in a dependants set, the value a\n\t * WeakMap where each key is the next dependant, and so on. This continues\n\t * so long as the dependants are object-like. If no dependants are object-\n\t * like, then the cache is shared across all invocations.\n\t *\n\t * @see isObjectLike\n\t *\n\t * @param {Array} dependants Selector dependants.\n\t *\n\t * @return {Object} Cache object.\n\t */\n\tfunction getWeakMapCache( dependants ) {\n\t\tvar caches = rootCache,\n\t\t\tisUniqueByDependants = true,\n\t\t\ti, dependant, map, cache;\n\n\t\tfor ( i = 0; i < dependants.length; i++ ) {\n\t\t\tdependant = dependants[ i ];\n\n\t\t\t// Can only compose WeakMap from object-like key.\n\t\t\tif ( ! isObjectLike( dependant ) ) {\n\t\t\t\tisUniqueByDependants = false;\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t// Does current segment of cache already have a WeakMap?\n\t\t\tif ( caches.has( dependant ) ) {\n\t\t\t\t// Traverse into nested WeakMap.\n\t\t\t\tcaches = caches.get( dependant );\n\t\t\t} else {\n\t\t\t\t// Create, set, and traverse into a new one.\n\t\t\t\tmap = new WeakMap();\n\t\t\t\tcaches.set( dependant, map );\n\t\t\t\tcaches = map;\n\t\t\t}\n\t\t}\n\n\t\t// We use an arbitrary (but consistent) object as key for the last item\n\t\t// in the WeakMap to serve as our running cache.\n\t\tif ( ! caches.has( LEAF_KEY ) ) {\n\t\t\tcache = createCache();\n\t\t\tcache.isUniqueByDependants = isUniqueByDependants;\n\t\t\tcaches.set( LEAF_KEY, cache );\n\t\t}\n\n\t\treturn caches.get( LEAF_KEY );\n\t}\n\n\t// Assign cache handler by availability of WeakMap\n\tgetCache = hasWeakMap ? getWeakMapCache : getRootCache;\n\n\t/**\n\t * Resets root memoization cache.\n\t */\n\tfunction clear() {\n\t\trootCache = hasWeakMap ? new WeakMap() : createCache();\n\t}\n\n\t// eslint-disable-next-line jsdoc/check-param-names\n\t/**\n\t * The augmented selector call, considering first whether dependants have\n\t * changed before passing it to underlying memoize function.\n\t *\n\t * @param {Object} source    Source object for derivation.\n\t * @param {...*}   extraArgs Additional arguments to pass to selector.\n\t *\n\t * @return {*} Selector result.\n\t */\n\tfunction callSelector( /* source, ...extraArgs */ ) {\n\t\tvar len = arguments.length,\n\t\t\tcache, node, i, args, dependants;\n\n\t\t// Create copy of arguments (avoid leaking deoptimization).\n\t\targs = new Array( len );\n\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\targs[ i ] = arguments[ i ];\n\t\t}\n\n\t\tdependants = getDependants.apply( null, args );\n\t\tcache = getCache( dependants );\n\n\t\t// If not guaranteed uniqueness by dependants (primitive type or lack\n\t\t// of WeakMap support), shallow compare against last dependants and, if\n\t\t// references have changed, destroy cache to recalculate result.\n\t\tif ( ! cache.isUniqueByDependants ) {\n\t\t\tif ( cache.lastDependants && ! isShallowEqual( dependants, cache.lastDependants, 0 ) ) {\n\t\t\t\tcache.clear();\n\t\t\t}\n\n\t\t\tcache.lastDependants = dependants;\n\t\t}\n\n\t\tnode = cache.head;\n\t\twhile ( node ) {\n\t\t\t// Check whether node arguments match arguments\n\t\t\tif ( ! isShallowEqual( node.args, args, 1 ) ) {\n\t\t\t\tnode = node.next;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// At this point we can assume we've found a match\n\n\t\t\t// Surface matched node to head if not already\n\t\t\tif ( node !== cache.head ) {\n\t\t\t\t// Adjust siblings to point to each other.\n\t\t\t\tnode.prev.next = node.next;\n\t\t\t\tif ( node.next ) {\n\t\t\t\t\tnode.next.prev = node.prev;\n\t\t\t\t}\n\n\t\t\t\tnode.next = cache.head;\n\t\t\t\tnode.prev = null;\n\t\t\t\tcache.head.prev = node;\n\t\t\t\tcache.head = node;\n\t\t\t}\n\n\t\t\t// Return immediately\n\t\t\treturn node.val;\n\t\t}\n\n\t\t// No cached value found. Continue to insertion phase:\n\n\t\tnode = {\n\t\t\t// Generate the result from original function\n\t\t\tval: selector.apply( null, args ),\n\t\t};\n\n\t\t// Avoid including the source object in the cache.\n\t\targs[ 0 ] = null;\n\t\tnode.args = args;\n\n\t\t// Don't need to check whether node is already head, since it would\n\t\t// have been returned above already if it was\n\n\t\t// Shift existing head down list\n\t\tif ( cache.head ) {\n\t\t\tcache.head.prev = node;\n\t\t\tnode.next = cache.head;\n\t\t}\n\n\t\tcache.head = node;\n\n\t\treturn node.val;\n\t}\n\n\tcallSelector.getDependants = getDependants;\n\tcallSelector.clear = clear;\n\tclear();\n\n\treturn callSelector;\n}\n","/**\n * External dependencies\n */\nimport { map } from 'lodash';\n\n/**\n * Internal dependencies\n */\nimport {\n\tMENU_TEMPLATES,\n\tMENU_TEMPLATES_GENERAL,\n\tMENU_TEMPLATES_PAGES,\n\tMENU_TEMPLATES_POSTS,\n\tTEMPLATE_OVERRIDES,\n\tTEMPLATES_GENERAL,\n\tTEMPLATES_PAGES_PREFIXES,\n\tTEMPLATES_POSTS_PREFIXES,\n\tTEMPLATES_TOP_LEVEL,\n} from './constants';\n\nexport function isTemplateSuperseded( slug, existingSlugs, showOnFront ) {\n\tif ( ! TEMPLATE_OVERRIDES[ slug ] ) {\n\t\treturn false;\n\t}\n\n\t// `home` template is unused if it is superseded by `front-page`\n\t// or \"show on front\" is set to show a page rather than blog posts.\n\tif ( slug === 'home' && showOnFront !== 'posts' ) {\n\t\treturn true;\n\t}\n\n\treturn TEMPLATE_OVERRIDES[ slug ].every(\n\t\t( overrideSlug ) =>\n\t\t\texistingSlugs.includes( overrideSlug ) ||\n\t\t\tisTemplateSuperseded( overrideSlug, existingSlugs, showOnFront )\n\t);\n}\n\nexport function getTemplateLocation( slug ) {\n\tconst isTopLevelTemplate = TEMPLATES_TOP_LEVEL.includes( slug );\n\tif ( isTopLevelTemplate ) {\n\t\treturn MENU_TEMPLATES;\n\t}\n\n\tconst isGeneralTemplate = TEMPLATES_GENERAL.includes( slug );\n\tif ( isGeneralTemplate ) {\n\t\treturn MENU_TEMPLATES_GENERAL;\n\t}\n\n\tconst isPostsTemplate = TEMPLATES_POSTS_PREFIXES.some( ( prefix ) =>\n\t\tslug.startsWith( prefix )\n\t);\n\tif ( isPostsTemplate ) {\n\t\treturn MENU_TEMPLATES_POSTS;\n\t}\n\n\tconst isPagesTemplate = TEMPLATES_PAGES_PREFIXES.some( ( prefix ) =>\n\t\tslug.startsWith( prefix )\n\t);\n\tif ( isPagesTemplate ) {\n\t\treturn MENU_TEMPLATES_PAGES;\n\t}\n\n\treturn MENU_TEMPLATES_GENERAL;\n}\n\nexport function getUnusedTemplates( templates, showOnFront ) {\n\tconst templateSlugs = map( templates, 'slug' );\n\tconst supersededTemplates = templates.filter( ( { slug } ) =>\n\t\tisTemplateSuperseded( slug, templateSlugs, showOnFront )\n\t);\n\n\treturn supersededTemplates;\n}\n\nexport function getTemplatesLocationMap( templates ) {\n\treturn templates.reduce( ( obj, template ) => {\n\t\tobj[ template.slug ] = getTemplateLocation( template.slug );\n\t\treturn obj;\n\t}, {} );\n}\n","/**\n * External dependencies\n */\nimport { get, map, keyBy } from 'lodash';\nimport createSelector from 'rememo';\n\n/**\n * WordPress dependencies\n */\nimport { store as coreDataStore } from '@wordpress/core-data';\nimport { createRegistrySelector } from '@wordpress/data';\nimport { uploadMedia } from '@wordpress/media-utils';\nimport { isTemplatePart } from '@wordpress/blocks';\nimport { Platform } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport {\n\tMENU_ROOT,\n\tMENU_TEMPLATE_PARTS,\n\tMENU_TEMPLATES_UNUSED,\n\tTEMPLATE_PARTS_SUB_MENUS,\n} from '../components/navigation-sidebar/navigation-panel/constants';\nimport {\n\tgetTemplateLocation,\n\tisTemplateSuperseded,\n} from '../components/navigation-sidebar/navigation-panel/template-hierarchy';\n\n/**\n * @typedef {'template'|'template_type'} TemplateType Template type.\n */\n\n/**\n * Returns whether the given feature is enabled or not.\n *\n * @param {Object} state   Global application state.\n * @param {string} feature Feature slug.\n *\n * @return {boolean} Is active.\n */\nexport function isFeatureActive( state, feature ) {\n\treturn get( state.preferences.features, [ feature ], false );\n}\n\n/**\n * Returns the current editing canvas device type.\n *\n * @param {Object} state Global application state.\n *\n * @return {string} Device type.\n */\nexport function __experimentalGetPreviewDeviceType( state ) {\n\treturn state.deviceType;\n}\n\n/**\n * Returns whether the current user can create media or not.\n *\n * @param {Object} state Global application state.\n *\n * @return {Object} Whether the current user can create media or not.\n */\nexport const getCanUserCreateMedia = createRegistrySelector( ( select ) => () =>\n\tselect( coreDataStore ).canUser( 'create', 'media' )\n);\n\n/**\n * Returns any available Reusable blocks.\n *\n * @param {Object} state Global application state.\n *\n * @return {Array} The available reusable blocks.\n */\nexport const getReusableBlocks = createRegistrySelector( ( select ) => () => {\n\tconst isWeb = Platform.OS === 'web';\n\treturn isWeb\n\t\t? select( coreDataStore ).getEntityRecords( 'postType', 'wp_block', {\n\t\t\t\tper_page: -1,\n\t\t  } )\n\t\t: [];\n} );\n\n/**\n * Returns the settings, taking into account active features and permissions.\n *\n * @param {Object}   state             Global application state.\n * @param {Function} setIsInserterOpen Setter for the open state of the global inserter.\n *\n * @return {Object} Settings.\n */\nexport const getSettings = createSelector(\n\t( state, setIsInserterOpen ) => {\n\t\tconst settings = {\n\t\t\t...state.settings,\n\t\t\toutlineMode: true,\n\t\t\tfocusMode: isFeatureActive( state, 'focusMode' ),\n\t\t\thasFixedToolbar: isFeatureActive( state, 'fixedToolbar' ),\n\t\t\t__experimentalSetIsInserterOpened: setIsInserterOpen,\n\t\t\t__experimentalReusableBlocks: getReusableBlocks( state ),\n\t\t\t__experimentalPreferPatternsOnRoot:\n\t\t\t\t'wp_template' === getEditedPostType( state ),\n\t\t};\n\n\t\tconst canUserCreateMedia = getCanUserCreateMedia( state );\n\t\tif ( ! canUserCreateMedia ) {\n\t\t\treturn settings;\n\t\t}\n\n\t\tsettings.mediaUpload = ( { onError, ...rest } ) => {\n\t\t\tuploadMedia( {\n\t\t\t\twpAllowedMimeTypes: state.settings.allowedMimeTypes,\n\t\t\t\tonError: ( { message } ) => onError( message ),\n\t\t\t\t...rest,\n\t\t\t} );\n\t\t};\n\t\treturn settings;\n\t},\n\t( state ) => [\n\t\tgetCanUserCreateMedia( state ),\n\t\tstate.settings,\n\t\tisFeatureActive( state, 'focusMode' ),\n\t\tisFeatureActive( state, 'fixedToolbar' ),\n\t\tgetReusableBlocks( state ),\n\t\tgetEditedPostType( state ),\n\t]\n);\n\n/**\n * Returns the current home template ID.\n *\n * @param {Object} state Global application state.\n *\n * @return {number?} Home template ID.\n */\nexport function getHomeTemplateId( state ) {\n\treturn state.homeTemplateId;\n}\n\nfunction getCurrentEditedPost( state ) {\n\treturn state.editedPost;\n}\n\n/**\n * Returns the current edited post type (wp_template or wp_template_part).\n *\n * @param {Object} state Global application state.\n *\n * @return {TemplateType?} Template type.\n */\nexport function getEditedPostType( state ) {\n\treturn getCurrentEditedPost( state ).type;\n}\n\n/**\n * Returns the ID of the currently edited template or template part.\n *\n * @param {Object} state Global application state.\n *\n * @return {string?} Post ID.\n */\nexport function getEditedPostId( state ) {\n\treturn getCurrentEditedPost( state ).id;\n}\n\n/**\n * Returns the current page object.\n *\n * @param {Object} state Global application state.\n *\n * @return {Object} Page.\n */\nexport function getPage( state ) {\n\treturn getCurrentEditedPost( state ).page;\n}\n\n/**\n * Returns the active menu in the navigation panel.\n *\n * @param {Object} state Global application state.\n *\n * @return {string} Active menu.\n */\nexport function getNavigationPanelActiveMenu( state ) {\n\treturn state.navigationPanel.menu;\n}\n\n/**\n * Returns the current template or template part's corresponding\n * navigation panel's sub menu, to be used with `openNavigationPanelToMenu`.\n *\n * @param {Object} state Global application state.\n *\n * @return {string} The current template or template part's sub menu.\n */\nexport const getCurrentTemplateNavigationPanelSubMenu = createRegistrySelector(\n\t( select ) => ( state ) => {\n\t\tconst templateType = getEditedPostType( state );\n\t\tconst templateId = getEditedPostId( state );\n\t\tconst template = templateId\n\t\t\t? select( coreDataStore ).getEntityRecord(\n\t\t\t\t\t'postType',\n\t\t\t\t\ttemplateType,\n\t\t\t\t\ttemplateId\n\t\t\t  )\n\t\t\t: null;\n\n\t\tif ( ! template ) {\n\t\t\treturn MENU_ROOT;\n\t\t}\n\n\t\tif ( 'wp_template_part' === templateType ) {\n\t\t\treturn (\n\t\t\t\tTEMPLATE_PARTS_SUB_MENUS.find(\n\t\t\t\t\t( submenu ) => submenu.area === template?.area\n\t\t\t\t)?.menu || MENU_TEMPLATE_PARTS\n\t\t\t);\n\t\t}\n\n\t\tconst templates = select( coreDataStore ).getEntityRecords(\n\t\t\t'postType',\n\t\t\t'wp_template'\n\t\t);\n\t\tconst showOnFront = select( coreDataStore ).getEditedEntityRecord(\n\t\t\t'root',\n\t\t\t'site'\n\t\t).show_on_front;\n\n\t\tif (\n\t\t\tisTemplateSuperseded(\n\t\t\t\ttemplate.slug,\n\t\t\t\tmap( templates, 'slug' ),\n\t\t\t\tshowOnFront\n\t\t\t)\n\t\t) {\n\t\t\treturn MENU_TEMPLATES_UNUSED;\n\t\t}\n\n\t\treturn getTemplateLocation( template.slug );\n\t}\n);\n\n/**\n * Returns the current opened/closed state of the navigation panel.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} True if the navigation panel should be open; false if closed.\n */\nexport function isNavigationOpened( state ) {\n\treturn state.navigationPanel.isOpen;\n}\n\n/**\n * Returns the current opened/closed state of the inserter panel.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} True if the inserter panel should be open; false if closed.\n */\nexport function isInserterOpened( state ) {\n\treturn !! state.blockInserterPanel;\n}\n\n/**\n * Get the insertion point for the inserter.\n *\n * @param {Object} state Global application state.\n *\n * @return {Object} The root client ID, index to insert at and starting filter value.\n */\nexport function __experimentalGetInsertionPoint( state ) {\n\tconst {\n\t\trootClientId,\n\t\tinsertionIndex,\n\t\tfilterValue,\n\t} = state.blockInserterPanel;\n\treturn { rootClientId, insertionIndex, filterValue };\n}\n\n/**\n * Returns the current opened/closed state of the list view panel.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} True if the list view panel should be open; false if closed.\n */\nexport function isListViewOpened( state ) {\n\treturn state.listViewPanel;\n}\n\n/**\n * Returns the template parts and their blocks for the current edited template.\n *\n * @param {Object} state Global application state.\n * @return {Array} Template parts and their blocks in an array.\n */\nexport const getCurrentTemplateTemplateParts = createRegistrySelector(\n\t( select ) => ( state ) => {\n\t\tconst templateType = getEditedPostType( state );\n\t\tconst templateId = getEditedPostId( state );\n\t\tconst template = select( coreDataStore ).getEditedEntityRecord(\n\t\t\t'postType',\n\t\t\ttemplateType,\n\t\t\ttemplateId\n\t\t);\n\n\t\tconst templateParts = select(\n\t\t\tcoreDataStore\n\t\t).getEntityRecords( 'postType', 'wp_template_part', { per_page: -1 } );\n\t\tconst templatePartsById = keyBy(\n\t\t\ttemplateParts,\n\t\t\t( templatePart ) => templatePart.id\n\t\t);\n\n\t\treturn ( template.blocks ?? [] )\n\t\t\t.filter( ( block ) => isTemplatePart( block ) )\n\t\t\t.map( ( block ) => {\n\t\t\t\tconst {\n\t\t\t\t\tattributes: { theme, slug },\n\t\t\t\t} = block;\n\t\t\t\tconst templatePartId = `${ theme }//${ slug }`;\n\t\t\t\tconst templatePart = templatePartsById[ templatePartId ];\n\n\t\t\t\treturn {\n\t\t\t\t\ttemplatePart,\n\t\t\t\t\tblock,\n\t\t\t\t};\n\t\t\t} )\n\t\t\t.filter( ( { templatePart } ) => !! templatePart );\n\t}\n);\n\n/**\n * Returns the current editing mode.\n *\n * @param {Object} state Global application state.\n *\n * @return {string} Editing mode.\n */\nexport function getEditorMode( state ) {\n\treturn state.preferences.editorMode || 'visual';\n}\n","/**\n * WordPress dependencies\n */\nimport { createReduxStore, registerStore } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport reducer from './reducer';\nimport * as actions from './actions';\nimport * as selectors from './selectors';\nimport { STORE_NAME } from './constants';\n\nexport const storeConfig = {\n\treducer,\n\tactions,\n\tselectors,\n\tpersist: [ 'preferences' ],\n};\n\nexport const store = createReduxStore( STORE_NAME, storeConfig );\n\n// Once we build a more generic persistence plugin that works across types of stores\n// we'd be able to replace this with a register call.\nregisterStore( STORE_NAME, storeConfig );\n","/**\n * External dependencies\n */\nimport { createBrowserHistory } from 'history';\n\n/**\n * WordPress dependencies\n */\nimport { addQueryArgs } from '@wordpress/url';\n\nconst history = createBrowserHistory();\n\nconst originalHistoryPush = history.push;\nconst originalHistoryReplace = history.replace;\n\nfunction push( params, state ) {\n\treturn originalHistoryPush.call(\n\t\thistory,\n\t\taddQueryArgs( window.location.href, params ),\n\t\tstate\n\t);\n}\n\nfunction replace( params, state ) {\n\treturn originalHistoryReplace.call(\n\t\thistory,\n\t\taddQueryArgs( window.location.href, params ),\n\t\tstate\n\t);\n}\n\nhistory.push = push;\nhistory.replace = replace;\n\nexport default history;\n","/**\n * WordPress dependencies\n */\nimport {\n\tcreateContext,\n\tuseState,\n\tuseEffect,\n\tuseContext,\n} from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport history from '../../utils/history';\n\nconst RoutesContext = createContext();\nconst HistoryContext = createContext();\n\nexport function useLocation() {\n\treturn useContext( RoutesContext );\n}\n\nexport function useHistory() {\n\treturn useContext( HistoryContext );\n}\n\nfunction getLocationWithParams( location ) {\n\tconst searchParams = new URLSearchParams( location.search );\n\treturn {\n\t\t...location,\n\t\tparams: Object.fromEntries( searchParams.entries() ),\n\t};\n}\n\nexport function Routes( { children } ) {\n\tconst [ location, setLocation ] = useState( () =>\n\t\tgetLocationWithParams( history.location )\n\t);\n\n\tuseEffect( () => {\n\t\treturn history.listen( ( { location: updatedLocation } ) => {\n\t\t\tsetLocation( getLocationWithParams( updatedLocation ) );\n\t\t} );\n\t}, [] );\n\n\treturn (\n\t\t<HistoryContext.Provider value={ history }>\n\t\t\t<RoutesContext.Provider value={ location }>\n\t\t\t\t{ children( location ) }\n\t\t\t</RoutesContext.Provider>\n\t\t</HistoryContext.Provider>\n\t);\n}\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"keyboardShortcuts\"];","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst plus = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M18 11.2h-5.2V6h-1.6v5.2H6v1.6h5.2V18h1.6v-5.2H18z\" />\n\t</SVG>\n);\n\nexport default plus;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst listView = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"M13.8 5.2H3v1.5h10.8V5.2zm-3.6 12v1.5H21v-1.5H10.2zm7.2-6H6.6v1.5h10.8v-1.5z\" />\n\t</SVG>\n);\n\nexport default listView;\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"keycodes\"];","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst moreVertical = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z\" />\n\t</SVG>\n);\n\nexport default moreVertical;\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nconst external = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M18.2 17c0 .7-.6 1.2-1.2 1.2H7c-.7 0-1.2-.6-1.2-1.2V7c0-.7.6-1.2 1.2-1.2h3.2V4.2H7C5.5 4.2 4.2 5.5 4.2 7v10c0 1.5 1.2 2.8 2.8 2.8h10c1.5 0 2.8-1.2 2.8-2.8v-3.6h-1.5V17zM14.9 3v1.5h3.7l-6.4 6.4 1.1 1.1 6.4-6.4v3.7h1.5V3h-6.3z\" />\n\t</SVG>\n);\n\nexport default external;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\nexport const textFormattingShortcuts = [\n\t{\n\t\tkeyCombination: { modifier: 'primary', character: 'b' },\n\t\tdescription: __( 'Make the selected text bold.' ),\n\t},\n\t{\n\t\tkeyCombination: { modifier: 'primary', character: 'i' },\n\t\tdescription: __( 'Make the selected text italic.' ),\n\t},\n\t{\n\t\tkeyCombination: { modifier: 'primary', character: 'k' },\n\t\tdescription: __( 'Convert the selected text into a link.' ),\n\t},\n\t{\n\t\tkeyCombination: { modifier: 'primaryShift', character: 'k' },\n\t\tdescription: __( 'Remove a link.' ),\n\t},\n\t{\n\t\tkeyCombination: { modifier: 'primary', character: 'u' },\n\t\tdescription: __( 'Underline the selected text.' ),\n\t},\n];\n","/**\n * External dependencies\n */\nimport { castArray } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { Fragment } from '@wordpress/element';\nimport { displayShortcutList, shortcutAriaLabel } from '@wordpress/keycodes';\n\nfunction KeyCombination( { keyCombination, forceAriaLabel } ) {\n\tconst shortcut = keyCombination.modifier\n\t\t? displayShortcutList[ keyCombination.modifier ](\n\t\t\t\tkeyCombination.character\n\t\t  )\n\t\t: keyCombination.character;\n\tconst ariaLabel = keyCombination.modifier\n\t\t? shortcutAriaLabel[ keyCombination.modifier ](\n\t\t\t\tkeyCombination.character\n\t\t  )\n\t\t: keyCombination.character;\n\n\treturn (\n\t\t<kbd\n\t\t\tclassName=\"edit-site-keyboard-shortcut-help-modal__shortcut-key-combination\"\n\t\t\taria-label={ forceAriaLabel || ariaLabel }\n\t\t>\n\t\t\t{ castArray( shortcut ).map( ( character, index ) => {\n\t\t\t\tif ( character === '+' ) {\n\t\t\t\t\treturn <Fragment key={ index }>{ character }</Fragment>;\n\t\t\t\t}\n\n\t\t\t\treturn (\n\t\t\t\t\t<kbd\n\t\t\t\t\t\tkey={ index }\n\t\t\t\t\t\tclassName=\"edit-site-keyboard-shortcut-help-modal__shortcut-key\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ character }\n\t\t\t\t\t</kbd>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t</kbd>\n\t);\n}\n\nexport default function Shortcut( {\n\tdescription,\n\tkeyCombination,\n\taliases = [],\n\tariaLabel,\n} ) {\n\treturn (\n\t\t<>\n\t\t\t<div className=\"edit-site-keyboard-shortcut-help-modal__shortcut-description\">\n\t\t\t\t{ description }\n\t\t\t</div>\n\t\t\t<div className=\"edit-site-keyboard-shortcut-help-modal__shortcut-term\">\n\t\t\t\t<KeyCombination\n\t\t\t\t\tkeyCombination={ keyCombination }\n\t\t\t\t\tforceAriaLabel={ ariaLabel }\n\t\t\t\t/>\n\t\t\t\t{ aliases.map( ( alias, index ) => (\n\t\t\t\t\t<KeyCombination\n\t\t\t\t\t\tkeyCombination={ alias }\n\t\t\t\t\t\tforceAriaLabel={ ariaLabel }\n\t\t\t\t\t\tkey={ index }\n\t\t\t\t\t/>\n\t\t\t\t) ) }\n\t\t\t</div>\n\t\t</>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as keyboardShortcutsStore } from '@wordpress/keyboard-shortcuts';\n\n/**\n * Internal dependencies\n */\nimport Shortcut from './shortcut';\n\nexport default function DynamicShortcut( { name } ) {\n\tconst { keyCombination, description, aliases } = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\tgetShortcutKeyCombination,\n\t\t\t\tgetShortcutDescription,\n\t\t\t\tgetShortcutAliases,\n\t\t\t} = select( keyboardShortcutsStore );\n\n\t\t\treturn {\n\t\t\t\tkeyCombination: getShortcutKeyCombination( name ),\n\t\t\t\taliases: getShortcutAliases( name ),\n\t\t\t\tdescription: getShortcutDescription( name ),\n\t\t\t};\n\t\t},\n\t\t[ name ]\n\t);\n\n\tif ( ! keyCombination ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Shortcut\n\t\t\tkeyCombination={ keyCombination }\n\t\t\tdescription={ description }\n\t\t\taliases={ aliases }\n\t\t/>\n\t);\n}\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { isString } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { Modal } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { store as keyboardShortcutsStore } from '@wordpress/keyboard-shortcuts';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { textFormattingShortcuts } from './config';\nimport Shortcut from './shortcut';\nimport DynamicShortcut from './dynamic-shortcut';\n\nconst ShortcutList = ( { shortcuts } ) => (\n\t/*\n\t * Disable reason: The `list` ARIA role is redundant but\n\t * Safari+VoiceOver won't announce the list otherwise.\n\t */\n\t/* eslint-disable jsx-a11y/no-redundant-roles */\n\t<ul\n\t\tclassName=\"edit-site-keyboard-shortcut-help-modal__shortcut-list\"\n\t\trole=\"list\"\n\t>\n\t\t{ shortcuts.map( ( shortcut, index ) => (\n\t\t\t<li\n\t\t\t\tclassName=\"edit-site-keyboard-shortcut-help-modal__shortcut\"\n\t\t\t\tkey={ index }\n\t\t\t>\n\t\t\t\t{ isString( shortcut ) ? (\n\t\t\t\t\t<DynamicShortcut name={ shortcut } />\n\t\t\t\t) : (\n\t\t\t\t\t<Shortcut { ...shortcut } />\n\t\t\t\t) }\n\t\t\t</li>\n\t\t) ) }\n\t</ul>\n\t/* eslint-enable jsx-a11y/no-redundant-roles */\n);\n\nconst ShortcutSection = ( { title, shortcuts, className } ) => (\n\t<section\n\t\tclassName={ classnames(\n\t\t\t'edit-site-keyboard-shortcut-help-modal__section',\n\t\t\tclassName\n\t\t) }\n\t>\n\t\t{ !! title && (\n\t\t\t<h2 className=\"edit-site-keyboard-shortcut-help-modal__section-title\">\n\t\t\t\t{ title }\n\t\t\t</h2>\n\t\t) }\n\t\t<ShortcutList shortcuts={ shortcuts } />\n\t</section>\n);\n\nconst ShortcutCategorySection = ( {\n\ttitle,\n\tcategoryName,\n\tadditionalShortcuts = [],\n} ) => {\n\tconst categoryShortcuts = useSelect(\n\t\t( select ) => {\n\t\t\treturn select( keyboardShortcutsStore ).getCategoryShortcuts(\n\t\t\t\tcategoryName\n\t\t\t);\n\t\t},\n\t\t[ categoryName ]\n\t);\n\n\treturn (\n\t\t<ShortcutSection\n\t\t\ttitle={ title }\n\t\t\tshortcuts={ categoryShortcuts.concat( additionalShortcuts ) }\n\t\t/>\n\t);\n};\n\nexport default function KeyboardShortcutHelpModal( {\n\tisModalActive,\n\ttoggleModal,\n} ) {\n\tif ( ! isModalActive ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Modal\n\t\t\tclassName=\"edit-site-keyboard-shortcut-help-modal\"\n\t\t\ttitle={ __( 'Keyboard shortcuts' ) }\n\t\t\tcloseLabel={ __( 'Close' ) }\n\t\t\tonRequestClose={ toggleModal }\n\t\t>\n\t\t\t<ShortcutSection\n\t\t\t\tclassName=\"edit-site-keyboard-shortcut-help-modal__main-shortcuts\"\n\t\t\t\tshortcuts={ [ 'core/edit-site/keyboard-shortcuts' ] }\n\t\t\t/>\n\t\t\t<ShortcutCategorySection\n\t\t\t\ttitle={ __( 'Global shortcuts' ) }\n\t\t\t\tcategoryName=\"global\"\n\t\t\t/>\n\n\t\t\t<ShortcutCategorySection\n\t\t\t\ttitle={ __( 'Selection shortcuts' ) }\n\t\t\t\tcategoryName=\"selection\"\n\t\t\t/>\n\n\t\t\t<ShortcutCategorySection\n\t\t\t\ttitle={ __( 'Block shortcuts' ) }\n\t\t\t\tcategoryName=\"block\"\n\t\t\t\tadditionalShortcuts={ [\n\t\t\t\t\t{\n\t\t\t\t\t\tkeyCombination: { character: '/' },\n\t\t\t\t\t\tdescription: __(\n\t\t\t\t\t\t\t'Change the block type after adding a new paragraph.'\n\t\t\t\t\t\t),\n\t\t\t\t\t\t/* translators: The forward-slash character. e.g. '/'. */\n\t\t\t\t\t\tariaLabel: __( 'Forward-slash' ),\n\t\t\t\t\t},\n\t\t\t\t] }\n\t\t\t/>\n\t\t\t<ShortcutSection\n\t\t\t\ttitle={ __( 'Text formatting' ) }\n\t\t\t\tshortcuts={ textFormattingShortcuts }\n\t\t\t/>\n\t\t</Modal>\n\t);\n}\n","/**\n * External dependencies\n */\nimport { flow } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { MenuItem } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { check } from '@wordpress/icons';\nimport { speak } from '@wordpress/a11y';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../../store';\n\nexport default function FeatureToggle( {\n\tfeature,\n\tlabel,\n\tinfo,\n\tmessageActivated,\n\tmessageDeactivated,\n} ) {\n\tconst speakMessage = () => {\n\t\tif ( isActive ) {\n\t\t\tspeak( messageDeactivated || __( 'Feature deactivated' ) );\n\t\t} else {\n\t\t\tspeak( messageActivated || __( 'Feature activated' ) );\n\t\t}\n\t};\n\n\tconst isActive = useSelect( ( select ) => {\n\t\treturn select( editSiteStore ).isFeatureActive( feature );\n\t}, [] );\n\n\tconst { toggleFeature } = useDispatch( editSiteStore );\n\n\treturn (\n\t\t<MenuItem\n\t\t\ticon={ isActive && check }\n\t\t\tisSelected={ isActive }\n\t\t\tonClick={ flow(\n\t\t\t\ttoggleFeature.bind( null, feature ),\n\t\t\t\tspeakMessage\n\t\t\t) }\n\t\t\trole=\"menuitemcheckbox\"\n\t\t\tinfo={ info }\n\t\t>\n\t\t\t{ label }\n\t\t</MenuItem>\n\t);\n}\n","/**\n * External dependencies\n */\nimport { isEmpty } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { createSlotFill } from '@wordpress/components';\n\nconst { Fill: ToolsMoreMenuGroup, Slot } = createSlotFill(\n\t'EditSiteToolsMoreMenuGroup'\n);\n\nToolsMoreMenuGroup.Slot = ( { fillProps } ) => (\n\t<Slot fillProps={ fillProps }>\n\t\t{ ( fills ) => ! isEmpty( fills ) && fills }\n\t</Slot>\n);\n\nexport default ToolsMoreMenuGroup;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst download = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M18 11.3l-1-1.1-4 4V3h-1.5v11.3L7 10.2l-1 1.1 6.2 5.8 5.8-5.8zm.5 3.7v3.5h-13V15H4v5h16v-5h-1.5z\" />\n\t</SVG>\n);\n\nexport default download;\n","/**\n * External dependencies\n */\nimport downloadjs from 'downloadjs';\n\n/**\n * WordPress dependencies\n */\nimport { __, _x } from '@wordpress/i18n';\nimport { MenuItem } from '@wordpress/components';\nimport apiFetch from '@wordpress/api-fetch';\nimport { download } from '@wordpress/icons';\nimport { useDispatch } from '@wordpress/data';\nimport { store as noticesStore } from '@wordpress/notices';\n\nexport default function SiteExport() {\n\tconst { createErrorNotice } = useDispatch( noticesStore );\n\n\tasync function handleExport() {\n\t\ttry {\n\t\t\tconst response = await apiFetch( {\n\t\t\t\tpath: '/wp-block-editor/v1/export',\n\t\t\t\tparse: false,\n\t\t\t} );\n\t\t\tconst blob = await response.blob();\n\n\t\t\tdownloadjs( blob, 'edit-site-export.zip', 'application/zip' );\n\t\t} catch ( errorResponse ) {\n\t\t\tlet error = {};\n\t\t\ttry {\n\t\t\t\terror = await errorResponse.json();\n\t\t\t} catch ( e ) {}\n\t\t\tconst errorMessage =\n\t\t\t\terror.message && error.code !== 'unknown_error'\n\t\t\t\t\t? error.message\n\t\t\t\t\t: __( 'An error occurred while creating the site export.' );\n\n\t\t\tcreateErrorNotice( errorMessage, { type: 'snackbar' } );\n\t\t}\n\t}\n\n\treturn (\n\t\t<MenuItem\n\t\t\trole=\"menuitem\"\n\t\t\ticon={ download }\n\t\t\tonClick={ handleExport }\n\t\t\tinfo={ __( 'Download your templates and template parts.' ) }\n\t\t>\n\t\t\t{ _x( 'Export', 'site exporter menu item' ) }\n\t\t</MenuItem>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useDispatch } from '@wordpress/data';\nimport { MenuItem } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../../store';\n\nexport default function WelcomeGuideMenuItem() {\n\tconst { toggleFeature } = useDispatch( editSiteStore );\n\n\treturn (\n\t\t<MenuItem onClick={ () => toggleFeature( 'welcomeGuide' ) }>\n\t\t\t{ __( 'Welcome Guide' ) }\n\t\t</MenuItem>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { MenuItem } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { useCopyToClipboard } from '@wordpress/compose';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { __unstableSerializeAndClean } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../../store';\n\nexport default function CopyContentMenuItem() {\n\tconst { createNotice } = useDispatch( noticesStore );\n\tconst getText = useSelect( ( select ) => {\n\t\treturn () => {\n\t\t\tconst { getEditedPostId, getEditedPostType } = select(\n\t\t\t\teditSiteStore\n\t\t\t);\n\t\t\tconst { getEditedEntityRecord } = select( coreStore );\n\t\t\tconst record = getEditedEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\tgetEditedPostType(),\n\t\t\t\tgetEditedPostId()\n\t\t\t);\n\t\t\tif ( record ) {\n\t\t\t\tif ( typeof record.content === 'function' ) {\n\t\t\t\t\treturn record.content( record );\n\t\t\t\t} else if ( record.blocks ) {\n\t\t\t\t\treturn __unstableSerializeAndClean( record.blocks );\n\t\t\t\t} else if ( record.content ) {\n\t\t\t\t\treturn record.content;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn '';\n\t\t};\n\t}, [] );\n\n\tfunction onSuccess() {\n\t\tcreateNotice( 'info', __( 'All content copied.' ), {\n\t\t\tisDismissible: true,\n\t\t\ttype: 'snackbar',\n\t\t} );\n\t}\n\n\tconst ref = useCopyToClipboard( getText, onSuccess );\n\n\treturn <MenuItem ref={ ref }>{ __( 'Copy all content' ) }</MenuItem>;\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { MenuItemsChoice, MenuGroup } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as keyboardShortcutsStore } from '@wordpress/keyboard-shortcuts';\n\n/**\n * Internal dependencies\n */\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../../store';\n\n/**\n * Set of available mode options.\n *\n * @type {Array}\n */\nconst MODES = [\n\t{\n\t\tvalue: 'visual',\n\t\tlabel: __( 'Visual editor' ),\n\t},\n\t{\n\t\tvalue: 'text',\n\t\tlabel: __( 'Code editor' ),\n\t},\n];\n\nfunction ModeSwitcher() {\n\tconst { shortcut, mode } = useSelect(\n\t\t( select ) => ( {\n\t\t\tshortcut: select(\n\t\t\t\tkeyboardShortcutsStore\n\t\t\t).getShortcutRepresentation( 'core/edit-site/toggle-mode' ),\n\t\t\tisRichEditingEnabled: select( editSiteStore ).getSettings()\n\t\t\t\t.richEditingEnabled,\n\t\t\tisCodeEditingEnabled: select( editSiteStore ).getSettings()\n\t\t\t\t.codeEditingEnabled,\n\t\t\tmode: select( editSiteStore ).getEditorMode(),\n\t\t} ),\n\t\t[]\n\t);\n\tconst { switchEditorMode } = useDispatch( editSiteStore );\n\n\tconst choices = MODES.map( ( choice ) => {\n\t\tif ( choice.value !== mode ) {\n\t\t\treturn { ...choice, shortcut };\n\t\t}\n\t\treturn choice;\n\t} );\n\n\treturn (\n\t\t<MenuGroup label={ __( 'Editor' ) }>\n\t\t\t<MenuItemsChoice\n\t\t\t\tchoices={ choices }\n\t\t\t\tvalue={ mode }\n\t\t\t\tonSelect={ switchEditorMode }\n\t\t\t/>\n\t\t</MenuGroup>\n\t);\n}\n\nexport default ModeSwitcher;\n","/**\n * WordPress dependencies\n */\nimport { __, _x } from '@wordpress/i18n';\nimport { useReducer } from '@wordpress/element';\nimport { useShortcut } from '@wordpress/keyboard-shortcuts';\nimport { displayShortcut } from '@wordpress/keycodes';\nimport { external, moreVertical } from '@wordpress/icons';\nimport {\n\tDropdownMenu,\n\tMenuGroup,\n\tMenuItem,\n\tVisuallyHidden,\n} from '@wordpress/components';\nimport { ActionItem } from '@wordpress/interface';\n\n/**\n * Internal dependencies\n */\nimport KeyboardShortcutHelpModal from '../../keyboard-shortcut-help-modal';\nimport FeatureToggle from '../feature-toggle';\nimport ToolsMoreMenuGroup from '../tools-more-menu-group';\nimport SiteExport from './site-export';\nimport WelcomeGuideMenuItem from './welcome-guide-menu-item';\nimport CopyContentMenuItem from './copy-content-menu-item';\nimport ModeSwitcher from '../mode-switcher';\n\nconst POPOVER_PROPS = {\n\tclassName: 'edit-site-more-menu__content',\n\tposition: 'bottom left',\n};\nconst TOGGLE_PROPS = {\n\ttooltipPosition: 'bottom',\n};\n\nexport default function MoreMenu() {\n\tconst [ isModalActive, toggleModal ] = useReducer(\n\t\t( isActive ) => ! isActive,\n\t\tfalse\n\t);\n\n\tuseShortcut( 'core/edit-site/keyboard-shortcuts', toggleModal );\n\n\treturn (\n\t\t<>\n\t\t\t<DropdownMenu\n\t\t\t\tclassName=\"edit-site-more-menu\"\n\t\t\t\ticon={ moreVertical }\n\t\t\t\tlabel={ __( 'More tools & options' ) }\n\t\t\t\tpopoverProps={ POPOVER_PROPS }\n\t\t\t\ttoggleProps={ TOGGLE_PROPS }\n\t\t\t>\n\t\t\t\t{ ( { onClose } ) => (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<MenuGroup label={ _x( 'View', 'noun' ) }>\n\t\t\t\t\t\t\t<FeatureToggle\n\t\t\t\t\t\t\t\tfeature=\"fixedToolbar\"\n\t\t\t\t\t\t\t\tlabel={ __( 'Top toolbar' ) }\n\t\t\t\t\t\t\t\tinfo={ __(\n\t\t\t\t\t\t\t\t\t'Access all block and document tools in a single place'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tmessageActivated={ __(\n\t\t\t\t\t\t\t\t\t'Top toolbar activated'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tmessageDeactivated={ __(\n\t\t\t\t\t\t\t\t\t'Top toolbar deactivated'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<FeatureToggle\n\t\t\t\t\t\t\t\tfeature=\"focusMode\"\n\t\t\t\t\t\t\t\tlabel={ __( 'Spotlight mode' ) }\n\t\t\t\t\t\t\t\tinfo={ __( 'Focus on one block at a time' ) }\n\t\t\t\t\t\t\t\tmessageActivated={ __(\n\t\t\t\t\t\t\t\t\t'Spotlight mode activated'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tmessageDeactivated={ __(\n\t\t\t\t\t\t\t\t\t'Spotlight mode deactivated'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<ModeSwitcher />\n\t\t\t\t\t\t\t<ActionItem.Slot\n\t\t\t\t\t\t\t\tname=\"core/edit-site/plugin-more-menu\"\n\t\t\t\t\t\t\t\tlabel={ __( 'Plugins' ) }\n\t\t\t\t\t\t\t\tas={ MenuGroup }\n\t\t\t\t\t\t\t\tfillProps={ { onClick: onClose } }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t\t<MenuGroup label={ __( 'Tools' ) }>\n\t\t\t\t\t\t\t<SiteExport />\n\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\tonClick={ toggleModal }\n\t\t\t\t\t\t\t\tshortcut={ displayShortcut.access( 'h' ) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'Keyboard shortcuts' ) }\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t<WelcomeGuideMenuItem />\n\t\t\t\t\t\t\t<CopyContentMenuItem />\n\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\ticon={ external }\n\t\t\t\t\t\t\t\trole=\"menuitem\"\n\t\t\t\t\t\t\t\thref={ __(\n\t\t\t\t\t\t\t\t\t'https://wordpress.org/support/article/site-editor/'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'Help' ) }\n\t\t\t\t\t\t\t\t<VisuallyHidden as=\"span\">\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t/* translators: accessibility text */\n\t\t\t\t\t\t\t\t\t\t__( '(opens in a new tab)' )\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</VisuallyHidden>\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t<ToolsMoreMenuGroup.Slot\n\t\t\t\t\t\t\t\tfillProps={ { onClose } }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t</>\n\t\t\t\t) }\n\t\t\t</DropdownMenu>\n\t\t\t<KeyboardShortcutHelpModal\n\t\t\t\tisModalActive={ isModalActive }\n\t\t\t\ttoggleModal={ toggleModal }\n\t\t\t/>\n\t\t</>\n\t);\n}\n","/**\n * External dependencies\n */\nimport { some } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { Button } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { store as coreStore } from '@wordpress/core-data';\n\nexport default function SaveButton( {\n\topenEntitiesSavedStates,\n\tisEntitiesSavedStatesOpen,\n} ) {\n\tconst { isDirty, isSaving } = useSelect( ( select ) => {\n\t\tconst {\n\t\t\t__experimentalGetDirtyEntityRecords,\n\t\t\tisSavingEntityRecord,\n\t\t} = select( coreStore );\n\t\tconst dirtyEntityRecords = __experimentalGetDirtyEntityRecords();\n\t\treturn {\n\t\t\tisDirty: dirtyEntityRecords.length > 0,\n\t\t\tisSaving: some( dirtyEntityRecords, ( record ) =>\n\t\t\t\tisSavingEntityRecord( record.kind, record.name, record.key )\n\t\t\t),\n\t\t};\n\t}, [] );\n\n\tconst disabled = ! isDirty || isSaving;\n\n\treturn (\n\t\t<>\n\t\t\t<Button\n\t\t\t\tvariant=\"primary\"\n\t\t\t\tclassName=\"edit-site-save-button__button\"\n\t\t\t\taria-disabled={ disabled }\n\t\t\t\taria-expanded={ isEntitiesSavedStatesOpen }\n\t\t\t\tdisabled={ disabled }\n\t\t\t\tisBusy={ isSaving }\n\t\t\t\tonClick={ disabled ? undefined : openEntitiesSavedStates }\n\t\t\t>\n\t\t\t\t{ __( 'Save' ) }\n\t\t\t</Button>\n\t\t</>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst undo = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M18.3 11.7c-.6-.6-1.4-.9-2.3-.9H6.7l2.9-3.3-1.1-1-4.5 5L8.5 16l1-1-2.7-2.7H16c.5 0 .9.2 1.3.5 1 1 1 3.4 1 4.5v.3h1.5v-.2c0-1.5 0-4.3-1.5-5.7z\" />\n\t</SVG>\n);\n\nexport default undo;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst redo = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M15.6 6.5l-1.1 1 2.9 3.3H8c-.9 0-1.7.3-2.3.9-1.4 1.5-1.4 4.2-1.4 5.6v.2h1.5v-.3c0-1.1 0-3.5 1-4.5.3-.3.7-.5 1.3-.5h9.2L14.5 15l1.1 1.1 4.6-4.6-4.6-5z\" />\n\t</SVG>\n);\n\nexport default redo;\n","/**\n * WordPress dependencies\n */\nimport { __, isRTL } from '@wordpress/i18n';\nimport { Button } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { undo as undoIcon, redo as redoIcon } from '@wordpress/icons';\nimport { displayShortcut } from '@wordpress/keycodes';\nimport { store as coreStore } from '@wordpress/core-data';\n\nexport default function UndoButton() {\n\tconst hasUndo = useSelect(\n\t\t( select ) => select( coreStore ).hasUndo(),\n\t\t[]\n\t);\n\tconst { undo } = useDispatch( coreStore );\n\treturn (\n\t\t<Button\n\t\t\ticon={ ! isRTL() ? undoIcon : redoIcon }\n\t\t\tlabel={ __( 'Undo' ) }\n\t\t\tshortcut={ displayShortcut.primary( 'z' ) }\n\t\t\t// If there are no undo levels we don't want to actually disable this\n\t\t\t// button, because it will remove focus for keyboard users.\n\t\t\t// See: https://github.com/WordPress/gutenberg/issues/3486\n\t\t\taria-disabled={ ! hasUndo }\n\t\t\tonClick={ hasUndo ? undo : undefined }\n\t\t/>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __, isRTL } from '@wordpress/i18n';\nimport { Button } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { redo as redoIcon, undo as undoIcon } from '@wordpress/icons';\nimport { displayShortcut } from '@wordpress/keycodes';\nimport { store as coreStore } from '@wordpress/core-data';\n\nexport default function RedoButton() {\n\tconst hasRedo = useSelect(\n\t\t( select ) => select( coreStore ).hasRedo(),\n\t\t[]\n\t);\n\tconst { redo } = useDispatch( coreStore );\n\treturn (\n\t\t<Button\n\t\t\ticon={ ! isRTL() ? redoIcon : undoIcon }\n\t\t\tlabel={ __( 'Redo' ) }\n\t\t\tshortcut={ displayShortcut.primaryShift( 'z' ) }\n\t\t\t// If there are no undo levels we don't want to actually disable this\n\t\t\t// button, because it will remove focus for keyboard users.\n\t\t\t// See: https://github.com/WordPress/gutenberg/issues/3486\n\t\t\taria-disabled={ ! hasRedo }\n\t\t\tonClick={ hasRedo ? redo : undefined }\n\t\t/>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst chevronDown = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z\" />\n\t</SVG>\n);\n\nexport default chevronDown;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { sprintf, __ } from '@wordpress/i18n';\nimport {\n\t__experimentalGetBlockLabel as getBlockLabel,\n\tgetBlockType,\n} from '@wordpress/blocks';\nimport { useSelect } from '@wordpress/data';\nimport {\n\tDropdown,\n\tButton,\n\tVisuallyHidden,\n\t__experimentalText as Text,\n} from '@wordpress/components';\nimport { chevronDown } from '@wordpress/icons';\nimport { useRef } from '@wordpress/element';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\n\nfunction getBlockDisplayText( block ) {\n\tif ( block ) {\n\t\tconst blockType = getBlockType( block.name );\n\t\treturn blockType ? getBlockLabel( blockType, block.attributes ) : null;\n\t}\n\treturn null;\n}\n\nfunction useSecondaryText() {\n\tconst { getBlock } = useSelect( blockEditorStore );\n\tconst activeEntityBlockId = useSelect(\n\t\t( select ) =>\n\t\t\tselect(\n\t\t\t\tblockEditorStore\n\t\t\t).__experimentalGetActiveBlockIdByBlockNames( [\n\t\t\t\t'core/template-part',\n\t\t\t] ),\n\t\t[]\n\t);\n\n\tif ( activeEntityBlockId ) {\n\t\treturn {\n\t\t\tlabel: getBlockDisplayText( getBlock( activeEntityBlockId ) ),\n\t\t\tisActive: true,\n\t\t};\n\t}\n\n\treturn {};\n}\n\n/**\n * @param {Object}   props             Props for the DocumentActions component.\n * @param {string}   props.entityTitle The title to display.\n * @param {string}   props.entityLabel A label to use for entity-related options.\n *                                     E.g. \"template\" would be used for \"edit\n *                                     template\" and \"show template details\".\n * @param {boolean}  props.isLoaded    Whether the data is available.\n * @param {Function} props.children    React component to use for the\n *                                     information dropdown area. Should be a\n *                                     function which accepts dropdown props.\n */\nexport default function DocumentActions( {\n\tentityTitle,\n\tentityLabel,\n\tisLoaded,\n\tchildren: dropdownContent,\n} ) {\n\tconst { label } = useSecondaryText();\n\n\t// The title ref is passed to the popover as the anchorRef so that the\n\t// dropdown is centered over the whole title area rather than just one\n\t// part of it.\n\tconst titleRef = useRef();\n\n\t// Return a simple loading indicator until we have information to show.\n\tif ( ! isLoaded ) {\n\t\treturn (\n\t\t\t<div className=\"edit-site-document-actions\">\n\t\t\t\t{ __( 'Loading…' ) }\n\t\t\t</div>\n\t\t);\n\t}\n\n\t// Return feedback that the template does not seem to exist.\n\tif ( ! entityTitle ) {\n\t\treturn (\n\t\t\t<div className=\"edit-site-document-actions\">\n\t\t\t\t{ __( 'Template not found' ) }\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tclassName={ classnames( 'edit-site-document-actions', {\n\t\t\t\t'has-secondary-label': !! label,\n\t\t\t} ) }\n\t\t>\n\t\t\t<div\n\t\t\t\tref={ titleRef }\n\t\t\t\tclassName=\"edit-site-document-actions__title-wrapper\"\n\t\t\t>\n\t\t\t\t<Text\n\t\t\t\t\tsize=\"body\"\n\t\t\t\t\tclassName=\"edit-site-document-actions__title\"\n\t\t\t\t\tas=\"h1\"\n\t\t\t\t>\n\t\t\t\t\t<VisuallyHidden as=\"span\">\n\t\t\t\t\t\t{ sprintf(\n\t\t\t\t\t\t\t/* translators: %s: the entity being edited, like \"template\"*/\n\t\t\t\t\t\t\t__( 'Editing %s: ' ),\n\t\t\t\t\t\t\tentityLabel\n\t\t\t\t\t\t) }\n\t\t\t\t\t</VisuallyHidden>\n\t\t\t\t\t{ entityTitle }\n\t\t\t\t</Text>\n\n\t\t\t\t<Text\n\t\t\t\t\tsize=\"body\"\n\t\t\t\t\tclassName=\"edit-site-document-actions__secondary-item\"\n\t\t\t\t>\n\t\t\t\t\t{ label ?? '' }\n\t\t\t\t</Text>\n\n\t\t\t\t{ dropdownContent && (\n\t\t\t\t\t<Dropdown\n\t\t\t\t\t\tpopoverProps={ {\n\t\t\t\t\t\t\tanchorRef: titleRef.current,\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tposition=\"bottom center\"\n\t\t\t\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tclassName=\"edit-site-document-actions__get-info\"\n\t\t\t\t\t\t\t\ticon={ chevronDown }\n\t\t\t\t\t\t\t\taria-expanded={ isOpen }\n\t\t\t\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\t\t\t\tlabel={ sprintf(\n\t\t\t\t\t\t\t\t\t/* translators: %s: the entity to see details about, like \"template\"*/\n\t\t\t\t\t\t\t\t\t__( 'Show %s details' ),\n\t\t\t\t\t\t\t\t\tentityLabel\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tcontentClassName=\"edit-site-document-actions__info-dropdown\"\n\t\t\t\t\t\trenderContent={ dropdownContent }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { addQueryArgs } from '@wordpress/url';\n\n/**\n * Internal dependencies\n */\nimport { useHistory } from './index';\n\nexport function useLink( params = {}, state, shouldReplace = false ) {\n\tconst history = useHistory();\n\n\tfunction onClick( event ) {\n\t\tevent.preventDefault();\n\n\t\tif ( shouldReplace ) {\n\t\t\thistory.replace( params, state );\n\t\t} else {\n\t\t\thistory.push( params, state );\n\t\t}\n\t}\n\n\treturn {\n\t\thref: addQueryArgs( window.location.href, params ),\n\t\tonClick,\n\t};\n}\n\nexport default function Link( {\n\tparams = {},\n\tstate,\n\treplace: shouldReplace = false,\n\tchildren,\n\t...props\n} ) {\n\tconst { href, onClick } = useLink( params, state, shouldReplace );\n\n\treturn (\n\t\t<a href={ href } onClick={ onClick } { ...props }>\n\t\t\t{ children }\n\t\t</a>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { sprintf, __ } from '@wordpress/i18n';\nimport { DropdownMenu, MenuGroup, MenuItem } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as editorStore } from '@wordpress/editor';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { moreVertical } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../store';\nimport isTemplateRevertable from '../../utils/is-template-revertable';\nimport { useLocation } from '../routes';\nimport { useLink } from '../routes/link';\n\nfunction TemplatePartItemMore( {\n\tonClose,\n\ttemplatePart,\n\tcloseTemplateDetailsDropdown,\n} ) {\n\tconst { revertTemplate } = useDispatch( editSiteStore );\n\tconst { params } = useLocation();\n\tconst editLinkProps = useLink(\n\t\t{\n\t\t\tpostId: templatePart.id,\n\t\t\tpostType: templatePart.type,\n\t\t},\n\t\t{\n\t\t\tfromTemplateId: params.postId,\n\t\t}\n\t);\n\n\tfunction editTemplatePart( event ) {\n\t\teditLinkProps.onClick( event );\n\t\tonClose();\n\t\tcloseTemplateDetailsDropdown();\n\t}\n\n\tfunction clearCustomizations() {\n\t\trevertTemplate( templatePart );\n\t\tonClose();\n\t\tcloseTemplateDetailsDropdown();\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<MenuGroup>\n\t\t\t\t<MenuItem { ...editLinkProps } onClick={ editTemplatePart }>\n\t\t\t\t\t{ sprintf(\n\t\t\t\t\t\t/* translators: %s: template part title */\n\t\t\t\t\t\t__( 'Edit %s' ),\n\t\t\t\t\t\ttemplatePart.title?.rendered\n\t\t\t\t\t) }\n\t\t\t\t</MenuItem>\n\t\t\t</MenuGroup>\n\t\t\t{ isTemplateRevertable( templatePart ) && (\n\t\t\t\t<MenuGroup>\n\t\t\t\t\t<MenuItem\n\t\t\t\t\t\tinfo={ __( 'Restore template to default state' ) }\n\t\t\t\t\t\tonClick={ clearCustomizations }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Clear customizations' ) }\n\t\t\t\t\t</MenuItem>\n\t\t\t\t</MenuGroup>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nfunction TemplatePartItem( {\n\ttemplatePart,\n\tclientId,\n\tcloseTemplateDetailsDropdown,\n} ) {\n\tconst { selectBlock, toggleBlockHighlight } = useDispatch(\n\t\tblockEditorStore\n\t);\n\tconst templatePartArea = useSelect(\n\t\t( select ) => {\n\t\t\tconst defaultAreas = select(\n\t\t\t\teditorStore\n\t\t\t).__experimentalGetDefaultTemplatePartAreas();\n\n\t\t\treturn defaultAreas.find(\n\t\t\t\t( defaultArea ) => defaultArea.area === templatePart.area\n\t\t\t);\n\t\t},\n\t\t[ templatePart.area ]\n\t);\n\tconst highlightBlock = () => toggleBlockHighlight( clientId, true );\n\tconst cancelHighlightBlock = () => toggleBlockHighlight( clientId, false );\n\n\treturn (\n\t\t<div\n\t\t\trole=\"menuitem\"\n\t\t\tclassName=\"edit-site-template-details__template-areas-item\"\n\t\t>\n\t\t\t<MenuItem\n\t\t\t\trole=\"button\"\n\t\t\t\ticon={ templatePartArea?.icon }\n\t\t\t\ticonPosition=\"left\"\n\t\t\t\tonClick={ () => {\n\t\t\t\t\tselectBlock( clientId );\n\t\t\t\t} }\n\t\t\t\tonMouseOver={ highlightBlock }\n\t\t\t\tonMouseLeave={ cancelHighlightBlock }\n\t\t\t\tonFocus={ highlightBlock }\n\t\t\t\tonBlur={ cancelHighlightBlock }\n\t\t\t>\n\t\t\t\t{ templatePartArea?.label }\n\t\t\t</MenuItem>\n\n\t\t\t<DropdownMenu\n\t\t\t\ticon={ moreVertical }\n\t\t\t\tlabel={ __( 'More options' ) }\n\t\t\t\tclassName=\"edit-site-template-details__template-areas-item-more\"\n\t\t\t>\n\t\t\t\t{ ( { onClose } ) => (\n\t\t\t\t\t<TemplatePartItemMore\n\t\t\t\t\t\tonClose={ onClose }\n\t\t\t\t\t\ttemplatePart={ templatePart }\n\t\t\t\t\t\tcloseTemplateDetailsDropdown={\n\t\t\t\t\t\t\tcloseTemplateDetailsDropdown\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</DropdownMenu>\n\t\t</div>\n\t);\n}\n\nexport default function TemplateAreas( { closeTemplateDetailsDropdown } ) {\n\tconst templateParts = useSelect(\n\t\t( select ) => select( editSiteStore ).getCurrentTemplateTemplateParts(),\n\t\t[]\n\t);\n\n\tif ( ! templateParts.length ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<MenuGroup\n\t\t\tlabel={ __( 'Areas' ) }\n\t\t\tclassName=\"edit-site-template-details__group edit-site-template-details__template-areas\"\n\t\t>\n\t\t\t{ templateParts.map( ( { templatePart, block } ) => (\n\t\t\t\t<TemplatePartItem\n\t\t\t\t\tkey={ templatePart.slug }\n\t\t\t\t\tclientId={ block.clientId }\n\t\t\t\t\ttemplatePart={ templatePart }\n\t\t\t\t\tcloseTemplateDetailsDropdown={\n\t\t\t\t\t\tcloseTemplateDetailsDropdown\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t) ) }\n\t\t</MenuGroup>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { TextControl } from '@wordpress/components';\nimport { useEntityProp } from '@wordpress/core-data';\n\nexport default function EditTemplateTitle( { template } ) {\n\tconst [ title, setTitle ] = useEntityProp(\n\t\t'postType',\n\t\ttemplate.type,\n\t\t'title',\n\t\ttemplate.id\n\t);\n\n\treturn (\n\t\t<TextControl\n\t\t\tlabel={ __( 'Title' ) }\n\t\t\tvalue={ title }\n\t\t\thelp={ __(\n\t\t\t\t'Give the template a title that indicates its purpose, e.g. \"Full Width\".'\n\t\t\t) }\n\t\t\tonChange={ ( newTitle ) => {\n\t\t\t\tsetTitle( newTitle || template.slug );\n\t\t\t} }\n\t\t/>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useMemo } from '@wordpress/element';\nimport { sprintf, __ } from '@wordpress/i18n';\nimport {\n\tButton,\n\tMenuGroup,\n\tMenuItem,\n\t__experimentalHeading as Heading,\n\t__experimentalText as Text,\n} from '@wordpress/components';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { store as editorStore } from '@wordpress/editor';\n\n/**\n * Internal dependencies\n */\nimport isTemplateRevertable from '../../utils/is-template-revertable';\nimport {\n\tMENU_TEMPLATES,\n\tTEMPLATE_PARTS_SUB_MENUS,\n} from '../navigation-sidebar/navigation-panel/constants';\nimport { store as editSiteStore } from '../../store';\nimport TemplateAreas from './template-areas';\nimport EditTemplateTitle from './edit-template-title';\nimport { useLink } from '../routes/link';\n\nexport default function TemplateDetails( { template, onClose } ) {\n\tconst { title, description } = useSelect(\n\t\t( select ) =>\n\t\t\tselect( editorStore ).__experimentalGetTemplateInfo( template ),\n\t\t[]\n\t);\n\tconst { revertTemplate } = useDispatch( editSiteStore );\n\n\tconst templateSubMenu = useMemo( () => {\n\t\tif ( template?.type === 'wp_template' ) {\n\t\t\treturn { title: __( 'templates' ), menu: MENU_TEMPLATES };\n\t\t}\n\n\t\treturn TEMPLATE_PARTS_SUB_MENUS.find(\n\t\t\t( { area } ) => area === template?.area\n\t\t);\n\t}, [ template ] );\n\n\tconst browseAllLinkProps = useLink( {\n\t\t// TODO: We should update this to filter by template part's areas as well.\n\t\tpostType: template.type,\n\t\tpostId: undefined,\n\t} );\n\n\tif ( ! template ) {\n\t\treturn null;\n\t}\n\n\tconst revert = () => {\n\t\trevertTemplate( template );\n\t\tonClose();\n\t};\n\n\treturn (\n\t\t<div className=\"edit-site-template-details\">\n\t\t\t<div className=\"edit-site-template-details__group\">\n\t\t\t\t{ template.is_custom ? (\n\t\t\t\t\t<EditTemplateTitle template={ template } />\n\t\t\t\t) : (\n\t\t\t\t\t<Heading\n\t\t\t\t\t\tlevel={ 4 }\n\t\t\t\t\t\tweight={ 600 }\n\t\t\t\t\t\tclassName=\"edit-site-template-details__title\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ title }\n\t\t\t\t\t</Heading>\n\t\t\t\t) }\n\n\t\t\t\t{ description && (\n\t\t\t\t\t<Text\n\t\t\t\t\t\tsize=\"body\"\n\t\t\t\t\t\tclassName=\"edit-site-template-details__description\"\n\t\t\t\t\t\tas=\"p\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ description }\n\t\t\t\t\t</Text>\n\t\t\t\t) }\n\t\t\t</div>\n\n\t\t\t<TemplateAreas closeTemplateDetailsDropdown={ onClose } />\n\n\t\t\t{ isTemplateRevertable( template ) && (\n\t\t\t\t<MenuGroup className=\"edit-site-template-details__group edit-site-template-details__revert\">\n\t\t\t\t\t<MenuItem\n\t\t\t\t\t\tclassName=\"edit-site-template-details__revert-button\"\n\t\t\t\t\t\tinfo={ __( 'Restore template to default state' ) }\n\t\t\t\t\t\tonClick={ revert }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Clear customizations' ) }\n\t\t\t\t\t</MenuItem>\n\t\t\t\t</MenuGroup>\n\t\t\t) }\n\n\t\t\t<Button\n\t\t\t\tclassName=\"edit-site-template-details__show-all-button\"\n\t\t\t\t{ ...browseAllLinkProps }\n\t\t\t>\n\t\t\t\t{ sprintf(\n\t\t\t\t\t/* translators: the template part's area name (\"Headers\", \"Sidebars\") or \"templates\". */\n\t\t\t\t\t__( 'Browse all %s' ),\n\t\t\t\t\ttemplateSubMenu.title\n\t\t\t\t) }\n\t\t\t</Button>\n\t\t</div>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useCallback, useRef } from '@wordpress/element';\nimport { useViewportMatch } from '@wordpress/compose';\nimport {\n\tToolSelector,\n\t__experimentalPreviewOptions as PreviewOptions,\n} from '@wordpress/block-editor';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { PinnedItems } from '@wordpress/interface';\nimport { _x, __ } from '@wordpress/i18n';\nimport { listView, plus } from '@wordpress/icons';\nimport { Button, ToolbarItem } from '@wordpress/components';\nimport { store as keyboardShortcutsStore } from '@wordpress/keyboard-shortcuts';\nimport { store as editorStore } from '@wordpress/editor';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport MoreMenu from './more-menu';\nimport SaveButton from '../save-button';\nimport UndoButton from './undo-redo/undo';\nimport RedoButton from './undo-redo/redo';\nimport DocumentActions from './document-actions';\nimport TemplateDetails from '../template-details';\nimport { store as editSiteStore } from '../../store';\n\nconst preventDefault = ( event ) => {\n\tevent.preventDefault();\n};\n\nexport default function Header( {\n\topenEntitiesSavedStates,\n\tisEntitiesSavedStatesOpen,\n} ) {\n\tconst inserterButton = useRef();\n\tconst {\n\t\tdeviceType,\n\t\tentityTitle,\n\t\ttemplate,\n\t\ttemplateType,\n\t\tisInserterOpen,\n\t\tisListViewOpen,\n\t\tlistViewShortcut,\n\t\tisLoaded,\n\t\tisVisualMode,\n\t} = useSelect( ( select ) => {\n\t\tconst {\n\t\t\t__experimentalGetPreviewDeviceType,\n\t\t\tgetEditedPostType,\n\t\t\tgetEditedPostId,\n\t\t\tisInserterOpened,\n\t\t\tisListViewOpened,\n\t\t\tgetEditorMode,\n\t\t} = select( editSiteStore );\n\t\tconst { getEditedEntityRecord } = select( coreStore );\n\t\tconst { __experimentalGetTemplateInfo: getTemplateInfo } = select(\n\t\t\teditorStore\n\t\t);\n\t\tconst { getShortcutRepresentation } = select( keyboardShortcutsStore );\n\n\t\tconst postType = getEditedPostType();\n\t\tconst postId = getEditedPostId();\n\t\tconst record = getEditedEntityRecord( 'postType', postType, postId );\n\t\tconst _isLoaded = !! postId;\n\n\t\treturn {\n\t\t\tdeviceType: __experimentalGetPreviewDeviceType(),\n\t\t\tentityTitle: getTemplateInfo( record ).title,\n\t\t\tisLoaded: _isLoaded,\n\t\t\ttemplate: record,\n\t\t\ttemplateType: postType,\n\t\t\tisInserterOpen: isInserterOpened(),\n\t\t\tisListViewOpen: isListViewOpened(),\n\t\t\tlistViewShortcut: getShortcutRepresentation(\n\t\t\t\t'core/edit-site/toggle-list-view'\n\t\t\t),\n\t\t\tisVisualMode: getEditorMode() === 'visual',\n\t\t};\n\t}, [] );\n\n\tconst {\n\t\t__experimentalSetPreviewDeviceType: setPreviewDeviceType,\n\t\tsetIsInserterOpened,\n\t\tsetIsListViewOpened,\n\t} = useDispatch( editSiteStore );\n\n\tconst isLargeViewport = useViewportMatch( 'medium' );\n\n\tconst openInserter = useCallback( () => {\n\t\tif ( isInserterOpen ) {\n\t\t\t// Focusing the inserter button closes the inserter popover\n\t\t\tinserterButton.current.focus();\n\t\t} else {\n\t\t\tsetIsInserterOpened( true );\n\t\t}\n\t}, [ isInserterOpen, setIsInserterOpened ] );\n\n\tconst toggleListView = useCallback(\n\t\t() => setIsListViewOpened( ! isListViewOpen ),\n\t\t[ setIsListViewOpened, isListViewOpen ]\n\t);\n\n\tconst isFocusMode = templateType === 'wp_template_part';\n\n\treturn (\n\t\t<div className=\"edit-site-header\">\n\t\t\t<div className=\"edit-site-header_start\">\n\t\t\t\t<div className=\"edit-site-header__toolbar\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\tref={ inserterButton }\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\tisPressed={ isInserterOpen }\n\t\t\t\t\t\tclassName=\"edit-site-header-toolbar__inserter-toggle\"\n\t\t\t\t\t\tdisabled={ ! isVisualMode }\n\t\t\t\t\t\tonMouseDown={ preventDefault }\n\t\t\t\t\t\tonClick={ openInserter }\n\t\t\t\t\t\ticon={ plus }\n\t\t\t\t\t\tlabel={ _x(\n\t\t\t\t\t\t\t'Toggle block inserter',\n\t\t\t\t\t\t\t'Generic label for block inserter button'\n\t\t\t\t\t\t) }\n\t\t\t\t\t/>\n\t\t\t\t\t{ isLargeViewport && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<ToolbarItem\n\t\t\t\t\t\t\t\tas={ ToolSelector }\n\t\t\t\t\t\t\t\tdisabled={ ! isVisualMode }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<UndoButton />\n\t\t\t\t\t\t\t<RedoButton />\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tclassName=\"edit-site-header-toolbar__list-view-toggle\"\n\t\t\t\t\t\t\t\tdisabled={ ! isVisualMode }\n\t\t\t\t\t\t\t\ticon={ listView }\n\t\t\t\t\t\t\t\tisPressed={ isListViewOpen }\n\t\t\t\t\t\t\t\t/* translators: button label text should, if possible, be under 16 characters. */\n\t\t\t\t\t\t\t\tlabel={ __( 'List View' ) }\n\t\t\t\t\t\t\t\tonClick={ toggleListView }\n\t\t\t\t\t\t\t\tshortcut={ listViewShortcut }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"edit-site-header_center\">\n\t\t\t\t<DocumentActions\n\t\t\t\t\tentityTitle={ entityTitle }\n\t\t\t\t\tentityLabel={\n\t\t\t\t\t\ttemplateType === 'wp_template_part'\n\t\t\t\t\t\t\t? 'template part'\n\t\t\t\t\t\t\t: 'template'\n\t\t\t\t\t}\n\t\t\t\t\tisLoaded={ isLoaded }\n\t\t\t\t>\n\t\t\t\t\t{ ( { onClose } ) => (\n\t\t\t\t\t\t<TemplateDetails\n\t\t\t\t\t\t\ttemplate={ template }\n\t\t\t\t\t\t\tonClose={ onClose }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</DocumentActions>\n\t\t\t</div>\n\n\t\t\t<div className=\"edit-site-header_end\">\n\t\t\t\t<div className=\"edit-site-header__actions\">\n\t\t\t\t\t{ ! isFocusMode && (\n\t\t\t\t\t\t<PreviewOptions\n\t\t\t\t\t\t\tdeviceType={ deviceType }\n\t\t\t\t\t\t\tsetDeviceType={ setPreviewDeviceType }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t<SaveButton\n\t\t\t\t\t\topenEntitiesSavedStates={ openEntitiesSavedStates }\n\t\t\t\t\t\tisEntitiesSavedStatesOpen={ isEntitiesSavedStatesOpen }\n\t\t\t\t\t/>\n\t\t\t\t\t<PinnedItems.Slot scope=\"core/edit-site\" />\n\t\t\t\t\t<MoreMenu />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst cog = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path\n\t\t\tfillRule=\"evenodd\"\n\t\t\td=\"M10.289 4.836A1 1 0 0111.275 4h1.306a1 1 0 01.987.836l.244 1.466c.787.26 1.503.679 2.108 1.218l1.393-.522a1 1 0 011.216.437l.653 1.13a1 1 0 01-.23 1.273l-1.148.944a6.025 6.025 0 010 2.435l1.149.946a1 1 0 01.23 1.272l-.653 1.13a1 1 0 01-1.216.437l-1.394-.522c-.605.54-1.32.958-2.108 1.218l-.244 1.466a1 1 0 01-.987.836h-1.306a1 1 0 01-.986-.836l-.244-1.466a5.995 5.995 0 01-2.108-1.218l-1.394.522a1 1 0 01-1.217-.436l-.653-1.131a1 1 0 01.23-1.272l1.149-.946a6.026 6.026 0 010-2.435l-1.148-.944a1 1 0 01-.23-1.272l.653-1.131a1 1 0 011.217-.437l1.393.522a5.994 5.994 0 012.108-1.218l.244-1.466zM14.929 12a3 3 0 11-6 0 3 3 0 016 0z\"\n\t\t\tclipRule=\"evenodd\"\n\t\t/>\n\t</SVG>\n);\n\nexport default cog;\n","/**\n * WordPress dependencies\n */\nimport {\n\tComplementaryArea,\n\tComplementaryAreaMoreMenuItem,\n} from '@wordpress/interface';\n\nexport default function DefaultSidebar( {\n\tclassName,\n\tidentifier,\n\ttitle,\n\ticon,\n\tchildren,\n\tcloseLabel,\n\theader,\n\theaderClassName,\n\tpanelClassName,\n} ) {\n\treturn (\n\t\t<>\n\t\t\t<ComplementaryArea\n\t\t\t\tclassName={ className }\n\t\t\t\tscope=\"core/edit-site\"\n\t\t\t\tidentifier={ identifier }\n\t\t\t\ttitle={ title }\n\t\t\t\ticon={ icon }\n\t\t\t\tcloseLabel={ closeLabel }\n\t\t\t\theader={ header }\n\t\t\t\theaderClassName={ headerClassName }\n\t\t\t\tpanelClassName={ panelClassName }\n\t\t\t>\n\t\t\t\t{ children }\n\t\t\t</ComplementaryArea>\n\t\t\t<ComplementaryAreaMoreMenuItem\n\t\t\t\tscope=\"core/edit-site\"\n\t\t\t\tidentifier={ identifier }\n\t\t\t\ticon={ icon }\n\t\t\t>\n\t\t\t\t{ title }\n\t\t\t</ComplementaryAreaMoreMenuItem>\n\t\t</>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nexport const styles = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"M12 4c-4.4 0-8 3.6-8 8v.1c0 4.1 3.2 7.5 7.2 7.9h.8c4.4 0 8-3.6 8-8s-3.6-8-8-8zm0 15V5c3.9 0 7 3.1 7 7s-3.1 7-7 7z\" />\n\t</SVG>\n);\n\nexport default styles;\n","/**\n * WordPress dependencies\n */\nimport { cloneElement } from '@wordpress/element';\n\n/** @typedef {{icon: JSX.Element, size?: number} & import('@wordpress/primitives').SVGProps} IconProps */\n\n/**\n * Return an SVG icon.\n *\n * @param {IconProps} props icon is the SVG component to render\n *                          size is a number specifiying the icon size in pixels\n *                          Other props will be passed to wrapped SVG component\n *\n * @return {JSX.Element}  Icon component\n */\nfunction Icon( { icon, size = 24, ...props } ) {\n\treturn cloneElement( icon, {\n\t\twidth: size,\n\t\theight: size,\n\t\t...props,\n\t} );\n}\n\nexport default Icon;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst chevronLeft = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M14.6 7l-1.2-1L8 12l5.4 6 1.2-1-4.6-5z\" />\n\t</SVG>\n);\n\nexport default chevronLeft;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst chevronRight = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M10.6 6L9.4 7l4.6 5-4.6 5 1.2 1 5.4-6z\" />\n\t</SVG>\n);\n\nexport default chevronRight;\n","/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalNavigatorButton as NavigatorButton,\n\t__experimentalNavigatorBackButton as NavigatorBackButton,\n\t__experimentalItem as Item,\n\tFlexItem,\n\t__experimentalHStack as HStack,\n} from '@wordpress/components';\nimport { Icon } from '@wordpress/icons';\n\nfunction GenericNavigationButton( { icon, children, ...props } ) {\n\treturn (\n\t\t<Item { ...props }>\n\t\t\t{ icon && (\n\t\t\t\t<HStack justify=\"flex-start\">\n\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t<Icon icon={ icon } size={ 24 } />\n\t\t\t\t\t</FlexItem>\n\t\t\t\t\t<FlexItem>{ children }</FlexItem>\n\t\t\t\t</HStack>\n\t\t\t) }\n\t\t\t{ ! icon && children }\n\t\t</Item>\n\t);\n}\n\nfunction NavigationButton( props ) {\n\treturn <NavigatorButton as={ GenericNavigationButton } { ...props } />;\n}\n\nfunction NavigationBackButton( props ) {\n\treturn <NavigatorBackButton as={ GenericNavigationButton } { ...props } />;\n}\n\nexport { NavigationButton, NavigationBackButton };\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst typography = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M6.9 7L3 17.8h1.7l1-2.8h4.1l1 2.8h1.7L8.6 7H6.9zm-.7 6.6l1.5-4.3 1.5 4.3h-3zM21.6 17c-.1.1-.2.2-.3.2-.1.1-.2.1-.4.1s-.3-.1-.4-.2c-.1-.1-.1-.3-.1-.6V12c0-.5 0-1-.1-1.4-.1-.4-.3-.7-.5-1-.2-.2-.5-.4-.9-.5-.4 0-.8-.1-1.3-.1s-1 .1-1.4.2c-.4.1-.7.3-1 .4-.2.2-.4.3-.6.5-.1.2-.2.4-.2.7 0 .3.1.5.2.8.2.2.4.3.8.3.3 0 .6-.1.8-.3.2-.2.3-.4.3-.7 0-.3-.1-.5-.2-.7-.2-.2-.4-.3-.6-.4.2-.2.4-.3.7-.4.3-.1.6-.1.8-.1.3 0 .6 0 .8.1.2.1.4.3.5.5.1.2.2.5.2.9v1.1c0 .3-.1.5-.3.6-.2.2-.5.3-.9.4-.3.1-.7.3-1.1.4-.4.1-.8.3-1.1.5-.3.2-.6.4-.8.7-.2.3-.3.7-.3 1.2 0 .6.2 1.1.5 1.4.3.4.9.5 1.6.5.5 0 1-.1 1.4-.3.4-.2.8-.6 1.1-1.1 0 .4.1.7.3 1 .2.3.6.4 1.2.4.4 0 .7-.1.9-.2.2-.1.5-.3.7-.4h-.3zm-3-.9c-.2.4-.5.7-.8.8-.3.2-.6.2-.8.2-.4 0-.6-.1-.9-.3-.2-.2-.3-.6-.3-1.1 0-.5.1-.9.3-1.2s.5-.5.8-.7c.3-.2.7-.3 1-.5.3-.1.6-.3.7-.6v3.4z\" />\n\t</SVG>\n);\n\nexport default typography;\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nconst color = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"M17.2 10.9c-.5-1-1.2-2.1-2.1-3.2-.6-.9-1.3-1.7-2.1-2.6L12 4l-1 1.1c-.6.9-1.3 1.7-2 2.6-.8 1.2-1.5 2.3-2 3.2-.6 1.2-1 2.2-1 3 0 3.4 2.7 6.1 6.1 6.1s6.1-2.7 6.1-6.1c0-.8-.3-1.8-1-3zm-5.1 7.6c-2.5 0-4.6-2.1-4.6-4.6 0-.3.1-1 .8-2.3.5-.9 1.1-1.9 2-3.1.7-.9 1.3-1.7 1.8-2.3.7.8 1.3 1.6 1.8 2.3.8 1.1 1.5 2.2 2 3.1.7 1.3.8 2 .8 2.3 0 2.5-2.1 4.6-4.6 4.6z\" />\n\t</SVG>\n);\n\nexport default color;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst layout = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M18 5.5H6a.5.5 0 00-.5.5v3h13V6a.5.5 0 00-.5-.5zm.5 5H10v8h8a.5.5 0 00.5-.5v-7.5zm-10 0h-3V18a.5.5 0 00.5.5h2.5v-8zM6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z\" />\n\t</SVG>\n);\n\nexport default layout;\n","/**\n * External dependencies\n */\nimport { get, find, isString } from 'lodash';\n\n/* Supporting data */\nexport const ROOT_BLOCK_NAME = 'root';\nexport const ROOT_BLOCK_SELECTOR = 'body';\nexport const ROOT_BLOCK_SUPPORTS = [\n\t'background',\n\t'backgroundColor',\n\t'color',\n\t'linkColor',\n\t'fontFamily',\n\t'fontSize',\n\t'fontStyle',\n\t'fontWeight',\n\t'lineHeight',\n\t'textDecoration',\n\t'textTransform',\n\t'padding',\n];\n\nexport const PRESET_METADATA = [\n\t{\n\t\tpath: [ 'color', 'palette' ],\n\t\tvalueKey: 'color',\n\t\tcssVarInfix: 'color',\n\t\tclasses: [\n\t\t\t{ classSuffix: 'color', propertyName: 'color' },\n\t\t\t{\n\t\t\t\tclassSuffix: 'background-color',\n\t\t\t\tpropertyName: 'background-color',\n\t\t\t},\n\t\t\t{\n\t\t\t\tclassSuffix: 'border-color',\n\t\t\t\tpropertyName: 'border-color',\n\t\t\t},\n\t\t],\n\t},\n\t{\n\t\tpath: [ 'color', 'gradients' ],\n\t\tvalueKey: 'gradient',\n\t\tcssVarInfix: 'gradient',\n\t\tclasses: [\n\t\t\t{\n\t\t\t\tclassSuffix: 'gradient-background',\n\t\t\t\tpropertyName: 'background',\n\t\t\t},\n\t\t],\n\t},\n\t{\n\t\tpath: [ 'typography', 'fontSizes' ],\n\t\tvalueKey: 'size',\n\t\tcssVarInfix: 'font-size',\n\t\tclasses: [ { classSuffix: 'font-size', propertyName: 'font-size' } ],\n\t},\n\t{\n\t\tpath: [ 'typography', 'fontFamilies' ],\n\t\tvalueKey: 'fontFamily',\n\t\tcssVarInfix: 'font-family',\n\t\tclasses: [\n\t\t\t{ classSuffix: 'font-family', propertyName: 'font-family' },\n\t\t],\n\t},\n];\n\nconst STYLE_PATH_TO_CSS_VAR_INFIX = {\n\t'color.background': 'color',\n\t'color.text': 'color',\n\t'elements.link.color.text': 'color',\n\t'color.gradient': 'gradient',\n\t'typography.fontSize': 'font-size',\n\t'typography.fontFamily': 'font-family',\n};\n\nfunction findInPresetsBy(\n\tfeatures,\n\tblockName,\n\tpresetPath,\n\tpresetProperty,\n\tpresetValueValue\n) {\n\t// Block presets take priority above root level presets.\n\tconst orderedPresetsByOrigin = [\n\t\tget( features, [ 'blocks', blockName, ...presetPath ] ),\n\t\tget( features, presetPath ),\n\t];\n\n\tfor ( const presetByOrigin of orderedPresetsByOrigin ) {\n\t\tif ( presetByOrigin ) {\n\t\t\t// Preset origins ordered by priority.\n\t\t\tconst origins = [ 'custom', 'theme', 'default' ];\n\t\t\tfor ( const origin of origins ) {\n\t\t\t\tconst presets = presetByOrigin[ origin ];\n\t\t\t\tif ( presets ) {\n\t\t\t\t\tconst presetObject = find(\n\t\t\t\t\t\tpresets,\n\t\t\t\t\t\t( preset ) =>\n\t\t\t\t\t\t\tpreset[ presetProperty ] === presetValueValue\n\t\t\t\t\t);\n\t\t\t\t\tif ( presetObject ) {\n\t\t\t\t\t\tif ( presetProperty === 'slug' ) {\n\t\t\t\t\t\t\treturn presetObject;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// if there is a highest priority preset with the same slug but different value the preset we found was overwritten and should be ignored.\n\t\t\t\t\t\tconst highestPresetObjectWithSameSlug = findInPresetsBy(\n\t\t\t\t\t\t\tfeatures,\n\t\t\t\t\t\t\tblockName,\n\t\t\t\t\t\t\tpresetPath,\n\t\t\t\t\t\t\t'slug',\n\t\t\t\t\t\t\tpresetObject.slug\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\thighestPresetObjectWithSameSlug[\n\t\t\t\t\t\t\t\tpresetProperty\n\t\t\t\t\t\t\t] === presetObject[ presetProperty ]\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn presetObject;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport function getPresetVariableFromValue(\n\tfeatures,\n\tblockName,\n\tvariableStylePath,\n\tpresetPropertyValue\n) {\n\tif ( ! presetPropertyValue ) {\n\t\treturn presetPropertyValue;\n\t}\n\n\tconst cssVarInfix = STYLE_PATH_TO_CSS_VAR_INFIX[ variableStylePath ];\n\n\tconst metadata = find( PRESET_METADATA, [ 'cssVarInfix', cssVarInfix ] );\n\n\tif ( ! metadata ) {\n\t\t// The property doesn't have preset data\n\t\t// so the value should be returned as it is.\n\t\treturn presetPropertyValue;\n\t}\n\tconst { valueKey, path } = metadata;\n\n\tconst presetObject = findInPresetsBy(\n\t\tfeatures,\n\t\tblockName,\n\t\tpath,\n\t\tvalueKey,\n\t\tpresetPropertyValue\n\t);\n\n\tif ( ! presetObject ) {\n\t\t// Value wasn't found in the presets,\n\t\t// so it must be a custom value.\n\t\treturn presetPropertyValue;\n\t}\n\n\treturn `var:preset|${ cssVarInfix }|${ presetObject.slug }`;\n}\n\nfunction getValueFromPresetVariable(\n\tfeatures,\n\tblockName,\n\tvariable,\n\t[ presetType, slug ]\n) {\n\tconst metadata = find( PRESET_METADATA, [ 'cssVarInfix', presetType ] );\n\tif ( ! metadata ) {\n\t\treturn variable;\n\t}\n\n\tconst presetObject = findInPresetsBy(\n\t\tfeatures,\n\t\tblockName,\n\t\tmetadata.path,\n\t\t'slug',\n\t\tslug\n\t);\n\n\tif ( presetObject ) {\n\t\tconst { valueKey } = metadata;\n\t\tconst result = presetObject[ valueKey ];\n\t\treturn getValueFromVariable( features, blockName, result );\n\t}\n\n\treturn variable;\n}\n\nfunction getValueFromCustomVariable( features, blockName, variable, path ) {\n\tconst result =\n\t\tget( features, [ 'blocks', blockName, 'custom', ...path ] ) ??\n\t\tget( features, [ 'custom', ...path ] );\n\tif ( ! result ) {\n\t\treturn variable;\n\t}\n\t// A variable may reference another variable so we need recursion until we find the value.\n\treturn getValueFromVariable( features, blockName, result );\n}\n\nexport function getValueFromVariable( features, blockName, variable ) {\n\tif ( ! variable || ! isString( variable ) ) {\n\t\treturn variable;\n\t}\n\tconst USER_VALUE_PREFIX = 'var:';\n\tconst THEME_VALUE_PREFIX = 'var(--wp--';\n\tconst THEME_VALUE_SUFFIX = ')';\n\n\tlet parsedVar;\n\n\tif ( variable.startsWith( USER_VALUE_PREFIX ) ) {\n\t\tparsedVar = variable.slice( USER_VALUE_PREFIX.length ).split( '|' );\n\t} else if (\n\t\tvariable.startsWith( THEME_VALUE_PREFIX ) &&\n\t\tvariable.endsWith( THEME_VALUE_SUFFIX )\n\t) {\n\t\tparsedVar = variable\n\t\t\t.slice( THEME_VALUE_PREFIX.length, -THEME_VALUE_SUFFIX.length )\n\t\t\t.split( '--' );\n\t} else {\n\t\t// We don't know how to parse the value: either is raw of uses complex CSS such as `calc(1px * var(--wp--variable) )`\n\t\treturn variable;\n\t}\n\n\tconst [ type, ...path ] = parsedVar;\n\tif ( type === 'preset' ) {\n\t\treturn getValueFromPresetVariable(\n\t\t\tfeatures,\n\t\t\tblockName,\n\t\t\tvariable,\n\t\t\tpath\n\t\t);\n\t}\n\tif ( type === 'custom' ) {\n\t\treturn getValueFromCustomVariable(\n\t\t\tfeatures,\n\t\t\tblockName,\n\t\t\tvariable,\n\t\t\tpath\n\t\t);\n\t}\n\treturn variable;\n}\n","/**\n * WordPress dependencies\n */\nimport { createContext } from '@wordpress/element';\n\nexport const DEFAULT_GLOBAL_STYLES_CONTEXT = {\n\tuser: {},\n\tbase: {},\n\tmerged: {},\n\tsetUserConfig: () => {},\n};\n\nexport const GlobalStylesContext = createContext(\n\tDEFAULT_GLOBAL_STYLES_CONTEXT\n);\n","/**\n * External dependencies\n */\nimport { get, cloneDeep, set, isEqual, has } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { _x } from '@wordpress/i18n';\nimport { useContext, useCallback, useMemo } from '@wordpress/element';\nimport {\n\tgetBlockType,\n\t__EXPERIMENTAL_PATHS_WITH_MERGE as PATHS_WITH_MERGE,\n\t__EXPERIMENTAL_STYLE_PROPERTY as STYLE_PROPERTY,\n} from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport { getValueFromVariable, getPresetVariableFromValue } from './utils';\nimport { GlobalStylesContext } from './context';\n\nconst EMPTY_CONFIG = { isGlobalStylesUserThemeJSON: true, version: 1 };\n\nexport const useGlobalStylesReset = () => {\n\tconst { user: config, setUserConfig } = useContext( GlobalStylesContext );\n\tconst canReset = !! config && ! isEqual( config, EMPTY_CONFIG );\n\treturn [\n\t\tcanReset,\n\t\tuseCallback( () => setUserConfig( () => EMPTY_CONFIG ), [\n\t\t\tsetUserConfig,\n\t\t] ),\n\t];\n};\n\nexport function useSetting( path, blockName, source = 'all' ) {\n\tconst {\n\t\tmerged: mergedConfig,\n\t\tbase: baseConfig,\n\t\tuser: userConfig,\n\t\tsetUserConfig,\n\t} = useContext( GlobalStylesContext );\n\n\tconst fullPath = ! blockName\n\t\t? `settings.${ path }`\n\t\t: `settings.blocks.${ blockName }.${ path }`;\n\n\tconst setSetting = ( newValue ) => {\n\t\tsetUserConfig( ( currentConfig ) => {\n\t\t\tconst newUserConfig = cloneDeep( currentConfig );\n\t\t\tconst pathToSet = PATHS_WITH_MERGE[ path ]\n\t\t\t\t? fullPath + '.custom'\n\t\t\t\t: fullPath;\n\t\t\tset( newUserConfig, pathToSet, newValue );\n\n\t\t\treturn newUserConfig;\n\t\t} );\n\t};\n\n\tconst getSettingValueForContext = ( name ) => {\n\t\tconst currentPath = ! name\n\t\t\t? `settings.${ path }`\n\t\t\t: `settings.blocks.${ name }.${ path }`;\n\n\t\tconst getSettingValue = ( configToUse ) => {\n\t\t\tconst result = get( configToUse, currentPath );\n\t\t\tif ( PATHS_WITH_MERGE[ path ] ) {\n\t\t\t\treturn result?.custom ?? result?.theme ?? result?.default;\n\t\t\t}\n\t\t\treturn result;\n\t\t};\n\n\t\tlet result;\n\t\tswitch ( source ) {\n\t\t\tcase 'all':\n\t\t\t\tresult = getSettingValue( mergedConfig );\n\t\t\t\tbreak;\n\t\t\tcase 'user':\n\t\t\t\tresult = getSettingValue( userConfig );\n\t\t\t\tbreak;\n\t\t\tcase 'base':\n\t\t\t\tresult = getSettingValue( baseConfig );\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthrow 'Unsupported source';\n\t\t}\n\n\t\treturn result;\n\t};\n\n\t// Unlike styles settings get inherited from top level settings.\n\tconst resultWithFallback =\n\t\tgetSettingValueForContext( blockName ) ?? getSettingValueForContext();\n\n\treturn [ resultWithFallback, setSetting ];\n}\n\nexport function useStyle( path, blockName, source = 'all' ) {\n\tconst {\n\t\tmerged: mergedConfig,\n\t\tbase: baseConfig,\n\t\tuser: userConfig,\n\t\tsetUserConfig,\n\t} = useContext( GlobalStylesContext );\n\tconst finalPath = ! blockName\n\t\t? `styles.${ path }`\n\t\t: `styles.blocks.${ blockName }.${ path }`;\n\n\tconst setStyle = ( newValue ) => {\n\t\tsetUserConfig( ( currentConfig ) => {\n\t\t\tconst newUserConfig = cloneDeep( currentConfig );\n\t\t\tset(\n\t\t\t\tnewUserConfig,\n\t\t\t\tfinalPath,\n\t\t\t\tgetPresetVariableFromValue(\n\t\t\t\t\tmergedConfig.settings,\n\t\t\t\t\tblockName,\n\t\t\t\t\tpath,\n\t\t\t\t\tnewValue\n\t\t\t\t)\n\t\t\t);\n\t\t\treturn newUserConfig;\n\t\t} );\n\t};\n\n\tlet result;\n\tswitch ( source ) {\n\t\tcase 'all':\n\t\t\tresult = getValueFromVariable(\n\t\t\t\tmergedConfig.settings,\n\t\t\t\tblockName,\n\t\t\t\tget( userConfig, finalPath ) ?? get( baseConfig, finalPath )\n\t\t\t);\n\t\t\tbreak;\n\t\tcase 'user':\n\t\t\tresult = getValueFromVariable(\n\t\t\t\tmergedConfig.settings,\n\t\t\t\tblockName,\n\t\t\t\tget( userConfig, finalPath )\n\t\t\t);\n\t\t\tbreak;\n\t\tcase 'base':\n\t\t\tresult = getValueFromVariable(\n\t\t\t\tbaseConfig.settings,\n\t\t\t\tblockName,\n\t\t\t\tget( baseConfig, finalPath )\n\t\t\t);\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tthrow 'Unsupported source';\n\t}\n\n\treturn [ result, setStyle ];\n}\n\nconst ROOT_BLOCK_SUPPORTS = [\n\t'background',\n\t'backgroundColor',\n\t'color',\n\t'linkColor',\n\t'fontFamily',\n\t'fontSize',\n\t'fontStyle',\n\t'fontWeight',\n\t'lineHeight',\n\t'textDecoration',\n\t'textTransform',\n\t'padding',\n];\n\nexport function getSupportedGlobalStylesPanels( name ) {\n\tif ( ! name ) {\n\t\treturn ROOT_BLOCK_SUPPORTS;\n\t}\n\n\tconst blockType = getBlockType( name );\n\n\tif ( ! blockType ) {\n\t\treturn [];\n\t}\n\n\tconst supportKeys = [];\n\tObject.keys( STYLE_PROPERTY ).forEach( ( styleName ) => {\n\t\tif ( ! STYLE_PROPERTY[ styleName ].support ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Opting out means that, for certain support keys like background color,\n\t\t// blocks have to explicitly set the support value false. If the key is\n\t\t// unset, we still enable it.\n\t\tif ( STYLE_PROPERTY[ styleName ].requiresOptOut ) {\n\t\t\tif (\n\t\t\t\thas(\n\t\t\t\t\tblockType.supports,\n\t\t\t\t\tSTYLE_PROPERTY[ styleName ].support[ 0 ]\n\t\t\t\t) &&\n\t\t\t\tget(\n\t\t\t\t\tblockType.supports,\n\t\t\t\t\tSTYLE_PROPERTY[ styleName ].support\n\t\t\t\t) !== false\n\t\t\t) {\n\t\t\t\treturn supportKeys.push( styleName );\n\t\t\t}\n\t\t}\n\n\t\tif (\n\t\t\tget(\n\t\t\t\tblockType.supports,\n\t\t\t\tSTYLE_PROPERTY[ styleName ].support,\n\t\t\t\tfalse\n\t\t\t)\n\t\t) {\n\t\t\treturn supportKeys.push( styleName );\n\t\t}\n\t} );\n\n\treturn supportKeys;\n}\n\nexport function useColorsPerOrigin( name ) {\n\tconst [ customColors ] = useSetting( 'color.palette.custom', name );\n\tconst [ themeColors ] = useSetting( 'color.palette.theme', name );\n\tconst [ defaultColors ] = useSetting( 'color.palette.default', name );\n\tconst [ shouldDisplayDefaultColors ] = useSetting( 'color.defaultPalette' );\n\n\treturn useMemo( () => {\n\t\tconst result = [];\n\t\tif ( themeColors && themeColors.length ) {\n\t\t\tresult.push( {\n\t\t\t\tname: _x(\n\t\t\t\t\t'Theme',\n\t\t\t\t\t'Indicates this palette comes from the theme.'\n\t\t\t\t),\n\t\t\t\tcolors: themeColors,\n\t\t\t} );\n\t\t}\n\t\tif (\n\t\t\tshouldDisplayDefaultColors &&\n\t\t\tdefaultColors &&\n\t\t\tdefaultColors.length\n\t\t) {\n\t\t\tresult.push( {\n\t\t\t\tname: _x(\n\t\t\t\t\t'Default',\n\t\t\t\t\t'Indicates this palette comes from WordPress.'\n\t\t\t\t),\n\t\t\t\tcolors: defaultColors,\n\t\t\t} );\n\t\t}\n\t\tif ( customColors && customColors.length ) {\n\t\t\tresult.push( {\n\t\t\t\tname: _x(\n\t\t\t\t\t'Custom',\n\t\t\t\t\t'Indicates this palette is created by the user.'\n\t\t\t\t),\n\t\t\t\tcolors: customColors,\n\t\t\t} );\n\t\t}\n\t\treturn result;\n\t}, [ customColors, themeColors, defaultColors ] );\n}\n\nexport function useGradientsPerOrigin( name ) {\n\tconst [ customGradients ] = useSetting( 'color.gradients.custom', name );\n\tconst [ themeGradients ] = useSetting( 'color.gradients.theme', name );\n\tconst [ defaultGradients ] = useSetting( 'color.gradients.default', name );\n\tconst [ shouldDisplayDefaultGradients ] = useSetting(\n\t\t'color.defaultGradients'\n\t);\n\n\treturn useMemo( () => {\n\t\tconst result = [];\n\t\tif ( themeGradients && themeGradients.length ) {\n\t\t\tresult.push( {\n\t\t\t\tname: _x(\n\t\t\t\t\t'Theme',\n\t\t\t\t\t'Indicates this palette comes from the theme.'\n\t\t\t\t),\n\t\t\t\tgradients: themeGradients,\n\t\t\t} );\n\t\t}\n\t\tif (\n\t\t\tshouldDisplayDefaultGradients &&\n\t\t\tdefaultGradients &&\n\t\t\tdefaultGradients.length\n\t\t) {\n\t\t\tresult.push( {\n\t\t\t\tname: _x(\n\t\t\t\t\t'Default',\n\t\t\t\t\t'Indicates this palette comes from WordPress.'\n\t\t\t\t),\n\t\t\t\tgradients: defaultGradients,\n\t\t\t} );\n\t\t}\n\t\tif ( customGradients && customGradients.length ) {\n\t\t\tresult.push( {\n\t\t\t\tname: _x(\n\t\t\t\t\t'Custom',\n\t\t\t\t\t'Indicates this palette is created by the user.'\n\t\t\t\t),\n\t\t\t\tgradients: customGradients,\n\t\t\t} );\n\t\t}\n\t\treturn result;\n\t}, [ customGradients, themeGradients, defaultGradients ] );\n}\n","/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalBorderRadiusControl as BorderRadiusControl,\n\t__experimentalBorderStyleControl as BorderStyleControl,\n\t__experimentalColorGradientControl as ColorGradientControl,\n} from '@wordpress/block-editor';\nimport {\n\t__experimentalToolsPanel as ToolsPanel,\n\t__experimentalToolsPanelItem as ToolsPanelItem,\n\t__experimentalUnitControl as UnitControl,\n\t__experimentalUseCustomUnits as useCustomUnits,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { getSupportedGlobalStylesPanels, useSetting, useStyle } from './hooks';\n\nconst MIN_BORDER_WIDTH = 0;\n\n// Defining empty array here instead of inline avoids unnecessary re-renders of\n// color control.\nconst EMPTY_ARRAY = [];\n\nexport function useHasBorderPanel( name ) {\n\tconst controls = [\n\t\tuseHasBorderColorControl( name ),\n\t\tuseHasBorderRadiusControl( name ),\n\t\tuseHasBorderStyleControl( name ),\n\t\tuseHasBorderWidthControl( name ),\n\t];\n\n\treturn controls.some( Boolean );\n}\n\nfunction useHasBorderColorControl( name ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\treturn (\n\t\tuseSetting( 'border.color', name )[ 0 ] &&\n\t\tsupports.includes( 'borderColor' )\n\t);\n}\n\nfunction useHasBorderRadiusControl( name ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\treturn (\n\t\tuseSetting( 'border.radius', name )[ 0 ] &&\n\t\tsupports.includes( 'borderRadius' )\n\t);\n}\n\nfunction useHasBorderStyleControl( name ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\treturn (\n\t\tuseSetting( 'border.style', name )[ 0 ] &&\n\t\tsupports.includes( 'borderStyle' )\n\t);\n}\n\nfunction useHasBorderWidthControl( name ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\treturn (\n\t\tuseSetting( 'border.width', name )[ 0 ] &&\n\t\tsupports.includes( 'borderWidth' )\n\t);\n}\n\nexport default function BorderPanel( { name } ) {\n\t// To better reflect if the user has customized a value we need to\n\t// ensure the style value being checked is from the `user` origin.\n\tconst [ userBorderStyles ] = useStyle( 'border', name, 'user' );\n\tconst createHasValueCallback = ( feature ) => () =>\n\t\t!! userBorderStyles?.[ feature ];\n\n\tconst createResetCallback = ( setStyle ) => () => setStyle( undefined );\n\n\tconst handleOnChange = ( setStyle ) => ( value ) => {\n\t\tsetStyle( value || undefined );\n\t};\n\n\tconst units = useCustomUnits( {\n\t\tavailableUnits: useSetting( 'spacing.units' )[ 0 ] || [\n\t\t\t'px',\n\t\t\t'em',\n\t\t\t'rem',\n\t\t],\n\t} );\n\n\t// Border width.\n\tconst showBorderWidth = useHasBorderWidthControl( name );\n\tconst [ borderWidthValue, setBorderWidth ] = useStyle(\n\t\t'border.width',\n\t\tname\n\t);\n\n\t// Border style.\n\tconst showBorderStyle = useHasBorderStyleControl( name );\n\tconst [ borderStyle, setBorderStyle ] = useStyle( 'border.style', name );\n\n\t// Border color.\n\tconst showBorderColor = useHasBorderColorControl( name );\n\tconst [ borderColor, setBorderColor ] = useStyle( 'border.color', name );\n\tconst [ colors = EMPTY_ARRAY ] = useSetting( 'color.palette' );\n\tconst disableCustomColors = ! useSetting( 'color.custom' )[ 0 ];\n\tconst disableCustomGradients = ! useSetting( 'color.customGradient' )[ 0 ];\n\n\t// Border radius.\n\tconst showBorderRadius = useHasBorderRadiusControl( name );\n\tconst [ borderRadiusValues, setBorderRadius ] = useStyle(\n\t\t'border.radius',\n\t\tname\n\t);\n\tconst hasBorderRadius = () => {\n\t\tconst borderValues = userBorderStyles?.radius;\n\t\tif ( typeof borderValues === 'object' ) {\n\t\t\treturn Object.entries( borderValues ).some( Boolean );\n\t\t}\n\t\treturn !! borderValues;\n\t};\n\n\tconst resetAll = () => {\n\t\tsetBorderColor( undefined );\n\t\tsetBorderRadius( undefined );\n\t\tsetBorderStyle( undefined );\n\t\tsetBorderWidth( undefined );\n\t};\n\n\t// When we set a border color or width ensure we have a style so the user\n\t// can see a visible border.\n\tconst handleOnChangeWithStyle = ( setStyle ) => ( value ) => {\n\t\tif ( !! value && ! borderStyle ) {\n\t\t\tsetBorderStyle( 'solid' );\n\t\t}\n\n\t\tsetStyle( value || undefined );\n\t};\n\n\treturn (\n\t\t<ToolsPanel label={ __( 'Border' ) } resetAll={ resetAll }>\n\t\t\t{ showBorderWidth && (\n\t\t\t\t<ToolsPanelItem\n\t\t\t\t\tclassName=\"single-column\"\n\t\t\t\t\thasValue={ createHasValueCallback( 'width' ) }\n\t\t\t\t\tlabel={ __( 'Width' ) }\n\t\t\t\t\tonDeselect={ createResetCallback( setBorderWidth ) }\n\t\t\t\t\tisShownByDefault={ true }\n\t\t\t\t>\n\t\t\t\t\t<UnitControl\n\t\t\t\t\t\tvalue={ borderWidthValue }\n\t\t\t\t\t\tlabel={ __( 'Width' ) }\n\t\t\t\t\t\tmin={ MIN_BORDER_WIDTH }\n\t\t\t\t\t\tonChange={ handleOnChangeWithStyle( setBorderWidth ) }\n\t\t\t\t\t\tunits={ units }\n\t\t\t\t\t/>\n\t\t\t\t</ToolsPanelItem>\n\t\t\t) }\n\t\t\t{ showBorderStyle && (\n\t\t\t\t<ToolsPanelItem\n\t\t\t\t\tclassName=\"single-column\"\n\t\t\t\t\thasValue={ createHasValueCallback( 'style' ) }\n\t\t\t\t\tlabel={ __( 'Style' ) }\n\t\t\t\t\tonDeselect={ createResetCallback( setBorderStyle ) }\n\t\t\t\t\tisShownByDefault={ true }\n\t\t\t\t>\n\t\t\t\t\t<BorderStyleControl\n\t\t\t\t\t\tvalue={ borderStyle }\n\t\t\t\t\t\tonChange={ handleOnChange( setBorderStyle ) }\n\t\t\t\t\t/>\n\t\t\t\t</ToolsPanelItem>\n\t\t\t) }\n\t\t\t{ showBorderColor && (\n\t\t\t\t<ToolsPanelItem\n\t\t\t\t\thasValue={ createHasValueCallback( 'color' ) }\n\t\t\t\t\tlabel={ __( 'Color' ) }\n\t\t\t\t\tonDeselect={ createResetCallback( setBorderColor ) }\n\t\t\t\t\tisShownByDefault={ true }\n\t\t\t\t>\n\t\t\t\t\t<ColorGradientControl\n\t\t\t\t\t\tlabel={ __( 'Color' ) }\n\t\t\t\t\t\tcolorValue={ borderColor }\n\t\t\t\t\t\tcolors={ colors }\n\t\t\t\t\t\tgradients={ undefined }\n\t\t\t\t\t\tdisableCustomColors={ disableCustomColors }\n\t\t\t\t\t\tdisableCustomGradients={ disableCustomGradients }\n\t\t\t\t\t\tonColorChange={ handleOnChangeWithStyle(\n\t\t\t\t\t\t\tsetBorderColor\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tclearable={ false }\n\t\t\t\t\t/>\n\t\t\t\t</ToolsPanelItem>\n\t\t\t) }\n\t\t\t{ showBorderRadius && (\n\t\t\t\t<ToolsPanelItem\n\t\t\t\t\thasValue={ hasBorderRadius }\n\t\t\t\t\tlabel={ __( 'Radius' ) }\n\t\t\t\t\tonDeselect={ createResetCallback( setBorderRadius ) }\n\t\t\t\t\tisShownByDefault={ true }\n\t\t\t\t>\n\t\t\t\t\t<BorderRadiusControl\n\t\t\t\t\t\tvalues={ borderRadiusValues }\n\t\t\t\t\t\tonChange={ handleOnChange( setBorderRadius ) }\n\t\t\t\t\t/>\n\t\t\t\t</ToolsPanelItem>\n\t\t\t) }\n\t\t</ToolsPanel>\n\t);\n}\n","/**\n * Internal dependencies\n */\n\nimport { getSupportedGlobalStylesPanels } from './hooks';\n\nexport function useHasColorPanel( name ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\treturn (\n\t\tsupports.includes( 'color' ) ||\n\t\tsupports.includes( 'backgroundColor' ) ||\n\t\tsupports.includes( 'background' ) ||\n\t\tsupports.includes( 'linkColor' )\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\t__experimentalToolsPanel as ToolsPanel,\n\t__experimentalToolsPanelItem as ToolsPanelItem,\n\t__experimentalBoxControl as BoxControl,\n\t__experimentalUnitControl as UnitControl,\n\t__experimentalUseCustomUnits as useCustomUnits,\n} from '@wordpress/components';\nimport { __experimentalUseCustomSides as useCustomSides } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { getSupportedGlobalStylesPanels, useSetting, useStyle } from './hooks';\n\nconst AXIAL_SIDES = [ 'horizontal', 'vertical' ];\n\nexport function useHasDimensionsPanel( name ) {\n\tconst hasPadding = useHasPadding( name );\n\tconst hasMargin = useHasMargin( name );\n\tconst hasGap = useHasGap( name );\n\n\treturn hasPadding || hasMargin || hasGap;\n}\n\nfunction useHasPadding( name ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\tconst [ settings ] = useSetting( 'spacing.padding', name );\n\n\treturn settings && supports.includes( 'padding' );\n}\n\nfunction useHasMargin( name ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\tconst [ settings ] = useSetting( 'spacing.margin', name );\n\n\treturn settings && supports.includes( 'margin' );\n}\n\nfunction useHasGap( name ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\tconst [ settings ] = useSetting( 'spacing.blockGap', name );\n\n\treturn settings && supports.includes( '--wp--style--block-gap' );\n}\n\nfunction filterValuesBySides( values, sides ) {\n\tif ( ! sides ) {\n\t\t// If no custom side configuration all sides are opted into by default.\n\t\treturn values;\n\t}\n\n\t// Only include sides opted into within filtered values.\n\tconst filteredValues = {};\n\tsides.forEach( ( side ) => {\n\t\tif ( side === 'vertical' ) {\n\t\t\tfilteredValues.top = values.top;\n\t\t\tfilteredValues.bottom = values.bottom;\n\t\t}\n\t\tif ( side === 'horizontal' ) {\n\t\t\tfilteredValues.left = values.left;\n\t\t\tfilteredValues.right = values.right;\n\t\t}\n\t\tfilteredValues[ side ] = values[ side ];\n\t} );\n\n\treturn filteredValues;\n}\n\nfunction splitStyleValue( value ) {\n\t// Check for shorthand value ( a string value ).\n\tif ( value && typeof value === 'string' ) {\n\t\t// Convert to value for individual sides for BoxControl.\n\t\treturn {\n\t\t\ttop: value,\n\t\t\tright: value,\n\t\t\tbottom: value,\n\t\t\tleft: value,\n\t\t};\n\t}\n\n\treturn value;\n}\n\nexport default function DimensionsPanel( { name } ) {\n\tconst showPaddingControl = useHasPadding( name );\n\tconst showMarginControl = useHasMargin( name );\n\tconst showGapControl = useHasGap( name );\n\tconst units = useCustomUnits( {\n\t\tavailableUnits: useSetting( 'spacing.units', name )[ 0 ] || [\n\t\t\t'%',\n\t\t\t'px',\n\t\t\t'em',\n\t\t\t'rem',\n\t\t\t'vw',\n\t\t],\n\t} );\n\n\tconst [ rawPadding, setRawPadding ] = useStyle( 'spacing.padding', name );\n\tconst paddingValues = splitStyleValue( rawPadding );\n\tconst paddingSides = useCustomSides( name, 'padding' );\n\tconst isAxialPadding =\n\t\tpaddingSides &&\n\t\tpaddingSides.some( ( side ) => AXIAL_SIDES.includes( side ) );\n\n\tconst setPaddingValues = ( newPaddingValues ) => {\n\t\tconst padding = filterValuesBySides( newPaddingValues, paddingSides );\n\t\tsetRawPadding( padding );\n\t};\n\tconst resetPaddingValue = () => setPaddingValues( {} );\n\tconst hasPaddingValue = () =>\n\t\t!! paddingValues && Object.keys( paddingValues ).length;\n\n\tconst [ rawMargin, setRawMargin ] = useStyle( 'spacing.margin', name );\n\tconst marginValues = splitStyleValue( rawMargin );\n\tconst marginSides = useCustomSides( name, 'margin' );\n\tconst isAxialMargin =\n\t\tmarginSides &&\n\t\tmarginSides.some( ( side ) => AXIAL_SIDES.includes( side ) );\n\n\tconst setMarginValues = ( newMarginValues ) => {\n\t\tconst margin = filterValuesBySides( newMarginValues, marginSides );\n\t\tsetRawMargin( margin );\n\t};\n\tconst resetMarginValue = () => setMarginValues( {} );\n\tconst hasMarginValue = () =>\n\t\t!! marginValues && Object.keys( marginValues ).length;\n\n\tconst [ gapValue, setGapValue ] = useStyle( 'spacing.blockGap', name );\n\tconst resetGapValue = () => setGapValue( undefined );\n\tconst hasGapValue = () => !! gapValue;\n\n\tconst resetAll = () => {\n\t\tresetPaddingValue();\n\t\tresetMarginValue();\n\t\tresetGapValue();\n\t};\n\n\treturn (\n\t\t<ToolsPanel label={ __( 'Dimensions' ) } resetAll={ resetAll }>\n\t\t\t{ showPaddingControl && (\n\t\t\t\t<ToolsPanelItem\n\t\t\t\t\thasValue={ hasPaddingValue }\n\t\t\t\t\tlabel={ __( 'Padding' ) }\n\t\t\t\t\tonDeselect={ resetPaddingValue }\n\t\t\t\t\tisShownByDefault={ true }\n\t\t\t\t>\n\t\t\t\t\t<BoxControl\n\t\t\t\t\t\tvalues={ paddingValues }\n\t\t\t\t\t\tonChange={ setPaddingValues }\n\t\t\t\t\t\tlabel={ __( 'Padding' ) }\n\t\t\t\t\t\tsides={ paddingSides }\n\t\t\t\t\t\tunits={ units }\n\t\t\t\t\t\tallowReset={ false }\n\t\t\t\t\t\tsplitOnAxis={ isAxialPadding }\n\t\t\t\t\t/>\n\t\t\t\t</ToolsPanelItem>\n\t\t\t) }\n\t\t\t{ showMarginControl && (\n\t\t\t\t<ToolsPanelItem\n\t\t\t\t\thasValue={ hasMarginValue }\n\t\t\t\t\tlabel={ __( 'Margin' ) }\n\t\t\t\t\tonDeselect={ resetMarginValue }\n\t\t\t\t\tisShownByDefault={ true }\n\t\t\t\t>\n\t\t\t\t\t<BoxControl\n\t\t\t\t\t\tvalues={ marginValues }\n\t\t\t\t\t\tonChange={ setMarginValues }\n\t\t\t\t\t\tlabel={ __( 'Margin' ) }\n\t\t\t\t\t\tsides={ marginSides }\n\t\t\t\t\t\tunits={ units }\n\t\t\t\t\t\tallowReset={ false }\n\t\t\t\t\t\tsplitOnAxis={ isAxialMargin }\n\t\t\t\t\t/>\n\t\t\t\t</ToolsPanelItem>\n\t\t\t) }\n\t\t\t{ showGapControl && (\n\t\t\t\t<ToolsPanelItem\n\t\t\t\t\thasValue={ hasGapValue }\n\t\t\t\t\tlabel={ __( 'Block spacing' ) }\n\t\t\t\t\tonDeselect={ resetGapValue }\n\t\t\t\t\tisShownByDefault={ true }\n\t\t\t\t>\n\t\t\t\t\t<UnitControl\n\t\t\t\t\t\tlabel={ __( 'Block spacing' ) }\n\t\t\t\t\t\t__unstableInputWidth=\"80px\"\n\t\t\t\t\t\tmin={ 0 }\n\t\t\t\t\t\tonChange={ setGapValue }\n\t\t\t\t\t\tunits={ units }\n\t\t\t\t\t\tvalue={ gapValue }\n\t\t\t\t\t/>\n\t\t\t\t</ToolsPanelItem>\n\t\t\t) }\n\t\t</ToolsPanel>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport {\n\tLineHeightControl,\n\t__experimentalFontFamilyControl as FontFamilyControl,\n\t__experimentalFontAppearanceControl as FontAppearanceControl,\n\t__experimentalLetterSpacingControl as LetterSpacingControl,\n} from '@wordpress/block-editor';\nimport {\n\tPanelBody,\n\tFontSizePicker,\n\t__experimentalSpacer as Spacer,\n} from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport { getSupportedGlobalStylesPanels, useSetting, useStyle } from './hooks';\n\nexport function useHasTypographyPanel( name ) {\n\tconst hasLineHeight = useHasLineHeightControl( name );\n\tconst hasFontAppearance = useHasAppearanceControl( name );\n\tconst hasLetterSpacing = useHasLetterSpacingControl( name );\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\treturn (\n\t\thasLineHeight ||\n\t\thasFontAppearance ||\n\t\thasLetterSpacing ||\n\t\tsupports.includes( 'fontSize' )\n\t);\n}\n\nfunction useHasLineHeightControl( name ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\treturn (\n\t\tuseSetting( 'typography.lineHeight', name )[ 0 ] &&\n\t\tsupports.includes( 'lineHeight' )\n\t);\n}\n\nfunction useHasAppearanceControl( name ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\tconst hasFontStyles =\n\t\tuseSetting( 'typography.fontStyle', name )[ 0 ] &&\n\t\tsupports.includes( 'fontStyle' );\n\tconst hasFontWeights =\n\t\tuseSetting( 'typography.fontWeight', name )[ 0 ] &&\n\t\tsupports.includes( 'fontWeight' );\n\treturn hasFontStyles || hasFontWeights;\n}\n\nfunction useHasLetterSpacingControl( name ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\treturn (\n\t\tuseSetting( 'typography.letterSpacing', name )[ 0 ] &&\n\t\tsupports.includes( 'letterSpacing' )\n\t);\n}\n\nexport default function TypographyPanel( { name, element } ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\tconst prefix =\n\t\telement === 'text' || ! element ? '' : `elements.${ element }.`;\n\tconst [ fontSizes ] = useSetting( 'typography.fontSizes', name );\n\tconst disableCustomFontSizes = ! useSetting(\n\t\t'typography.customFontSize',\n\t\tname\n\t)[ 0 ];\n\tconst [ fontFamilies ] = useSetting( 'typography.fontFamilies', name );\n\tconst hasFontStyles =\n\t\tuseSetting( 'typography.fontStyle', name )[ 0 ] &&\n\t\tsupports.includes( 'fontStyle' );\n\tconst hasFontWeights =\n\t\tuseSetting( 'typography.fontWeight', name )[ 0 ] &&\n\t\tsupports.includes( 'fontWeight' );\n\tconst hasLineHeightEnabled = useHasLineHeightControl( name );\n\tconst hasAppearanceControl = useHasAppearanceControl( name );\n\tconst hasLetterSpacingControl = useHasLetterSpacingControl( name );\n\n\tconst [ fontFamily, setFontFamily ] = useStyle(\n\t\tprefix + 'typography.fontFamily',\n\t\tname\n\t);\n\tconst [ fontSize, setFontSize ] = useStyle(\n\t\tprefix + 'typography.fontSize',\n\t\tname\n\t);\n\n\tconst [ fontStyle, setFontStyle ] = useStyle(\n\t\tprefix + 'typography.fontStyle',\n\t\tname\n\t);\n\tconst [ fontWeight, setFontWeight ] = useStyle(\n\t\tprefix + 'typography.fontWeight',\n\t\tname\n\t);\n\tconst [ lineHeight, setLineHeight ] = useStyle(\n\t\tprefix + 'typography.lineHeight',\n\t\tname\n\t);\n\tconst [ letterSpacing, setLetterSpacing ] = useStyle(\n\t\tprefix + 'typography.letterSpacing',\n\t\tname\n\t);\n\tconst [ backgroundColor ] = useStyle( prefix + 'color.background', name );\n\tconst [ gradientValue ] = useStyle( prefix + 'color.gradient', name );\n\tconst [ color ] = useStyle( prefix + 'color.text', name );\n\tconst extraStyles =\n\t\telement === 'link'\n\t\t\t? {\n\t\t\t\t\ttextDecoration: 'underline',\n\t\t\t  }\n\t\t\t: {};\n\n\treturn (\n\t\t<PanelBody className=\"edit-site-typography-panel\" initialOpen={ true }>\n\t\t\t<div\n\t\t\t\tclassName=\"edit-site-typography-panel__preview\"\n\t\t\t\tstyle={ {\n\t\t\t\t\tfontFamily: fontFamily ?? 'serif',\n\t\t\t\t\tbackground: gradientValue ?? backgroundColor,\n\t\t\t\t\tcolor,\n\t\t\t\t\tfontSize,\n\t\t\t\t\tfontStyle,\n\t\t\t\t\tfontWeight,\n\t\t\t\t\tletterSpacing,\n\t\t\t\t\t...extraStyles,\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\tAa\n\t\t\t</div>\n\n\t\t\t{ supports.includes( 'fontFamily' ) && (\n\t\t\t\t<FontFamilyControl\n\t\t\t\t\tfontFamilies={ fontFamilies }\n\t\t\t\t\tvalue={ fontFamily }\n\t\t\t\t\tonChange={ setFontFamily }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ supports.includes( 'fontSize' ) && (\n\t\t\t\t<FontSizePicker\n\t\t\t\t\tvalue={ fontSize }\n\t\t\t\t\tonChange={ setFontSize }\n\t\t\t\t\tfontSizes={ fontSizes }\n\t\t\t\t\tdisableCustomFontSizes={ disableCustomFontSizes }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ hasLineHeightEnabled && (\n\t\t\t\t<Spacer marginBottom={ 6 }>\n\t\t\t\t\t<LineHeightControl\n\t\t\t\t\t\t__nextHasNoMarginBottom={ true }\n\t\t\t\t\t\tvalue={ lineHeight }\n\t\t\t\t\t\tonChange={ setLineHeight }\n\t\t\t\t\t/>\n\t\t\t\t</Spacer>\n\t\t\t) }\n\t\t\t{ hasAppearanceControl && (\n\t\t\t\t<FontAppearanceControl\n\t\t\t\t\tvalue={ {\n\t\t\t\t\t\tfontStyle,\n\t\t\t\t\t\tfontWeight,\n\t\t\t\t\t} }\n\t\t\t\t\tonChange={ ( {\n\t\t\t\t\t\tfontStyle: newFontStyle,\n\t\t\t\t\t\tfontWeight: newFontWeight,\n\t\t\t\t\t} ) => {\n\t\t\t\t\t\tsetFontStyle( newFontStyle );\n\t\t\t\t\t\tsetFontWeight( newFontWeight );\n\t\t\t\t\t} }\n\t\t\t\t\thasFontStyles={ hasFontStyles }\n\t\t\t\t\thasFontWeights={ hasFontWeights }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ hasLetterSpacingControl && (\n\t\t\t\t<LetterSpacingControl\n\t\t\t\t\tvalue={ letterSpacing }\n\t\t\t\t\tonChange={ setLetterSpacing }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</PanelBody>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __experimentalItemGroup as ItemGroup } from '@wordpress/components';\nimport { typography, color, layout } from '@wordpress/icons';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { useHasBorderPanel } from './border-panel';\nimport { useHasColorPanel } from './color-utils';\nimport { useHasDimensionsPanel } from './dimensions-panel';\nimport { useHasTypographyPanel } from './typography-panel';\nimport { NavigationButton } from './navigation-button';\n\nfunction ContextMenu( { name, parentMenu = '' } ) {\n\tconst hasTypographyPanel = useHasTypographyPanel( name );\n\tconst hasColorPanel = useHasColorPanel( name );\n\tconst hasBorderPanel = useHasBorderPanel( name );\n\tconst hasDimensionsPanel = useHasDimensionsPanel( name );\n\tconst hasLayoutPanel = hasBorderPanel || hasDimensionsPanel;\n\n\treturn (\n\t\t<ItemGroup>\n\t\t\t{ hasTypographyPanel && (\n\t\t\t\t<NavigationButton\n\t\t\t\t\ticon={ typography }\n\t\t\t\t\tpath={ parentMenu + '/typography' }\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Typography' ) }\n\t\t\t\t</NavigationButton>\n\t\t\t) }\n\t\t\t{ hasColorPanel && (\n\t\t\t\t<NavigationButton\n\t\t\t\t\ticon={ color }\n\t\t\t\t\tpath={ parentMenu + '/colors' }\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Colors' ) }\n\t\t\t\t</NavigationButton>\n\t\t\t) }\n\t\t\t{ hasLayoutPanel && (\n\t\t\t\t<NavigationButton\n\t\t\t\t\ticon={ layout }\n\t\t\t\t\tpath={ parentMenu + '/layout' }\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Layout' ) }\n\t\t\t\t</NavigationButton>\n\t\t\t) }\n\t\t</ItemGroup>\n\t);\n}\n\nexport default ContextMenu;\n","/**\n * Internal dependencies\n */\nimport padding from './padding';\n\nexport const styleDefinitions = [ padding ];\n","/**\n * Internal dependencies\n */\nimport type { Style, StyleOptions } from '../types';\nimport { generateBoxRules } from './utils';\n\nconst padding = {\n\tname: 'padding',\n\tgenerate: ( style: Style, options: StyleOptions ) => {\n\t\treturn generateBoxRules(\n\t\t\tstyle,\n\t\t\toptions,\n\t\t\t[ 'spacing', 'padding' ],\n\t\t\t'padding'\n\t\t);\n\t},\n};\n\nexport default padding;\n","/**\n * External dependencies\n */\nimport { get, upperFirst } from 'lodash';\n\n/**\n * Internal dependencies\n */\nimport type { GeneratedCSSRule, Style, Box, StyleOptions } from '../types';\n\nexport function generateBoxRules(\n\tstyle: Style,\n\toptions: StyleOptions,\n\tpath: string[],\n\truleKey: string\n): GeneratedCSSRule[] {\n\tconst boxStyle: Box | string | undefined = get( style, path );\n\tif ( ! boxStyle ) {\n\t\treturn [];\n\t}\n\n\tconst rules: GeneratedCSSRule[] = [];\n\tif ( typeof boxStyle === 'string' ) {\n\t\trules.push( {\n\t\t\tselector: options.selector,\n\t\t\tkey: ruleKey,\n\t\t\tvalue: boxStyle,\n\t\t} );\n\t} else {\n\t\tconst sideRules = [ 'top', 'right', 'bottom', 'left' ].reduce(\n\t\t\t( acc: GeneratedCSSRule[], side: string ) => {\n\t\t\t\tconst value: string | undefined = get( boxStyle, [ side ] );\n\t\t\t\tif ( value ) {\n\t\t\t\t\tacc.push( {\n\t\t\t\t\t\tselector: options.selector,\n\t\t\t\t\t\tkey: `${ ruleKey }${ upperFirst( side ) }`,\n\t\t\t\t\t\tvalue,\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t\treturn acc;\n\t\t\t},\n\t\t\t[]\n\t\t);\n\t\trules.push( ...sideRules );\n\t}\n\n\treturn rules;\n}\n","/**\n * External dependencies\n */\nimport { groupBy, kebabCase } from 'lodash';\n\n/**\n * Internal dependencies\n */\nimport type {\n\tStyle,\n\tStyleOptions,\n\tGeneratedCSSRule,\n\tStyleDefinition,\n} from './types';\nimport { styleDefinitions } from './styles';\n\n/**\n * Generates a stylesheet for a given style object and selector.\n *\n * @param  style   Style object.\n * @param  options Options object with settings to adjust how the styles are generated.\n *\n * @return generated stylesheet.\n */\nexport function generate( style: Style, options: StyleOptions ): string {\n\tconst rules = getCSSRules( style, options );\n\tconst groupedRules = groupBy( rules, 'selector' );\n\tconst selectorRules = Object.keys( groupedRules ).reduce(\n\t\t( acc: string[], subSelector: string ) => {\n\t\t\tacc.push(\n\t\t\t\t`${ subSelector } { ${ groupedRules[ subSelector ]\n\t\t\t\t\t.map(\n\t\t\t\t\t\t( rule: GeneratedCSSRule ) =>\n\t\t\t\t\t\t\t`${ kebabCase( rule.key ) }: ${ rule.value };`\n\t\t\t\t\t)\n\t\t\t\t\t.join( ' ' ) } }`\n\t\t\t);\n\t\t\treturn acc;\n\t\t},\n\t\t[]\n\t);\n\n\treturn selectorRules.join( '\\n' );\n}\n\n/**\n * Returns a JSON representation of the generated CSS rules.\n *\n * @param  style   Style object.\n * @param  options Options object with settings to adjust how the styles are generated.\n *\n * @return generated styles.\n */\nexport function getCSSRules(\n\tstyle: Style,\n\toptions: StyleOptions\n): GeneratedCSSRule[] {\n\tconst rules: GeneratedCSSRule[] = [];\n\tstyleDefinitions.forEach( ( definition: StyleDefinition ) => {\n\t\trules.push( ...definition.generate( style, options ) );\n\t} );\n\n\treturn rules;\n}\n","/**\n * External dependencies\n */\nimport {\n\tfirst,\n\tforEach,\n\tget,\n\tisEmpty,\n\tisString,\n\tkebabCase,\n\tpickBy,\n\treduce,\n\tset,\n\tstartsWith,\n} from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport {\n\t__EXPERIMENTAL_STYLE_PROPERTY as STYLE_PROPERTY,\n\t__EXPERIMENTAL_ELEMENTS as ELEMENTS,\n\tgetBlockTypes,\n} from '@wordpress/blocks';\nimport { useEffect, useState, useContext } from '@wordpress/element';\nimport { getCSSRules } from '@wordpress/style-engine';\n\n/**\n * Internal dependencies\n */\n\n/**\n * Internal dependencies\n */\nimport { PRESET_METADATA, ROOT_BLOCK_SELECTOR } from './utils';\nimport { GlobalStylesContext } from './context';\n\nfunction compileStyleValue( uncompiledValue ) {\n\tconst VARIABLE_REFERENCE_PREFIX = 'var:';\n\tconst VARIABLE_PATH_SEPARATOR_TOKEN_ATTRIBUTE = '|';\n\tconst VARIABLE_PATH_SEPARATOR_TOKEN_STYLE = '--';\n\tif ( startsWith( uncompiledValue, VARIABLE_REFERENCE_PREFIX ) ) {\n\t\tconst variable = uncompiledValue\n\t\t\t.slice( VARIABLE_REFERENCE_PREFIX.length )\n\t\t\t.split( VARIABLE_PATH_SEPARATOR_TOKEN_ATTRIBUTE )\n\t\t\t.join( VARIABLE_PATH_SEPARATOR_TOKEN_STYLE );\n\t\treturn `var(--wp--${ variable })`;\n\t}\n\treturn uncompiledValue;\n}\n\n/**\n * Transform given preset tree into a set of style declarations.\n *\n * @param {Object} blockPresets\n *\n * @return {Array} An array of style declarations.\n */\nfunction getPresetsDeclarations( blockPresets = {} ) {\n\treturn reduce(\n\t\tPRESET_METADATA,\n\t\t( declarations, { path, valueKey, cssVarInfix } ) => {\n\t\t\tconst presetByOrigin = get( blockPresets, path, [] );\n\t\t\t[ 'default', 'theme', 'custom' ].forEach( ( origin ) => {\n\t\t\t\tif ( presetByOrigin[ origin ] ) {\n\t\t\t\t\tpresetByOrigin[ origin ].forEach( ( value ) => {\n\t\t\t\t\t\tdeclarations.push(\n\t\t\t\t\t\t\t`--wp--preset--${ cssVarInfix }--${ kebabCase(\n\t\t\t\t\t\t\t\tvalue.slug\n\t\t\t\t\t\t\t) }: ${ value[ valueKey ] }`\n\t\t\t\t\t\t);\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\treturn declarations;\n\t\t},\n\t\t[]\n\t);\n}\n\n/**\n * Transform given preset tree into a set of preset class declarations.\n *\n * @param {string} blockSelector\n * @param {Object} blockPresets\n * @return {string} CSS declarations for the preset classes.\n */\nfunction getPresetsClasses( blockSelector, blockPresets = {} ) {\n\treturn reduce(\n\t\tPRESET_METADATA,\n\t\t( declarations, { path, cssVarInfix, classes } ) => {\n\t\t\tif ( ! classes ) {\n\t\t\t\treturn declarations;\n\t\t\t}\n\n\t\t\tconst presetByOrigin = get( blockPresets, path, [] );\n\t\t\t[ 'default', 'theme', 'custom' ].forEach( ( origin ) => {\n\t\t\t\tif ( presetByOrigin[ origin ] ) {\n\t\t\t\t\tpresetByOrigin[ origin ].forEach( ( { slug } ) => {\n\t\t\t\t\t\tclasses.forEach( ( { classSuffix, propertyName } ) => {\n\t\t\t\t\t\t\tconst classSelectorToUse = `.has-${ kebabCase(\n\t\t\t\t\t\t\t\tslug\n\t\t\t\t\t\t\t) }-${ classSuffix }`;\n\t\t\t\t\t\t\tconst selectorToUse = blockSelector\n\t\t\t\t\t\t\t\t.split( ',' ) // Selector can be \"h1, h2, h3\"\n\t\t\t\t\t\t\t\t.map(\n\t\t\t\t\t\t\t\t\t( selector ) =>\n\t\t\t\t\t\t\t\t\t\t`${ selector }${ classSelectorToUse }`\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t.join( ',' );\n\t\t\t\t\t\t\tconst value = `var(--wp--preset--${ cssVarInfix }--${ kebabCase(\n\t\t\t\t\t\t\t\tslug\n\t\t\t\t\t\t\t) })`;\n\t\t\t\t\t\t\tdeclarations += `${ selectorToUse }{${ propertyName }: ${ value } !important;}`;\n\t\t\t\t\t\t} );\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t} );\n\t\t\treturn declarations;\n\t\t},\n\t\t''\n\t);\n}\n\nfunction flattenTree( input = {}, prefix, token ) {\n\tlet result = [];\n\tObject.keys( input ).forEach( ( key ) => {\n\t\tconst newKey = prefix + kebabCase( key.replace( '/', '-' ) );\n\t\tconst newLeaf = input[ key ];\n\n\t\tif ( newLeaf instanceof Object ) {\n\t\t\tconst newPrefix = newKey + token;\n\t\t\tresult = [ ...result, ...flattenTree( newLeaf, newPrefix, token ) ];\n\t\t} else {\n\t\t\tresult.push( `${ newKey }: ${ newLeaf }` );\n\t\t}\n\t} );\n\treturn result;\n}\n\n/**\n * Transform given style tree into a set of style declarations.\n *\n * @param {Object} blockStyles Block styles.\n *\n * @return {Array} An array of style declarations.\n */\nfunction getStylesDeclarations( blockStyles = {} ) {\n\tconst output = reduce(\n\t\tSTYLE_PROPERTY,\n\t\t( declarations, { value, properties, useEngine }, key ) => {\n\t\t\tconst pathToValue = value;\n\t\t\tif ( first( pathToValue ) === 'elements' || useEngine ) {\n\t\t\t\treturn declarations;\n\t\t\t}\n\n\t\t\tconst styleValue = get( blockStyles, pathToValue );\n\n\t\t\tif ( !! properties && ! isString( styleValue ) ) {\n\t\t\t\tObject.entries( properties ).forEach( ( entry ) => {\n\t\t\t\t\tconst [ name, prop ] = entry;\n\n\t\t\t\t\tif ( ! get( styleValue, [ prop ], false ) ) {\n\t\t\t\t\t\t// Do not create a declaration\n\t\t\t\t\t\t// for sub-properties that don't have any value.\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst cssProperty = kebabCase( name );\n\t\t\t\t\tdeclarations.push(\n\t\t\t\t\t\t`${ cssProperty }: ${ compileStyleValue(\n\t\t\t\t\t\t\tget( styleValue, [ prop ] )\n\t\t\t\t\t\t) }`\n\t\t\t\t\t);\n\t\t\t\t} );\n\t\t\t} else if ( get( blockStyles, pathToValue, false ) ) {\n\t\t\t\tconst cssProperty = key.startsWith( '--' )\n\t\t\t\t\t? key\n\t\t\t\t\t: kebabCase( key );\n\t\t\t\tdeclarations.push(\n\t\t\t\t\t`${ cssProperty }: ${ compileStyleValue(\n\t\t\t\t\t\tget( blockStyles, pathToValue )\n\t\t\t\t\t) }`\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn declarations;\n\t\t},\n\t\t[]\n\t);\n\n\t// The goal is to move everything to server side generated engine styles\n\t// This is temporary as we absorb more and more styles into the engine.\n\tconst extraRules = getCSSRules( blockStyles, { selector: 'self' } );\n\textraRules.forEach( ( rule ) => {\n\t\tif ( rule.selector !== 'self' ) {\n\t\t\tthrow \"This style can't be added as inline style\";\n\t\t}\n\t\tconst cssProperty = rule.key.startsWith( '--' )\n\t\t\t? rule.key\n\t\t\t: kebabCase( rule.key );\n\t\toutput.push( `${ cssProperty }: ${ compileStyleValue( rule.value ) }` );\n\t} );\n\n\treturn output;\n}\n\nexport const getNodesWithStyles = ( tree, blockSelectors ) => {\n\tconst nodes = [];\n\n\tif ( ! tree?.styles ) {\n\t\treturn nodes;\n\t}\n\n\tconst pickStyleKeys = ( treeToPickFrom ) =>\n\t\tpickBy( treeToPickFrom, ( value, key ) =>\n\t\t\t[ 'border', 'color', 'spacing', 'typography' ].includes( key )\n\t\t);\n\n\t// Top-level.\n\tconst styles = pickStyleKeys( tree.styles );\n\tif ( !! styles ) {\n\t\tnodes.push( {\n\t\t\tstyles,\n\t\t\tselector: ROOT_BLOCK_SELECTOR,\n\t\t} );\n\t}\n\tforEach( tree.styles?.elements, ( value, key ) => {\n\t\tif ( !! value && !! ELEMENTS[ key ] ) {\n\t\t\tnodes.push( {\n\t\t\t\tstyles: value,\n\t\t\t\tselector: ELEMENTS[ key ],\n\t\t\t} );\n\t\t}\n\t} );\n\n\t// Iterate over blocks: they can have styles & elements.\n\tforEach( tree.styles?.blocks, ( node, blockName ) => {\n\t\tconst blockStyles = pickStyleKeys( node );\n\t\tif ( !! blockStyles && !! blockSelectors?.[ blockName ]?.selector ) {\n\t\t\tnodes.push( {\n\t\t\t\tstyles: blockStyles,\n\t\t\t\tselector: blockSelectors[ blockName ].selector,\n\t\t\t} );\n\t\t}\n\n\t\tforEach( node?.elements, ( value, elementName ) => {\n\t\t\tif (\n\t\t\t\t!! value &&\n\t\t\t\t!! blockSelectors?.[ blockName ] &&\n\t\t\t\t!! ELEMENTS?.[ elementName ]\n\t\t\t) {\n\t\t\t\tnodes.push( {\n\t\t\t\t\tstyles: value,\n\t\t\t\t\tselector: blockSelectors[ blockName ].selector\n\t\t\t\t\t\t.split( ',' )\n\t\t\t\t\t\t.map( ( sel ) => sel + ' ' + ELEMENTS[ elementName ] )\n\t\t\t\t\t\t.join( ',' ),\n\t\t\t\t} );\n\t\t\t}\n\t\t} );\n\t} );\n\n\treturn nodes;\n};\n\nexport const getNodesWithSettings = ( tree, blockSelectors ) => {\n\tconst nodes = [];\n\n\tif ( ! tree?.settings ) {\n\t\treturn nodes;\n\t}\n\n\tconst pickPresets = ( treeToPickFrom ) => {\n\t\tconst presets = {};\n\t\tPRESET_METADATA.forEach( ( { path } ) => {\n\t\t\tconst value = get( treeToPickFrom, path, false );\n\t\t\tif ( value !== false ) {\n\t\t\t\tset( presets, path, value );\n\t\t\t}\n\t\t} );\n\t\treturn presets;\n\t};\n\n\t// Top-level.\n\tconst presets = pickPresets( tree.settings );\n\tconst custom = tree.settings?.custom;\n\tif ( ! isEmpty( presets ) || !! custom ) {\n\t\tnodes.push( {\n\t\t\tpresets,\n\t\t\tcustom,\n\t\t\tselector: ROOT_BLOCK_SELECTOR,\n\t\t} );\n\t}\n\n\t// Blocks.\n\tforEach( tree.settings?.blocks, ( node, blockName ) => {\n\t\tconst blockPresets = pickPresets( node );\n\t\tconst blockCustom = node.custom;\n\t\tif ( ! isEmpty( blockPresets ) || !! blockCustom ) {\n\t\t\tnodes.push( {\n\t\t\t\tpresets: blockPresets,\n\t\t\t\tcustom: blockCustom,\n\t\t\t\tselector: blockSelectors[ blockName ].selector,\n\t\t\t} );\n\t\t}\n\t} );\n\n\treturn nodes;\n};\n\nexport const toCustomProperties = ( tree, blockSelectors ) => {\n\tconst settings = getNodesWithSettings( tree, blockSelectors );\n\n\tlet ruleset = '';\n\tsettings.forEach( ( { presets, custom, selector } ) => {\n\t\tconst declarations = getPresetsDeclarations( presets );\n\t\tconst customProps = flattenTree( custom, '--wp--custom--', '--' );\n\t\tif ( customProps.length > 0 ) {\n\t\t\tdeclarations.push( ...customProps );\n\t\t}\n\n\t\tif ( declarations.length > 0 ) {\n\t\t\truleset = ruleset + `${ selector }{${ declarations.join( ';' ) };}`;\n\t\t}\n\t} );\n\n\treturn ruleset;\n};\n\nexport const toStyles = ( tree, blockSelectors ) => {\n\tconst nodesWithStyles = getNodesWithStyles( tree, blockSelectors );\n\tconst nodesWithSettings = getNodesWithSettings( tree, blockSelectors );\n\n\tlet ruleset =\n\t\t'.wp-site-blocks > * { margin-top: 0; margin-bottom: 0; }.wp-site-blocks > * + * { margin-top: var( --wp--style--block-gap ); }';\n\tnodesWithStyles.forEach( ( { selector, styles } ) => {\n\t\tconst declarations = getStylesDeclarations( styles );\n\t\tif ( declarations.length === 0 ) {\n\t\t\treturn;\n\t\t}\n\t\truleset = ruleset + `${ selector }{${ declarations.join( ';' ) };}`;\n\t} );\n\n\tnodesWithSettings.forEach( ( { selector, presets } ) => {\n\t\tif ( ROOT_BLOCK_SELECTOR === selector ) {\n\t\t\t// Do not add extra specificity for top-level classes.\n\t\t\tselector = '';\n\t\t}\n\n\t\tconst classes = getPresetsClasses( selector, presets );\n\t\tif ( ! isEmpty( classes ) ) {\n\t\t\truleset = ruleset + classes;\n\t\t}\n\t} );\n\n\treturn ruleset;\n};\n\nconst getBlockSelectors = ( blockTypes ) => {\n\tconst result = {};\n\tblockTypes.forEach( ( blockType ) => {\n\t\tconst name = blockType.name;\n\t\tconst selector =\n\t\t\tblockType?.supports?.__experimentalSelector ??\n\t\t\t'.wp-block-' + name.replace( 'core/', '' ).replace( '/', '-' );\n\t\tresult[ name ] = {\n\t\t\tname,\n\t\t\tselector,\n\t\t};\n\t} );\n\n\treturn result;\n};\n\nexport function useGlobalStylesOutput() {\n\tconst [ stylesheets, setStylesheets ] = useState( [] );\n\tconst [ settings, setSettings ] = useState( {} );\n\tconst { merged: mergedConfig } = useContext( GlobalStylesContext );\n\n\tuseEffect( () => {\n\t\tif ( ! mergedConfig?.styles || ! mergedConfig?.settings ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst blockSelectors = getBlockSelectors( getBlockTypes() );\n\t\tconst customProperties = toCustomProperties(\n\t\t\tmergedConfig,\n\t\t\tblockSelectors\n\t\t);\n\t\tconst globalStyles = toStyles( mergedConfig, blockSelectors );\n\t\tsetStylesheets( [\n\t\t\t{\n\t\t\t\tcss: customProperties,\n\t\t\t\tisGlobalStyles: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tcss: globalStyles,\n\t\t\t\tisGlobalStyles: true,\n\t\t\t},\n\t\t] );\n\t\tsetSettings( mergedConfig.settings );\n\t}, [ mergedConfig ] );\n\n\treturn [ stylesheets, settings ];\n}\n","/**\n * WordPress dependencies\n */\nimport {\n\t__unstableIframe as Iframe,\n\t__unstableEditorStyles as EditorStyles,\n} from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { useStyle } from './hooks';\nimport { useGlobalStylesOutput } from './use-global-styles-output';\n\nconst StylesPreview = ( { height = 150 } ) => {\n\tconst [ fontFamily = 'serif' ] = useStyle( 'typography.fontFamily' );\n\tconst [ textColor = 'black' ] = useStyle( 'color.text' );\n\tconst [ linkColor = 'blue' ] = useStyle( 'elements.link.color.text' );\n\tconst [ backgroundColor = 'white' ] = useStyle( 'color.background' );\n\tconst [ gradientValue ] = useStyle( 'color.gradient' );\n\tconst [ styles ] = useGlobalStylesOutput();\n\n\treturn (\n\t\t<Iframe\n\t\t\tclassName=\"edit-site-global-styles-preview__iframe\"\n\t\t\thead={ <EditorStyles styles={ styles } /> }\n\t\t\tstyle={ { height } }\n\t\t>\n\t\t\t<div\n\t\t\t\tstyle={ {\n\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\tgap: 20,\n\t\t\t\t\talignItems: 'center',\n\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\theight: '100%',\n\t\t\t\t\ttransform: `scale(${ height / 150 })`,\n\t\t\t\t\tbackground: gradientValue ?? backgroundColor,\n\t\t\t\t\tcursor: 'pointer',\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t<div style={ { fontFamily, fontSize: '80px' } }>Aa</div>\n\t\t\t\t<div\n\t\t\t\t\tstyle={ {\n\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\tgap: 20,\n\t\t\t\t\t\tflexDirection: 'column',\n\t\t\t\t\t} }\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\theight: 40,\n\t\t\t\t\t\t\twidth: 40,\n\t\t\t\t\t\t\tbackground: textColor,\n\t\t\t\t\t\t\tborderRadius: 20,\n\t\t\t\t\t\t} }\n\t\t\t\t\t/>{ ' ' }\n\t\t\t\t\t<div\n\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\theight: 40,\n\t\t\t\t\t\t\twidth: 40,\n\t\t\t\t\t\t\tbackground: linkColor,\n\t\t\t\t\t\t\tborderRadius: 20,\n\t\t\t\t\t\t} }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Iframe>\n\t);\n};\n\nexport default StylesPreview;\n","/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalItemGroup as ItemGroup,\n\t__experimentalItem as Item,\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n\tFlexItem,\n\tCardBody,\n\tCard,\n\tCardDivider,\n} from '@wordpress/components';\nimport { isRTL, __ } from '@wordpress/i18n';\nimport { chevronLeft, chevronRight, Icon } from '@wordpress/icons';\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { NavigationButton } from './navigation-button';\nimport ContextMenu from './context-menu';\nimport StylesPreview from './preview';\n\nfunction ScreenRoot() {\n\tconst { variations } = useSelect( ( select ) => {\n\t\treturn {\n\t\t\tvariations: select(\n\t\t\t\tcoreStore\n\t\t\t).__experimentalGetCurrentThemeGlobalStylesVariations(),\n\t\t};\n\t}, [] );\n\n\treturn (\n\t\t<Card size=\"small\">\n\t\t\t<CardBody>\n\t\t\t\t<VStack spacing={ 2 }>\n\t\t\t\t\t<Card>\n\t\t\t\t\t\t<StylesPreview />\n\t\t\t\t\t</Card>\n\t\t\t\t\t{ !! variations?.length && (\n\t\t\t\t\t\t<NavigationButton path=\"/variations\">\n\t\t\t\t\t\t\t<HStack justify=\"space-between\">\n\t\t\t\t\t\t\t\t<FlexItem>{ __( 'Other styles' ) }</FlexItem>\n\t\t\t\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t\t\t\t\tisRTL() ? chevronLeft : chevronRight\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t\t\t</HStack>\n\t\t\t\t\t\t</NavigationButton>\n\t\t\t\t\t) }\n\t\t\t\t</VStack>\n\t\t\t</CardBody>\n\n\t\t\t<CardBody>\n\t\t\t\t<ContextMenu />\n\t\t\t</CardBody>\n\n\t\t\t<CardDivider />\n\n\t\t\t<CardBody>\n\t\t\t\t<ItemGroup>\n\t\t\t\t\t<Item>\n\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t'Customize the appearance of specific blocks for the whole site.'\n\t\t\t\t\t\t) }\n\t\t\t\t\t</Item>\n\t\t\t\t\t<NavigationButton path=\"/blocks\">\n\t\t\t\t\t\t<HStack justify=\"space-between\">\n\t\t\t\t\t\t\t<FlexItem>{ __( 'Blocks' ) }</FlexItem>\n\t\t\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t\t\t\tisRTL() ? chevronLeft : chevronRight\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t\t</HStack>\n\t\t\t\t\t</NavigationButton>\n\t\t\t\t</ItemGroup>\n\t\t\t</CardBody>\n\t\t</Card>\n\t);\n}\n\nexport default ScreenRoot;\n","/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n\t__experimentalSpacer as Spacer,\n\t__experimentalHeading as Heading,\n\t__experimentalView as View,\n} from '@wordpress/components';\nimport { isRTL, __ } from '@wordpress/i18n';\nimport { chevronRight, chevronLeft, Icon } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { NavigationBackButton } from './navigation-button';\n\nfunction ScreenHeader( { title, description } ) {\n\treturn (\n\t\t<VStack spacing={ 2 }>\n\t\t\t<HStack spacing={ 2 }>\n\t\t\t\t<View>\n\t\t\t\t\t<NavigationBackButton\n\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\ticon={ isRTL() ? chevronRight : chevronLeft }\n\t\t\t\t\t\t\t\tvariant=\"muted\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\taria-label={ __( 'Navigate to the previous view' ) }\n\t\t\t\t\t/>\n\t\t\t\t</View>\n\t\t\t\t<Spacer>\n\t\t\t\t\t<Heading level={ 5 }>{ title }</Heading>\n\t\t\t\t</Spacer>\n\t\t\t</HStack>\n\t\t\t{ description && (\n\t\t\t\t<p className=\"edit-site-global-styles-header__description\">\n\t\t\t\t\t{ description }\n\t\t\t\t</p>\n\t\t\t) }\n\t\t</VStack>\n\t);\n}\n\nexport default ScreenHeader;\n","/**\n * WordPress dependencies\n */\nimport { getBlockTypes } from '@wordpress/blocks';\nimport { __ } from '@wordpress/i18n';\nimport {\n\tFlexItem,\n\t__experimentalHStack as HStack,\n} from '@wordpress/components';\nimport { BlockIcon } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { useHasBorderPanel } from './border-panel';\nimport { useHasColorPanel } from './color-utils';\nimport { useHasDimensionsPanel } from './dimensions-panel';\nimport { useHasTypographyPanel } from './typography-panel';\nimport ScreenHeader from './header';\nimport { NavigationButton } from './navigation-button';\n\nfunction BlockMenuItem( { block } ) {\n\tconst hasTypographyPanel = useHasTypographyPanel( block.name );\n\tconst hasColorPanel = useHasColorPanel( block.name );\n\tconst hasBorderPanel = useHasBorderPanel( block.name );\n\tconst hasDimensionsPanel = useHasDimensionsPanel( block.name );\n\tconst hasLayoutPanel = hasBorderPanel || hasDimensionsPanel;\n\tconst hasBlockMenuItem =\n\t\thasTypographyPanel || hasColorPanel || hasLayoutPanel;\n\n\tif ( ! hasBlockMenuItem ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<NavigationButton path={ '/blocks/' + block.name }>\n\t\t\t<HStack justify=\"flex-start\">\n\t\t\t\t<FlexItem>\n\t\t\t\t\t<BlockIcon icon={ block.icon } />\n\t\t\t\t</FlexItem>\n\t\t\t\t<FlexItem>{ block.title }</FlexItem>\n\t\t\t</HStack>\n\t\t</NavigationButton>\n\t);\n}\n\nfunction ScreenBlockList() {\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader\n\t\t\t\ttitle={ __( 'Blocks' ) }\n\t\t\t\tdescription={ __(\n\t\t\t\t\t'Customize the appearance of specific blocks and for the whole site.'\n\t\t\t\t) }\n\t\t\t/>\n\t\t\t{ getBlockTypes().map( ( block ) => (\n\t\t\t\t<BlockMenuItem\n\t\t\t\t\tblock={ block }\n\t\t\t\t\tkey={ 'menu-itemblock-' + block.name }\n\t\t\t\t/>\n\t\t\t) ) }\n\t\t</>\n\t);\n}\n\nexport default ScreenBlockList;\n","/**\n * WordPress dependencies\n */\nimport { getBlockType } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport ContextMenu from './context-menu';\nimport ScreenHeader from './header';\n\nfunction ScreenBlock( { name } ) {\n\tconst blockType = getBlockType( name );\n\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader title={ blockType.title } />\n\t\t\t<ContextMenu parentMenu={ '/blocks/' + name } name={ name } />\n\t\t</>\n\t);\n}\n\nexport default ScreenBlock;\n","/**\n * WordPress dependencies\n */\nimport { __experimentalHeading as Heading } from '@wordpress/components';\n\nfunction Subtitle( { children } ) {\n\treturn (\n\t\t<Heading className=\"edit-site-global-styles-subtitle\" level={ 2 }>\n\t\t\t{ children }\n\t\t</Heading>\n\t);\n}\n\nexport default Subtitle;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\t__experimentalItemGroup as ItemGroup,\n\t__experimentalVStack as VStack,\n\t__experimentalHStack as HStack,\n\tFlexItem,\n} from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport ScreenHeader from './header';\nimport { NavigationButton } from './navigation-button';\nimport { useStyle } from './hooks';\nimport Subtitle from './subtitle';\nimport TypographyPanel from './typography-panel';\n\nfunction Item( { name, parentMenu, element, label } ) {\n\tconst hasSupport = ! name;\n\tconst prefix =\n\t\telement === 'text' || ! element ? '' : `elements.${ element }.`;\n\tconst extraStyles =\n\t\telement === 'link'\n\t\t\t? {\n\t\t\t\t\ttextDecoration: 'underline',\n\t\t\t  }\n\t\t\t: {};\n\tconst [ fontFamily ] = useStyle( prefix + 'typography.fontFamily', name );\n\tconst [ fontStyle ] = useStyle( prefix + 'typography.fontStyle', name );\n\tconst [ fontWeight ] = useStyle( prefix + 'typography.fontWeight', name );\n\tconst [ letterSpacing ] = useStyle(\n\t\tprefix + 'typography.letterSpacing',\n\t\tname\n\t);\n\tconst [ backgroundColor ] = useStyle( prefix + 'color.background', name );\n\tconst [ gradientValue ] = useStyle( prefix + 'color.gradient', name );\n\tconst [ color ] = useStyle( prefix + 'color.text', name );\n\n\tif ( ! hasSupport ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<NavigationButton path={ parentMenu + '/typography/' + element }>\n\t\t\t<HStack justify=\"flex-start\">\n\t\t\t\t<FlexItem\n\t\t\t\t\tclassName=\"edit-site-global-styles-screen-typography__indicator\"\n\t\t\t\t\tstyle={ {\n\t\t\t\t\t\tfontFamily: fontFamily ?? 'serif',\n\t\t\t\t\t\tbackground: gradientValue ?? backgroundColor,\n\t\t\t\t\t\tcolor,\n\t\t\t\t\t\tfontStyle,\n\t\t\t\t\t\tfontWeight,\n\t\t\t\t\t\tletterSpacing,\n\t\t\t\t\t\t...extraStyles,\n\t\t\t\t\t} }\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Aa' ) }\n\t\t\t\t</FlexItem>\n\t\t\t\t<FlexItem>{ label }</FlexItem>\n\t\t\t</HStack>\n\t\t</NavigationButton>\n\t);\n}\n\nfunction ScreenTypography( { name } ) {\n\tconst parentMenu = name === undefined ? '' : '/blocks/' + name;\n\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader\n\t\t\t\ttitle={ __( 'Typography' ) }\n\t\t\t\tdescription={ __(\n\t\t\t\t\t'Manage the typography settings for different elements.'\n\t\t\t\t) }\n\t\t\t/>\n\n\t\t\t{ ! name && (\n\t\t\t\t<div className=\"edit-site-global-styles-screen-typography\">\n\t\t\t\t\t<VStack spacing={ 3 }>\n\t\t\t\t\t\t<Subtitle>{ __( 'Elements' ) }</Subtitle>\n\t\t\t\t\t\t<ItemGroup isBordered isSeparated>\n\t\t\t\t\t\t\t<Item\n\t\t\t\t\t\t\t\tname={ name }\n\t\t\t\t\t\t\t\tparentMenu={ parentMenu }\n\t\t\t\t\t\t\t\telement=\"text\"\n\t\t\t\t\t\t\t\tlabel={ __( 'Text' ) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Item\n\t\t\t\t\t\t\t\tname={ name }\n\t\t\t\t\t\t\t\tparentMenu={ parentMenu }\n\t\t\t\t\t\t\t\telement=\"link\"\n\t\t\t\t\t\t\t\tlabel={ __( 'Links' ) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</ItemGroup>\n\t\t\t\t\t</VStack>\n\t\t\t\t</div>\n\t\t\t) }\n\n\t\t\t{ /* no typography elements support yet for blocks */ }\n\t\t\t{ !! name && <TypographyPanel name={ name } element=\"text\" /> }\n\t\t</>\n\t);\n}\n\nexport default ScreenTypography;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport TypographyPanel from './typography-panel';\nimport ScreenHeader from './header';\n\nconst elements = {\n\ttext: {\n\t\tdescription: __( 'Manage the fonts used on the site.' ),\n\t\ttitle: __( 'Text' ),\n\t},\n\tlink: {\n\t\tdescription: __( 'Manage the fonts and typography used on the links.' ),\n\t\ttitle: __( 'Links' ),\n\t},\n};\n\nfunction ScreenTypographyElement( { name, element } ) {\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader\n\t\t\t\ttitle={ elements[ element ].title }\n\t\t\t\tdescription={ elements[ element ].description }\n\t\t\t/>\n\t\t\t<TypographyPanel name={ name } element={ element } />\n\t\t</>\n\t);\n}\n\nexport default ScreenTypographyElement;\n","/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalItemGroup as ItemGroup,\n\tFlexItem,\n\t__experimentalHStack as HStack,\n\t__experimentalZStack as ZStack,\n\t__experimentalVStack as VStack,\n\tFlexBlock,\n\tColorIndicator,\n} from '@wordpress/components';\nimport { __, _n, sprintf } from '@wordpress/i18n';\nimport { useMemo } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport Subtitle from './subtitle';\nimport { NavigationButton } from './navigation-button';\nimport { useSetting } from './hooks';\n\nconst EMPTY_COLORS = [];\n\nfunction Palette( { name } ) {\n\tconst [ customColors ] = useSetting( 'color.palette.custom' );\n\tconst [ themeColors ] = useSetting( 'color.palette.theme' );\n\tconst [ defaultColors ] = useSetting( 'color.palette.default' );\n\n\tconst [ defaultPaletteEnabled ] = useSetting(\n\t\t'color.defaultPalette',\n\t\tname\n\t);\n\tconst colors = useMemo(\n\t\t() => [\n\t\t\t...( customColors || EMPTY_COLORS ),\n\t\t\t...( themeColors || EMPTY_COLORS ),\n\t\t\t...( defaultColors && defaultPaletteEnabled\n\t\t\t\t? defaultColors\n\t\t\t\t: EMPTY_COLORS ),\n\t\t],\n\t\t[ customColors, themeColors, defaultColors, defaultPaletteEnabled ]\n\t);\n\n\tconst screenPath = ! name\n\t\t? '/colors/palette'\n\t\t: '/blocks/' + name + '/colors/palette';\n\tconst paletteButtonText =\n\t\tcolors.length > 0\n\t\t\t? sprintf(\n\t\t\t\t\t// Translators: %d: Number of palette colors.\n\t\t\t\t\t_n( '%d color', '%d colors', colors.length ),\n\t\t\t\t\tcolors.length\n\t\t\t  )\n\t\t\t: __( 'Add custom colors' );\n\n\treturn (\n\t\t<VStack spacing={ 3 }>\n\t\t\t<Subtitle>{ __( 'Palette' ) }</Subtitle>\n\t\t\t<ItemGroup isBordered isSeparated>\n\t\t\t\t<NavigationButton path={ screenPath }>\n\t\t\t\t\t<HStack\n\t\t\t\t\t\tdirection={\n\t\t\t\t\t\t\tcolors.length === 0 ? 'row-reverse' : 'row'\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<FlexBlock>\n\t\t\t\t\t\t\t<ZStack isLayered={ false } offset={ -8 }>\n\t\t\t\t\t\t\t\t{ colors.slice( 0, 5 ).map( ( { color } ) => (\n\t\t\t\t\t\t\t\t\t<ColorIndicator\n\t\t\t\t\t\t\t\t\t\tkey={ color }\n\t\t\t\t\t\t\t\t\t\tcolorValue={ color }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t\t\t</ZStack>\n\t\t\t\t\t\t</FlexBlock>\n\t\t\t\t\t\t<FlexItem>{ paletteButtonText }</FlexItem>\n\t\t\t\t\t</HStack>\n\t\t\t\t</NavigationButton>\n\t\t\t</ItemGroup>\n\t\t</VStack>\n\t);\n}\n\nexport default Palette;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\t__experimentalItemGroup as ItemGroup,\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n\tFlexItem,\n\tColorIndicator,\n} from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport ScreenHeader from './header';\nimport Palette from './palette';\nimport { NavigationButton } from './navigation-button';\nimport { getSupportedGlobalStylesPanels, useStyle } from './hooks';\nimport Subtitle from './subtitle';\n\nfunction BackgroundColorItem( { name, parentMenu } ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\tconst hasSupport =\n\t\tsupports.includes( 'backgroundColor' ) ||\n\t\tsupports.includes( 'background' );\n\tconst [ backgroundColor ] = useStyle( 'color.background', name );\n\tconst [ gradientValue ] = useStyle( 'color.gradient', name );\n\n\tif ( ! hasSupport ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<NavigationButton path={ parentMenu + '/colors/background' }>\n\t\t\t<HStack justify=\"flex-start\">\n\t\t\t\t<FlexItem>\n\t\t\t\t\t<ColorIndicator\n\t\t\t\t\t\tcolorValue={ gradientValue ?? backgroundColor }\n\t\t\t\t\t/>\n\t\t\t\t</FlexItem>\n\t\t\t\t<FlexItem>{ __( 'Background' ) }</FlexItem>\n\t\t\t</HStack>\n\t\t</NavigationButton>\n\t);\n}\n\nfunction TextColorItem( { name, parentMenu } ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\tconst hasSupport = supports.includes( 'color' );\n\tconst [ color ] = useStyle( 'color.text', name );\n\n\tif ( ! hasSupport ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<NavigationButton path={ parentMenu + '/colors/text' }>\n\t\t\t<HStack justify=\"flex-start\">\n\t\t\t\t<FlexItem>\n\t\t\t\t\t<ColorIndicator colorValue={ color } />\n\t\t\t\t</FlexItem>\n\t\t\t\t<FlexItem>{ __( 'Text' ) }</FlexItem>\n\t\t\t</HStack>\n\t\t</NavigationButton>\n\t);\n}\n\nfunction LinkColorItem( { name, parentMenu } ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\tconst hasSupport = supports.includes( 'linkColor' );\n\tconst [ color ] = useStyle( 'elements.link.color.text', name );\n\n\tif ( ! hasSupport ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<NavigationButton path={ parentMenu + '/colors/link' }>\n\t\t\t<HStack justify=\"flex-start\">\n\t\t\t\t<FlexItem>\n\t\t\t\t\t<ColorIndicator colorValue={ color } />\n\t\t\t\t</FlexItem>\n\t\t\t\t<FlexItem>{ __( 'Links' ) }</FlexItem>\n\t\t\t</HStack>\n\t\t</NavigationButton>\n\t);\n}\n\nfunction ScreenColors( { name } ) {\n\tconst parentMenu = name === undefined ? '' : '/blocks/' + name;\n\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader\n\t\t\t\ttitle={ __( 'Colors' ) }\n\t\t\t\tdescription={ __(\n\t\t\t\t\t'Manage palettes and the default color of different global elements on the site.'\n\t\t\t\t) }\n\t\t\t/>\n\n\t\t\t<div className=\"edit-site-global-styles-screen-colors\">\n\t\t\t\t<VStack spacing={ 10 }>\n\t\t\t\t\t<Palette name={ name } />\n\n\t\t\t\t\t<VStack spacing={ 3 }>\n\t\t\t\t\t\t<Subtitle>{ __( 'Elements' ) }</Subtitle>\n\t\t\t\t\t\t<ItemGroup isBordered isSeparated>\n\t\t\t\t\t\t\t<BackgroundColorItem\n\t\t\t\t\t\t\t\tname={ name }\n\t\t\t\t\t\t\t\tparentMenu={ parentMenu }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<TextColorItem\n\t\t\t\t\t\t\t\tname={ name }\n\t\t\t\t\t\t\t\tparentMenu={ parentMenu }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<LinkColorItem\n\t\t\t\t\t\t\t\tname={ name }\n\t\t\t\t\t\t\t\tparentMenu={ parentMenu }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</ItemGroup>\n\t\t\t\t\t</VStack>\n\t\t\t\t</VStack>\n\t\t\t</div>\n\t\t</>\n\t);\n}\n\nexport default ScreenColors;\n","/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalPaletteEdit as PaletteEdit,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { useSetting } from './hooks';\n\nexport default function ColorPalettePanel( { name } ) {\n\tconst [ themeColors, setThemeColors ] = useSetting(\n\t\t'color.palette.theme',\n\t\tname\n\t);\n\tconst [ baseThemeColors ] = useSetting(\n\t\t'color.palette.theme',\n\t\tname,\n\t\t'base'\n\t);\n\tconst [ defaultColors, setDefaultColors ] = useSetting(\n\t\t'color.palette.default',\n\t\tname\n\t);\n\tconst [ baseDefaultColors ] = useSetting(\n\t\t'color.palette.default',\n\t\tname,\n\t\t'base'\n\t);\n\tconst [ customColors, setCustomColors ] = useSetting(\n\t\t'color.palette.custom',\n\t\tname\n\t);\n\n\tconst [ defaultPaletteEnabled ] = useSetting(\n\t\t'color.defaultPalette',\n\t\tname\n\t);\n\treturn (\n\t\t<VStack\n\t\t\tclassName=\"edit-site-global-styles-color-palette-panel\"\n\t\t\tspacing={ 10 }\n\t\t>\n\t\t\t{ !! themeColors && !! themeColors.length && (\n\t\t\t\t<PaletteEdit\n\t\t\t\t\tcanReset={ themeColors !== baseThemeColors }\n\t\t\t\t\tcanOnlyChangeValues\n\t\t\t\t\tcolors={ themeColors }\n\t\t\t\t\tonChange={ setThemeColors }\n\t\t\t\t\tpaletteLabel={ __( 'Theme' ) }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ !! defaultColors &&\n\t\t\t\t!! defaultColors.length &&\n\t\t\t\t!! defaultPaletteEnabled && (\n\t\t\t\t\t<PaletteEdit\n\t\t\t\t\t\tcanReset={ defaultColors !== baseDefaultColors }\n\t\t\t\t\t\tcanOnlyChangeValues\n\t\t\t\t\t\tcolors={ defaultColors }\n\t\t\t\t\t\tonChange={ setDefaultColors }\n\t\t\t\t\t\tpaletteLabel={ __( 'Default' ) }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t<PaletteEdit\n\t\t\t\tcolors={ customColors }\n\t\t\t\tonChange={ setCustomColors }\n\t\t\t\tpaletteLabel={ __( 'Custom' ) }\n\t\t\t\temptyMessage={ __(\n\t\t\t\t\t'Custom colors are empty! Add some colors to create your own color palette.'\n\t\t\t\t) }\n\t\t\t\tslugPrefix=\"custom-\"\n\t\t\t/>\n\t\t</VStack>\n\t);\n}\n","/**\n * External dependencies\n */\nimport { noop } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalVStack as VStack,\n\t__experimentalPaletteEdit as PaletteEdit,\n\t__experimentalSpacer as Spacer,\n\tDuotonePicker,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { useSetting } from './hooks';\nimport Subtitle from './subtitle';\n\nexport default function GradientPalettePanel( { name } ) {\n\tconst [ themeGradients, setThemeGradients ] = useSetting(\n\t\t'color.gradients.theme',\n\t\tname\n\t);\n\tconst [ baseThemeGradients ] = useSetting(\n\t\t'color.gradients.theme',\n\t\tname,\n\t\t'base'\n\t);\n\tconst [ defaultGradients, setDefaultGradients ] = useSetting(\n\t\t'color.gradients.default',\n\t\tname\n\t);\n\tconst [ baseDefaultGradients ] = useSetting(\n\t\t'color.gradients.default',\n\t\tname,\n\t\t'base'\n\t);\n\tconst [ customGradients, setCustomGradients ] = useSetting(\n\t\t'color.gradients.custom',\n\t\tname\n\t);\n\n\tconst [ defaultPaletteEnabled ] = useSetting(\n\t\t'color.defaultGradients',\n\t\tname\n\t);\n\tconst [ duotonePalette ] = useSetting( 'color.duotone' ) || [];\n\treturn (\n\t\t<VStack\n\t\t\tclassName=\"edit-site-global-styles-gradient-palette-panel\"\n\t\t\tspacing={ 10 }\n\t\t>\n\t\t\t{ !! themeGradients && !! themeGradients.length && (\n\t\t\t\t<PaletteEdit\n\t\t\t\t\tcanReset={ themeGradients !== baseThemeGradients }\n\t\t\t\t\tcanOnlyChangeValues\n\t\t\t\t\tgradients={ themeGradients }\n\t\t\t\t\tonChange={ setThemeGradients }\n\t\t\t\t\tpaletteLabel={ __( 'Theme' ) }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ !! defaultGradients &&\n\t\t\t\t!! defaultGradients.length &&\n\t\t\t\t!! defaultPaletteEnabled && (\n\t\t\t\t\t<PaletteEdit\n\t\t\t\t\t\tcanReset={ defaultGradients !== baseDefaultGradients }\n\t\t\t\t\t\tcanOnlyChangeValues\n\t\t\t\t\t\tgradients={ defaultGradients }\n\t\t\t\t\t\tonChange={ setDefaultGradients }\n\t\t\t\t\t\tpaletteLabel={ __( 'Default' ) }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t<PaletteEdit\n\t\t\t\tgradients={ customGradients }\n\t\t\t\tonChange={ setCustomGradients }\n\t\t\t\tpaletteLabel={ __( 'Custom' ) }\n\t\t\t\temptyMessage={ __(\n\t\t\t\t\t'Custom gradients are empty! Add some gradients to create your own palette.'\n\t\t\t\t) }\n\t\t\t\tslugPrefix=\"custom-\"\n\t\t\t/>\n\t\t\t<div>\n\t\t\t\t<Subtitle>{ __( 'Duotone' ) }</Subtitle>\n\t\t\t\t<Spacer margin={ 3 } />\n\t\t\t\t<DuotonePicker\n\t\t\t\t\tduotonePalette={ duotonePalette }\n\t\t\t\t\tdisableCustomDuotone={ true }\n\t\t\t\t\tdisableCustomColors={ true }\n\t\t\t\t\tclearable={ false }\n\t\t\t\t\tonChange={ noop }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</VStack>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\t__experimentalToggleGroupControl as ToggleGroupControl,\n\t__experimentalToggleGroupControlOption as ToggleGroupControlOption,\n} from '@wordpress/components';\nimport { useState } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport ColorPalettePanel from './color-palette-panel';\nimport GradientPalettePanel from './gradients-palette-panel';\nimport ScreenHeader from './header';\n\nfunction ScreenColorPalette( { name } ) {\n\tconst [ currentTab, setCurrentTab ] = useState( 'solid' );\n\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader\n\t\t\t\ttitle={ __( 'Palette' ) }\n\t\t\t\tdescription={ __(\n\t\t\t\t\t'Palettes are used to provide default color options for blocks and various design tools. Here you can edit the colors with their labels.'\n\t\t\t\t) }\n\t\t\t/>\n\t\t\t<ToggleGroupControl\n\t\t\t\tclassName=\"edit-site-screen-color-palette-toggle\"\n\t\t\t\tvalue={ currentTab }\n\t\t\t\tonChange={ setCurrentTab }\n\t\t\t\tlabel={ __( 'Select palette type' ) }\n\t\t\t\thideLabelFromVision\n\t\t\t\tisBlock\n\t\t\t>\n\t\t\t\t<ToggleGroupControlOption\n\t\t\t\t\tvalue=\"solid\"\n\t\t\t\t\tlabel={ __( 'Solid' ) }\n\t\t\t\t/>\n\t\t\t\t<ToggleGroupControlOption\n\t\t\t\t\tvalue=\"gradient\"\n\t\t\t\t\tlabel={ __( 'Gradient' ) }\n\t\t\t\t/>\n\t\t\t</ToggleGroupControl>\n\t\t\t{ currentTab === 'solid' && <ColorPalettePanel name={ name } /> }\n\t\t\t{ currentTab === 'gradient' && (\n\t\t\t\t<GradientPalettePanel name={ name } />\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nexport default ScreenColorPalette;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { __experimentalColorGradientControl as ColorGradientControl } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport ScreenHeader from './header';\nimport {\n\tgetSupportedGlobalStylesPanels,\n\tuseColorsPerOrigin,\n\tuseGradientsPerOrigin,\n\tuseSetting,\n\tuseStyle,\n} from './hooks';\n\nfunction ScreenBackgroundColor( { name } ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\tconst [ solids ] = useSetting( 'color.palette', name );\n\tconst [ gradients ] = useSetting( 'color.gradients', name );\n\tconst [ areCustomSolidsEnabled ] = useSetting( 'color.custom', name );\n\tconst [ areCustomGradientsEnabled ] = useSetting(\n\t\t'color.customGradient',\n\t\tname\n\t);\n\n\tconst colorsPerOrigin = useColorsPerOrigin( name );\n\tconst gradientsPerOrigin = useGradientsPerOrigin( name );\n\n\tconst [ isBackgroundEnabled ] = useSetting( 'color.background', name );\n\n\tconst hasBackgroundColor =\n\t\tsupports.includes( 'backgroundColor' ) &&\n\t\tisBackgroundEnabled &&\n\t\t( solids.length > 0 || areCustomSolidsEnabled );\n\tconst hasGradientColor =\n\t\tsupports.includes( 'background' ) &&\n\t\t( gradients.length > 0 || areCustomGradientsEnabled );\n\tconst [ backgroundColor, setBackgroundColor ] = useStyle(\n\t\t'color.background',\n\t\tname\n\t);\n\tconst [ userBackgroundColor ] = useStyle(\n\t\t'color.background',\n\t\tname,\n\t\t'user'\n\t);\n\tconst [ gradient, setGradient ] = useStyle( 'color.gradient', name );\n\tconst [ userGradient ] = useStyle( 'color.gradient', name, 'user' );\n\n\tif ( ! hasBackgroundColor && ! hasGradientColor ) {\n\t\treturn null;\n\t}\n\n\tlet backgroundSettings = {};\n\tif ( hasBackgroundColor ) {\n\t\tbackgroundSettings = {\n\t\t\tcolorValue: backgroundColor,\n\t\t\tonColorChange: setBackgroundColor,\n\t\t};\n\t\tif ( backgroundColor ) {\n\t\t\tbackgroundSettings.clearable =\n\t\t\t\tbackgroundColor === userBackgroundColor;\n\t\t}\n\t}\n\n\tlet gradientSettings = {};\n\tif ( hasGradientColor ) {\n\t\tgradientSettings = {\n\t\t\tgradientValue: gradient,\n\t\t\tonGradientChange: setGradient,\n\t\t};\n\t\tif ( gradient ) {\n\t\t\tgradientSettings.clearable = gradient === userGradient;\n\t\t}\n\t}\n\n\tconst controlProps = {\n\t\t...backgroundSettings,\n\t\t...gradientSettings,\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader\n\t\t\t\ttitle={ __( 'Background' ) }\n\t\t\t\tdescription={ __(\n\t\t\t\t\t'Set a background color or gradient for the whole site.'\n\t\t\t\t) }\n\t\t\t/>\n\t\t\t<ColorGradientControl\n\t\t\t\tclassName=\"edit-site-screen-background-color__control\"\n\t\t\t\tcolors={ colorsPerOrigin }\n\t\t\t\tgradients={ gradientsPerOrigin }\n\t\t\t\tdisableCustomColors={ ! areCustomSolidsEnabled }\n\t\t\t\tdisableCustomGradients={ ! areCustomGradientsEnabled }\n\t\t\t\t__experimentalHasMultipleOrigins\n\t\t\t\tshowTitle={ false }\n\t\t\t\tenableAlpha\n\t\t\t\t__experimentalIsRenderedInSidebar\n\t\t\t\t{ ...controlProps }\n\t\t\t/>\n\t\t</>\n\t);\n}\n\nexport default ScreenBackgroundColor;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { __experimentalColorGradientControl as ColorGradientControl } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport ScreenHeader from './header';\nimport {\n\tgetSupportedGlobalStylesPanels,\n\tuseSetting,\n\tuseStyle,\n\tuseColorsPerOrigin,\n} from './hooks';\n\nfunction ScreenTextColor( { name } ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\tconst [ solids ] = useSetting( 'color.palette', name );\n\tconst [ areCustomSolidsEnabled ] = useSetting( 'color.custom', name );\n\tconst [ isTextEnabled ] = useSetting( 'color.text', name );\n\n\tconst colorsPerOrigin = useColorsPerOrigin( name );\n\n\tconst hasTextColor =\n\t\tsupports.includes( 'color' ) &&\n\t\tisTextEnabled &&\n\t\t( solids.length > 0 || areCustomSolidsEnabled );\n\n\tconst [ color, setColor ] = useStyle( 'color.text', name );\n\tconst [ userColor ] = useStyle( 'color.text', name, 'user' );\n\n\tif ( ! hasTextColor ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader\n\t\t\t\ttitle={ __( 'Text' ) }\n\t\t\t\tdescription={ __(\n\t\t\t\t\t'Set the default color used for text across the site.'\n\t\t\t\t) }\n\t\t\t/>\n\t\t\t<ColorGradientControl\n\t\t\t\tclassName=\"edit-site-screen-text-color__control\"\n\t\t\t\tcolors={ colorsPerOrigin }\n\t\t\t\tdisableCustomColors={ ! areCustomSolidsEnabled }\n\t\t\t\t__experimentalHasMultipleOrigins\n\t\t\t\tshowTitle={ false }\n\t\t\t\tenableAlpha\n\t\t\t\t__experimentalIsRenderedInSidebar\n\t\t\t\tcolorValue={ color }\n\t\t\t\tonColorChange={ setColor }\n\t\t\t\tclearable={ color === userColor }\n\t\t\t/>\n\t\t</>\n\t);\n}\n\nexport default ScreenTextColor;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { __experimentalColorGradientControl as ColorGradientControl } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport ScreenHeader from './header';\nimport {\n\tgetSupportedGlobalStylesPanels,\n\tuseSetting,\n\tuseStyle,\n\tuseColorsPerOrigin,\n} from './hooks';\n\nfunction ScreenLinkColor( { name } ) {\n\tconst supports = getSupportedGlobalStylesPanels( name );\n\tconst [ solids ] = useSetting( 'color.palette', name );\n\tconst [ areCustomSolidsEnabled ] = useSetting( 'color.custom', name );\n\n\tconst colorsPerOrigin = useColorsPerOrigin( name );\n\n\tconst [ isLinkEnabled ] = useSetting( 'color.link', name );\n\n\tconst hasLinkColor =\n\t\tsupports.includes( 'linkColor' ) &&\n\t\tisLinkEnabled &&\n\t\t( solids.length > 0 || areCustomSolidsEnabled );\n\n\tconst [ linkColor, setLinkColor ] = useStyle(\n\t\t'elements.link.color.text',\n\t\tname\n\t);\n\tconst [ userLinkColor ] = useStyle(\n\t\t'elements.link.color.text',\n\t\tname,\n\t\t'user'\n\t);\n\n\tif ( ! hasLinkColor ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader\n\t\t\t\ttitle={ __( 'Links' ) }\n\t\t\t\tdescription={ __(\n\t\t\t\t\t'Set the default color used for links across the site.'\n\t\t\t\t) }\n\t\t\t/>\n\t\t\t<ColorGradientControl\n\t\t\t\tclassName=\"edit-site-screen-link-color__control\"\n\t\t\t\tcolors={ colorsPerOrigin }\n\t\t\t\tdisableCustomColors={ ! areCustomSolidsEnabled }\n\t\t\t\t__experimentalHasMultipleOrigins\n\t\t\t\tshowTitle={ false }\n\t\t\t\tenableAlpha\n\t\t\t\t__experimentalIsRenderedInSidebar\n\t\t\t\tcolorValue={ linkColor }\n\t\t\t\tonColorChange={ setLinkColor }\n\t\t\t\tclearable={ linkColor === userLinkColor }\n\t\t\t/>\n\t\t</>\n\t);\n}\n\nexport default ScreenLinkColor;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport BorderPanel, { useHasBorderPanel } from './border-panel';\nimport DimensionsPanel, { useHasDimensionsPanel } from './dimensions-panel';\nimport ScreenHeader from './header';\n\nfunction ScreenLayout( { name } ) {\n\tconst hasBorderPanel = useHasBorderPanel( name );\n\tconst hasDimensionsPanel = useHasDimensionsPanel( name );\n\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader title={ __( 'Layout' ) } />\n\t\t\t{ hasDimensionsPanel && <DimensionsPanel name={ name } /> }\n\t\t\t{ hasBorderPanel && <BorderPanel name={ name } /> }\n\t\t</>\n\t);\n}\n\nexport default ScreenLayout;\n","/**\n * External dependencies\n */\nimport {\n\tmergeWith,\n\tpickBy,\n\tisEmpty,\n\tisObject,\n\tidentity,\n\tmapValues,\n} from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { useMemo, useCallback } from '@wordpress/element';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { GlobalStylesContext } from './context';\n\nfunction mergeTreesCustomizer( _, srcValue ) {\n\t// We only pass as arrays the presets,\n\t// in which case we want the new array of values\n\t// to override the old array (no merging).\n\tif ( Array.isArray( srcValue ) ) {\n\t\treturn srcValue;\n\t}\n}\n\nexport function mergeBaseAndUserConfigs( base, user ) {\n\treturn mergeWith( {}, base, user, mergeTreesCustomizer );\n}\n\nconst cleanEmptyObject = ( object ) => {\n\tif ( ! isObject( object ) || Array.isArray( object ) ) {\n\t\treturn object;\n\t}\n\tconst cleanedNestedObjects = pickBy(\n\t\tmapValues( object, cleanEmptyObject ),\n\t\tidentity\n\t);\n\treturn isEmpty( cleanedNestedObjects ) ? undefined : cleanedNestedObjects;\n};\n\nfunction useGlobalStylesUserConfig() {\n\tconst { globalStylesId, settings, styles } = useSelect( ( select ) => {\n\t\tconst _globalStylesId = select(\n\t\t\tcoreStore\n\t\t).__experimentalGetCurrentGlobalStylesId();\n\t\tconst record = _globalStylesId\n\t\t\t? select( coreStore ).getEditedEntityRecord(\n\t\t\t\t\t'root',\n\t\t\t\t\t'globalStyles',\n\t\t\t\t\t_globalStylesId\n\t\t\t  )\n\t\t\t: undefined;\n\t\treturn {\n\t\t\tglobalStylesId: _globalStylesId,\n\t\t\tsettings: record?.settings,\n\t\t\tstyles: record?.styles,\n\t\t};\n\t}, [] );\n\n\tconst { getEditedEntityRecord } = useSelect( coreStore );\n\tconst { editEntityRecord } = useDispatch( coreStore );\n\tconst config = useMemo( () => {\n\t\treturn {\n\t\t\tsettings: settings ?? {},\n\t\t\tstyles: styles ?? {},\n\t\t};\n\t}, [ settings, styles ] );\n\n\tconst setConfig = useCallback(\n\t\t( callback ) => {\n\t\t\tconst record = getEditedEntityRecord(\n\t\t\t\t'root',\n\t\t\t\t'globalStyles',\n\t\t\t\tglobalStylesId\n\t\t\t);\n\t\t\tconst currentConfig = {\n\t\t\t\tstyles: record?.styles ?? {},\n\t\t\t\tsettings: record?.settings ?? {},\n\t\t\t};\n\t\t\tconst updatedConfig = callback( currentConfig );\n\t\t\teditEntityRecord( 'root', 'globalStyles', globalStylesId, {\n\t\t\t\tstyles: cleanEmptyObject( updatedConfig.styles ) || {},\n\t\t\t\tsettings: cleanEmptyObject( updatedConfig.settings ) || {},\n\t\t\t} );\n\t\t},\n\t\t[ globalStylesId ]\n\t);\n\n\treturn [ !! settings || !! styles, config, setConfig ];\n}\n\nfunction useGlobalStylesBaseConfig() {\n\tconst baseConfig = useSelect( ( select ) => {\n\t\treturn select(\n\t\t\tcoreStore\n\t\t).__experimentalGetCurrentThemeBaseGlobalStyles();\n\t}, [] );\n\n\treturn [ !! baseConfig, baseConfig ];\n}\n\nfunction useGlobalStylesContext() {\n\tconst [\n\t\tisUserConfigReady,\n\t\tuserConfig,\n\t\tsetUserConfig,\n\t] = useGlobalStylesUserConfig();\n\tconst [ isBaseConfigReady, baseConfig ] = useGlobalStylesBaseConfig();\n\tconst mergedConfig = useMemo( () => {\n\t\tif ( ! baseConfig || ! userConfig ) {\n\t\t\treturn {};\n\t\t}\n\t\treturn mergeBaseAndUserConfigs( baseConfig, userConfig );\n\t}, [ userConfig, baseConfig ] );\n\tconst context = useMemo( () => {\n\t\treturn {\n\t\t\tisReady: isUserConfigReady && isBaseConfigReady,\n\t\t\tuser: userConfig,\n\t\t\tbase: baseConfig,\n\t\t\tmerged: mergedConfig,\n\t\t\tsetUserConfig,\n\t\t};\n\t}, [\n\t\tmergedConfig,\n\t\tuserConfig,\n\t\tbaseConfig,\n\t\tsetUserConfig,\n\t\tisUserConfigReady,\n\t\tisBaseConfigReady,\n\t] );\n\n\treturn context;\n}\n\nexport function GlobalStylesProvider( { children } ) {\n\tconst context = useGlobalStylesContext();\n\tif ( ! context.isReady ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<GlobalStylesContext.Provider value={ context }>\n\t\t\t{ children }\n\t\t</GlobalStylesContext.Provider>\n\t);\n}\n","/**\n * External dependencies\n */\nimport { isEqual } from 'lodash';\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useSelect } from '@wordpress/data';\nimport { useMemo, useContext } from '@wordpress/element';\nimport { ENTER } from '@wordpress/keycodes';\nimport {\n\t__experimentalGrid as Grid,\n\tCard,\n\tCardBody,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { mergeBaseAndUserConfigs } from './global-styles-provider';\nimport { GlobalStylesContext } from './context';\nimport StylesPreview from './preview';\nimport ScreenHeader from './header';\n\nfunction compareVariations( a, b ) {\n\treturn isEqual( a.styles, b.styles ) && isEqual( a.settings, b.settings );\n}\n\nfunction Variation( { variation } ) {\n\tconst { base, user, setUserConfig } = useContext( GlobalStylesContext );\n\tconst context = useMemo( () => {\n\t\treturn {\n\t\t\tuser: {\n\t\t\t\tsettings: variation.settings ?? {},\n\t\t\t\tstyles: variation.styles ?? {},\n\t\t\t},\n\t\t\tbase,\n\t\t\tmerged: mergeBaseAndUserConfigs( base, variation ),\n\t\t\tsetUserConfig: () => {},\n\t\t};\n\t}, [ variation, base ] );\n\n\tconst selectVariation = () => {\n\t\tsetUserConfig( () => {\n\t\t\treturn {\n\t\t\t\tsettings: variation.settings,\n\t\t\t\tstyles: variation.styles,\n\t\t\t};\n\t\t} );\n\t};\n\n\tconst selectOnEnter = ( event ) => {\n\t\tif ( event.keyCode === ENTER ) {\n\t\t\tevent.preventDefault();\n\t\t\tselectVariation();\n\t\t}\n\t};\n\n\tconst isActive = useMemo( () => {\n\t\treturn compareVariations( user, variation );\n\t}, [ user, variation ] );\n\n\treturn (\n\t\t<GlobalStylesContext.Provider value={ context }>\n\t\t\t<div\n\t\t\t\tclassName={ classnames(\n\t\t\t\t\t'edit-site-global-styles-variations_item',\n\t\t\t\t\t{\n\t\t\t\t\t\t'is-active': isActive,\n\t\t\t\t\t}\n\t\t\t\t) }\n\t\t\t\trole=\"button\"\n\t\t\t\tonClick={ selectVariation }\n\t\t\t\tonKeyDown={ selectOnEnter }\n\t\t\t\ttabIndex=\"0\"\n\t\t\t>\n\t\t\t\t<StylesPreview height={ 100 } />\n\t\t\t</div>\n\t\t</GlobalStylesContext.Provider>\n\t);\n}\n\nfunction ScreenStyleVariations() {\n\tconst { variations } = useSelect( ( select ) => {\n\t\treturn {\n\t\t\tvariations: select(\n\t\t\t\tcoreStore\n\t\t\t).__experimentalGetCurrentThemeGlobalStylesVariations(),\n\t\t};\n\t}, [] );\n\n\tconst withEmptyVariation = useMemo( () => {\n\t\treturn [\n\t\t\t{\n\t\t\t\tname: __( 'Default' ),\n\t\t\t\tsettings: {},\n\t\t\t\tstyles: {},\n\t\t\t},\n\t\t\t...variations,\n\t\t];\n\t}, [ variations ] );\n\n\treturn (\n\t\t<>\n\t\t\t<ScreenHeader\n\t\t\t\tback=\"/\"\n\t\t\t\ttitle={ __( 'Other styles' ) }\n\t\t\t\tdescription={ __(\n\t\t\t\t\t'Choose a different style combination for the theme styles'\n\t\t\t\t) }\n\t\t\t/>\n\n\t\t\t<Card size=\"small\" isBorderless>\n\t\t\t\t<CardBody>\n\t\t\t\t\t<Grid columns={ 2 }>\n\t\t\t\t\t\t{ withEmptyVariation?.map( ( variation, index ) => (\n\t\t\t\t\t\t\t<Variation key={ index } variation={ variation } />\n\t\t\t\t\t\t) ) }\n\t\t\t\t\t</Grid>\n\t\t\t\t</CardBody>\n\t\t\t</Card>\n\t\t</>\n\t);\n}\n\nexport default ScreenStyleVariations;\n","/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalNavigatorProvider as NavigatorProvider,\n\t__experimentalNavigatorScreen as NavigatorScreen,\n} from '@wordpress/components';\nimport { getBlockTypes } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport ScreenRoot from './screen-root';\nimport ScreenBlockList from './screen-block-list';\nimport ScreenBlock from './screen-block';\nimport ScreenTypography from './screen-typography';\nimport ScreenTypographyElement from './screen-typography-element';\nimport ScreenColors from './screen-colors';\nimport ScreenColorPalette from './screen-color-palette';\nimport ScreenBackgroundColor from './screen-background-color';\nimport ScreenTextColor from './screen-text-color';\nimport ScreenLinkColor from './screen-link-color';\nimport ScreenLayout from './screen-layout';\nimport ScreenStyleVariations from './screen-style-variations';\n\nfunction GlobalStylesNavigationScreen( { className, ...props } ) {\n\treturn (\n\t\t<NavigatorScreen\n\t\t\tclassName={ [\n\t\t\t\t'edit-site-global-styles-sidebar__navigator-screen',\n\t\t\t\tclassName,\n\t\t\t]\n\t\t\t\t.filter( Boolean )\n\t\t\t\t.join( ' ' ) }\n\t\t\t{ ...props }\n\t\t/>\n\t);\n}\n\nfunction ContextScreens( { name } ) {\n\tconst parentMenu = name === undefined ? '' : '/blocks/' + name;\n\n\treturn (\n\t\t<>\n\t\t\t<GlobalStylesNavigationScreen path={ parentMenu + '/typography' }>\n\t\t\t\t<ScreenTypography name={ name } />\n\t\t\t</GlobalStylesNavigationScreen>\n\n\t\t\t<GlobalStylesNavigationScreen\n\t\t\t\tpath={ parentMenu + '/typography/text' }\n\t\t\t>\n\t\t\t\t<ScreenTypographyElement name={ name } element=\"text\" />\n\t\t\t</GlobalStylesNavigationScreen>\n\n\t\t\t<GlobalStylesNavigationScreen\n\t\t\t\tpath={ parentMenu + '/typography/link' }\n\t\t\t>\n\t\t\t\t<ScreenTypographyElement name={ name } element=\"link\" />\n\t\t\t</GlobalStylesNavigationScreen>\n\n\t\t\t<GlobalStylesNavigationScreen path={ parentMenu + '/colors' }>\n\t\t\t\t<ScreenColors name={ name } />\n\t\t\t</GlobalStylesNavigationScreen>\n\n\t\t\t<GlobalStylesNavigationScreen\n\t\t\t\tpath={ parentMenu + '/colors/palette' }\n\t\t\t>\n\t\t\t\t<ScreenColorPalette name={ name } />\n\t\t\t</GlobalStylesNavigationScreen>\n\n\t\t\t<GlobalStylesNavigationScreen\n\t\t\t\tpath={ parentMenu + '/colors/background' }\n\t\t\t>\n\t\t\t\t<ScreenBackgroundColor name={ name } />\n\t\t\t</GlobalStylesNavigationScreen>\n\n\t\t\t<GlobalStylesNavigationScreen path={ parentMenu + '/colors/text' }>\n\t\t\t\t<ScreenTextColor name={ name } />\n\t\t\t</GlobalStylesNavigationScreen>\n\n\t\t\t<GlobalStylesNavigationScreen path={ parentMenu + '/colors/link' }>\n\t\t\t\t<ScreenLinkColor name={ name } />\n\t\t\t</GlobalStylesNavigationScreen>\n\n\t\t\t<GlobalStylesNavigationScreen path={ parentMenu + '/layout' }>\n\t\t\t\t<ScreenLayout name={ name } />\n\t\t\t</GlobalStylesNavigationScreen>\n\t\t</>\n\t);\n}\n\nfunction GlobalStylesUI() {\n\tconst blocks = getBlockTypes();\n\n\treturn (\n\t\t<NavigatorProvider\n\t\t\tclassName=\"edit-site-global-styles-sidebar__navigator-provider\"\n\t\t\tinitialPath=\"/\"\n\t\t>\n\t\t\t<GlobalStylesNavigationScreen path=\"/\">\n\t\t\t\t<ScreenRoot />\n\t\t\t</GlobalStylesNavigationScreen>\n\n\t\t\t<GlobalStylesNavigationScreen path=\"/variations\">\n\t\t\t\t<ScreenStyleVariations />\n\t\t\t</GlobalStylesNavigationScreen>\n\n\t\t\t<GlobalStylesNavigationScreen path=\"/blocks\">\n\t\t\t\t<ScreenBlockList />\n\t\t\t</GlobalStylesNavigationScreen>\n\n\t\t\t{ blocks.map( ( block ) => (\n\t\t\t\t<GlobalStylesNavigationScreen\n\t\t\t\t\tkey={ 'menu-block-' + block.name }\n\t\t\t\t\tpath={ '/blocks/' + block.name }\n\t\t\t\t>\n\t\t\t\t\t<ScreenBlock name={ block.name } />\n\t\t\t\t</GlobalStylesNavigationScreen>\n\t\t\t) ) }\n\n\t\t\t<ContextScreens />\n\n\t\t\t{ blocks.map( ( block ) => (\n\t\t\t\t<ContextScreens\n\t\t\t\t\tkey={ 'screens-block-' + block.name }\n\t\t\t\t\tname={ block.name }\n\t\t\t\t/>\n\t\t\t) ) }\n\t\t</NavigatorProvider>\n\t);\n}\n\nexport default GlobalStylesUI;\n","/**\n * WordPress dependencies\n */\nimport { DropdownMenu, FlexItem, FlexBlock, Flex } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { styles, moreVertical } from '@wordpress/icons';\nimport { useDispatch } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport DefaultSidebar from './default-sidebar';\nimport { GlobalStylesUI, useGlobalStylesReset } from '../global-styles';\nimport { store as editSiteStore } from '../../store';\n\nexport default function GlobalStylesSidebar() {\n\tconst [ canReset, onReset ] = useGlobalStylesReset();\n\tconst { toggleFeature } = useDispatch( editSiteStore );\n\n\treturn (\n\t\t<DefaultSidebar\n\t\t\tclassName=\"edit-site-global-styles-sidebar\"\n\t\t\tidentifier=\"edit-site/global-styles\"\n\t\t\ttitle={ __( 'Styles' ) }\n\t\t\ticon={ styles }\n\t\t\tcloseLabel={ __( 'Close global styles sidebar' ) }\n\t\t\tpanelClassName=\"edit-site-global-styles-sidebar__panel\"\n\t\t\theader={\n\t\t\t\t<Flex>\n\t\t\t\t\t<FlexBlock>\n\t\t\t\t\t\t<strong>{ __( 'Styles' ) }</strong>\n\t\t\t\t\t\t<span className=\"edit-site-global-styles-sidebar__beta\">\n\t\t\t\t\t\t\t{ __( 'Beta' ) }\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</FlexBlock>\n\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t<DropdownMenu\n\t\t\t\t\t\t\ticon={ moreVertical }\n\t\t\t\t\t\t\tlabel={ __( 'More Global Styles Actions' ) }\n\t\t\t\t\t\t\ttoggleProps={ { disabled: ! canReset } }\n\t\t\t\t\t\t\tcontrols={ [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttitle: __( 'Reset to defaults' ),\n\t\t\t\t\t\t\t\t\tonClick: onReset,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttitle: __( 'Welcome Guide' ),\n\t\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\t\ttoggleFeature( 'welcomeGuideStyles' ),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t] }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</FlexItem>\n\t\t\t\t</Flex>\n\t\t\t}\n\t\t>\n\t\t\t<GlobalStylesUI />\n\t\t</DefaultSidebar>\n\t);\n}\n","export const SIDEBAR_TEMPLATE = 'edit-site/template';\nexport const SIDEBAR_BLOCK = 'edit-site/block-inspector';\n","/**\n * WordPress dependencies\n */\nimport { Button } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useDispatch } from '@wordpress/data';\nimport { store as interfaceStore } from '@wordpress/interface';\n\n/**\n * Internal dependencies\n */\nimport { STORE_NAME } from '../../../store/constants';\nimport { SIDEBAR_BLOCK, SIDEBAR_TEMPLATE } from '../constants';\n\nconst SettingsHeader = ( { sidebarName } ) => {\n\tconst { enableComplementaryArea } = useDispatch( interfaceStore );\n\tconst openTemplateSettings = () =>\n\t\tenableComplementaryArea( STORE_NAME, SIDEBAR_TEMPLATE );\n\tconst openBlockSettings = () =>\n\t\tenableComplementaryArea( STORE_NAME, SIDEBAR_BLOCK );\n\n\tconst [ templateAriaLabel, templateActiveClass ] =\n\t\tsidebarName === SIDEBAR_TEMPLATE\n\t\t\t? // translators: ARIA label for the Template sidebar tab, selected.\n\t\t\t  [ __( 'Template (selected)' ), 'is-active' ]\n\t\t\t: // translators: ARIA label for the Template Settings Sidebar tab, not selected.\n\t\t\t  [ __( 'Template' ), '' ];\n\n\tconst [ blockAriaLabel, blockActiveClass ] =\n\t\tsidebarName === SIDEBAR_BLOCK\n\t\t\t? // translators: ARIA label for the Block Settings Sidebar tab, selected.\n\t\t\t  [ __( 'Block (selected)' ), 'is-active' ]\n\t\t\t: // translators: ARIA label for the Block Settings Sidebar tab, not selected.\n\t\t\t  [ __( 'Block' ), '' ];\n\n\t/* Use a list so screen readers will announce how many tabs there are. */\n\treturn (\n\t\t<ul>\n\t\t\t<li>\n\t\t\t\t<Button\n\t\t\t\t\tonClick={ openTemplateSettings }\n\t\t\t\t\tclassName={ `edit-site-sidebar__panel-tab ${ templateActiveClass }` }\n\t\t\t\t\taria-label={ templateAriaLabel }\n\t\t\t\t\t// translators: Data label for the Template Settings Sidebar tab.\n\t\t\t\t\tdata-label={ __( 'Template' ) }\n\t\t\t\t>\n\t\t\t\t\t{\n\t\t\t\t\t\t// translators: Text label for the Template Settings Sidebar tab.\n\t\t\t\t\t\t__( 'Template' )\n\t\t\t\t\t}\n\t\t\t\t</Button>\n\t\t\t</li>\n\t\t\t<li>\n\t\t\t\t<Button\n\t\t\t\t\tonClick={ openBlockSettings }\n\t\t\t\t\tclassName={ `edit-site-sidebar__panel-tab ${ blockActiveClass }` }\n\t\t\t\t\taria-label={ blockAriaLabel }\n\t\t\t\t\t// translators: Data label for the Block Settings Sidebar tab.\n\t\t\t\t\tdata-label={ __( 'Block' ) }\n\t\t\t\t>\n\t\t\t\t\t{\n\t\t\t\t\t\t// translators: Text label for the Block Settings Sidebar tab.\n\t\t\t\t\t\t__( 'Block' )\n\t\t\t\t\t}\n\t\t\t\t</Button>\n\t\t\t</li>\n\t\t</ul>\n\t);\n};\n\nexport default SettingsHeader;\n","/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport {\n\tButton,\n\t__experimentalHeading as Heading,\n} from '@wordpress/components';\nimport { store as editorStore } from '@wordpress/editor';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../../store';\n\nfunction TemplateAreaItem( { area, clientId } ) {\n\tconst { selectBlock, toggleBlockHighlight } = useDispatch(\n\t\tblockEditorStore\n\t);\n\tconst templatePartArea = useSelect(\n\t\t( select ) => {\n\t\t\tconst defaultAreas = select(\n\t\t\t\teditorStore\n\t\t\t).__experimentalGetDefaultTemplatePartAreas();\n\n\t\t\treturn defaultAreas.find(\n\t\t\t\t( defaultArea ) => defaultArea.area === area\n\t\t\t);\n\t\t},\n\t\t[ area ]\n\t);\n\n\tconst highlightBlock = () => toggleBlockHighlight( clientId, true );\n\tconst cancelHighlightBlock = () => toggleBlockHighlight( clientId, false );\n\n\treturn (\n\t\t<Button\n\t\t\tclassName=\"edit-site-template-card__template-areas-item\"\n\t\t\ticon={ templatePartArea?.icon }\n\t\t\tonMouseOver={ highlightBlock }\n\t\t\tonMouseLeave={ cancelHighlightBlock }\n\t\t\tonFocus={ highlightBlock }\n\t\t\tonBlur={ cancelHighlightBlock }\n\t\t\tonClick={ () => {\n\t\t\t\tselectBlock( clientId );\n\t\t\t} }\n\t\t>\n\t\t\t{ templatePartArea?.label }\n\t\t</Button>\n\t);\n}\n\nexport default function TemplateAreas() {\n\tconst templateParts = useSelect(\n\t\t( select ) => select( editSiteStore ).getCurrentTemplateTemplateParts(),\n\t\t[]\n\t);\n\n\tif ( ! templateParts.length ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<section className=\"edit-site-template-card__template-areas\">\n\t\t\t<Heading\n\t\t\t\tlevel={ 3 }\n\t\t\t\tclassName=\"edit-site-template-card__template-areas-title\"\n\t\t\t>\n\t\t\t\t{ __( 'Areas' ) }\n\t\t\t</Heading>\n\n\t\t\t<ul className=\"edit-site-template-card__template-areas-list\">\n\t\t\t\t{ templateParts.map( ( { templatePart, block } ) => (\n\t\t\t\t\t<li key={ templatePart.slug }>\n\t\t\t\t\t\t<TemplateAreaItem\n\t\t\t\t\t\t\tarea={ templatePart.area }\n\t\t\t\t\t\t\tclientId={ block.clientId }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</li>\n\t\t\t\t) ) }\n\t\t\t</ul>\n\t\t</section>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { Icon } from '@wordpress/components';\nimport { store as editorStore } from '@wordpress/editor';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../../store';\nimport TemplateAreas from './template-areas';\n\nexport default function TemplateCard() {\n\tconst { title, description, icon } = useSelect( ( select ) => {\n\t\tconst { getEditedPostType, getEditedPostId } = select( editSiteStore );\n\t\tconst { getEntityRecord } = select( coreStore );\n\t\tconst { __experimentalGetTemplateInfo: getTemplateInfo } = select(\n\t\t\teditorStore\n\t\t);\n\n\t\tconst postType = getEditedPostType();\n\t\tconst postId = getEditedPostId();\n\t\tconst record = getEntityRecord( 'postType', postType, postId );\n\t\tconst info = record ? getTemplateInfo( record ) : {};\n\n\t\treturn info;\n\t}, [] );\n\n\tif ( ! title && ! description ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<div className=\"edit-site-template-card\">\n\t\t\t<Icon className=\"edit-site-template-card__icon\" icon={ icon } />\n\t\t\t<div className=\"edit-site-template-card__content\">\n\t\t\t\t<h2 className=\"edit-site-template-card__title\">{ title }</h2>\n\t\t\t\t<div className=\"edit-site-template-card__description\">\n\t\t\t\t\t{ description }\n\t\t\t\t</div>\n\n\t\t\t\t<TemplateAreas />\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { createSlotFill, PanelBody } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { cog } from '@wordpress/icons';\nimport { useEffect } from '@wordpress/element';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as interfaceStore } from '@wordpress/interface';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport DefaultSidebar from './default-sidebar';\nimport GlobalStylesSidebar from './global-styles-sidebar';\nimport { STORE_NAME } from '../../store/constants';\nimport SettingsHeader from './settings-header';\nimport TemplateCard from './template-card';\nimport { SIDEBAR_BLOCK, SIDEBAR_TEMPLATE } from './constants';\n\nconst { Slot: InspectorSlot, Fill: InspectorFill } = createSlotFill(\n\t'EditSiteSidebarInspector'\n);\nexport const SidebarInspectorFill = InspectorFill;\n\nexport function SidebarComplementaryAreaFills() {\n\tconst { sidebar, isEditorSidebarOpened, hasBlockSelection } = useSelect(\n\t\t( select ) => {\n\t\t\tconst _sidebar = select(\n\t\t\t\tinterfaceStore\n\t\t\t).getActiveComplementaryArea( STORE_NAME );\n\t\t\tconst _isEditorSidebarOpened = [\n\t\t\t\tSIDEBAR_BLOCK,\n\t\t\t\tSIDEBAR_TEMPLATE,\n\t\t\t].includes( _sidebar );\n\t\t\treturn {\n\t\t\t\tsidebar: _sidebar,\n\t\t\t\tisEditorSidebarOpened: _isEditorSidebarOpened,\n\t\t\t\thasBlockSelection: !! select(\n\t\t\t\t\tblockEditorStore\n\t\t\t\t).getBlockSelectionStart(),\n\t\t\t};\n\t\t},\n\t\t[]\n\t);\n\tconst { enableComplementaryArea } = useDispatch( interfaceStore );\n\tuseEffect( () => {\n\t\tif ( ! isEditorSidebarOpened ) return;\n\t\tif ( hasBlockSelection ) {\n\t\t\tenableComplementaryArea( STORE_NAME, SIDEBAR_BLOCK );\n\t\t} else {\n\t\t\tenableComplementaryArea( STORE_NAME, SIDEBAR_TEMPLATE );\n\t\t}\n\t}, [ hasBlockSelection, isEditorSidebarOpened ] );\n\tlet sidebarName = sidebar;\n\tif ( ! isEditorSidebarOpened ) {\n\t\tsidebarName = hasBlockSelection ? SIDEBAR_BLOCK : SIDEBAR_TEMPLATE;\n\t}\n\treturn (\n\t\t<>\n\t\t\t<DefaultSidebar\n\t\t\t\tidentifier={ sidebarName }\n\t\t\t\ttitle={ __( 'Settings' ) }\n\t\t\t\ticon={ cog }\n\t\t\t\tcloseLabel={ __( 'Close settings sidebar' ) }\n\t\t\t\theader={ <SettingsHeader sidebarName={ sidebarName } /> }\n\t\t\t\theaderClassName=\"edit-site-sidebar__panel-tabs\"\n\t\t\t>\n\t\t\t\t{ sidebarName === SIDEBAR_TEMPLATE && (\n\t\t\t\t\t<PanelBody>\n\t\t\t\t\t\t<TemplateCard />\n\t\t\t\t\t</PanelBody>\n\t\t\t\t) }\n\t\t\t\t{ sidebarName === SIDEBAR_BLOCK && (\n\t\t\t\t\t<InspectorSlot bubblesVirtually />\n\t\t\t\t) }\n\t\t\t</DefaultSidebar>\n\t\t\t<GlobalStylesSidebar />\n\t\t</>\n\t);\n}\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"htmlEntities\"];","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst home = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M12 4L4 7.9V20h16V7.9L12 4zm6.5 14.5H14V13h-4v5.5H5.5V8.8L12 5.7l6.5 3.1v9.7z\" />\n\t</SVG>\n);\n\nexport default home;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst symbolFilled = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M21.3 10.8l-5.6-5.6c-.7-.7-1.8-.7-2.5 0l-5.6 5.6c-.7.7-.7 1.8 0 2.5l5.6 5.6c.3.3.8.5 1.2.5s.9-.2 1.2-.5l5.6-5.6c.8-.7.8-1.9.1-2.5zm-17.6 1L10 5.5l-1-1-6.3 6.3c-.7.7-.7 1.8 0 2.5L9 19.5l1.1-1.1-6.3-6.3c-.2 0-.2-.2-.1-.3z\" />\n\t</SVG>\n);\n\nexport default symbolFilled;\n","/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalUseSlot as useSlot,\n\tcreateSlotFill,\n} from '@wordpress/components';\n\nconst slotName = '__experimentalMainDashboardButton';\n\nconst { Fill, Slot: MainDashboardButtonSlot } = createSlotFill( slotName );\n\nconst MainDashboardButton = Fill;\n\nconst Slot = ( { children } ) => {\n\tconst slot = useSlot( slotName );\n\tconst hasFills = Boolean( slot.fills && slot.fills.length );\n\n\tif ( ! hasFills ) {\n\t\treturn children;\n\t}\n\n\treturn <MainDashboardButtonSlot bubblesVirtually />;\n};\n\nMainDashboardButton.Slot = Slot;\n\nexport default MainDashboardButton;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalNavigation as Navigation,\n\t__experimentalNavigationBackButton as NavigationBackButton,\n\t__experimentalNavigationGroup as NavigationGroup,\n\t__experimentalNavigationItem as NavigationItem,\n\t__experimentalNavigationMenu as NavigationMenu,\n} from '@wordpress/components';\nimport { store as coreDataStore } from '@wordpress/core-data';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { ESCAPE } from '@wordpress/keycodes';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport {\n\thome as siteIcon,\n\tlayout as templateIcon,\n\tsymbolFilled as templatePartIcon,\n} from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { useLink } from '../../routes/link';\nimport MainDashboardButton from '../../main-dashboard-button';\nimport { store as editSiteStore } from '../../../store';\n\nconst SITE_EDITOR_KEY = 'site-editor';\n\nfunction NavLink( { params, replace, ...props } ) {\n\tconst linkProps = useLink( params, replace );\n\n\treturn <NavigationItem { ...linkProps } { ...props } />;\n}\n\nconst NavigationPanel = ( { activeItem = SITE_EDITOR_KEY } ) => {\n\tconst { isNavigationOpen, siteTitle } = useSelect( ( select ) => {\n\t\tconst { getEntityRecord } = select( coreDataStore );\n\n\t\tconst siteData =\n\t\t\tgetEntityRecord( 'root', '__unstableBase', undefined ) || {};\n\n\t\treturn {\n\t\t\tsiteTitle: siteData.name,\n\t\t\tisNavigationOpen: select( editSiteStore ).isNavigationOpened(),\n\t\t};\n\t}, [] );\n\tconst { setIsNavigationPanelOpened } = useDispatch( editSiteStore );\n\n\tconst closeOnEscape = ( event ) => {\n\t\tif ( event.keyCode === ESCAPE && ! event.defaultPrevented ) {\n\t\t\tevent.preventDefault();\n\t\t\tsetIsNavigationPanelOpened( false );\n\t\t}\n\t};\n\n\treturn (\n\t\t// eslint-disable-next-line jsx-a11y/no-static-element-interactions\n\t\t<div\n\t\t\tclassName={ classnames( `edit-site-navigation-panel`, {\n\t\t\t\t'is-open': isNavigationOpen,\n\t\t\t} ) }\n\t\t\tonKeyDown={ closeOnEscape }\n\t\t>\n\t\t\t<div className=\"edit-site-navigation-panel__inner\">\n\t\t\t\t<div className=\"edit-site-navigation-panel__site-title-container\">\n\t\t\t\t\t<div className=\"edit-site-navigation-panel__site-title\">\n\t\t\t\t\t\t{ decodeEntities( siteTitle ) }\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"edit-site-navigation-panel__scroll-container\">\n\t\t\t\t\t<Navigation activeItem={ activeItem }>\n\t\t\t\t\t\t<MainDashboardButton.Slot>\n\t\t\t\t\t\t\t<NavigationBackButton\n\t\t\t\t\t\t\t\tbackButtonLabel={ __( 'Dashboard' ) }\n\t\t\t\t\t\t\t\tclassName=\"edit-site-navigation-panel__back-to-dashboard\"\n\t\t\t\t\t\t\t\thref=\"index.php\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</MainDashboardButton.Slot>\n\n\t\t\t\t\t\t<NavigationMenu>\n\t\t\t\t\t\t\t<NavigationGroup title={ __( 'Editor' ) }>\n\t\t\t\t\t\t\t\t<NavLink\n\t\t\t\t\t\t\t\t\ticon={ siteIcon }\n\t\t\t\t\t\t\t\t\ttitle={ __( 'Site' ) }\n\t\t\t\t\t\t\t\t\titem={ SITE_EDITOR_KEY }\n\t\t\t\t\t\t\t\t\tparams={ {\n\t\t\t\t\t\t\t\t\t\tpostId: undefined,\n\t\t\t\t\t\t\t\t\t\tpostType: undefined,\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<NavLink\n\t\t\t\t\t\t\t\t\ticon={ templateIcon }\n\t\t\t\t\t\t\t\t\ttitle={ __( 'Templates' ) }\n\t\t\t\t\t\t\t\t\titem=\"wp_template\"\n\t\t\t\t\t\t\t\t\tparams={ {\n\t\t\t\t\t\t\t\t\t\tpostId: undefined,\n\t\t\t\t\t\t\t\t\t\tpostType: 'wp_template',\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<NavLink\n\t\t\t\t\t\t\t\t\ticon={ templatePartIcon }\n\t\t\t\t\t\t\t\t\ttitle={ __( 'Template Parts' ) }\n\t\t\t\t\t\t\t\t\titem=\"wp_template_part\"\n\t\t\t\t\t\t\t\t\tparams={ {\n\t\t\t\t\t\t\t\t\t\tpostId: undefined,\n\t\t\t\t\t\t\t\t\t\tpostType: 'wp_template_part',\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</NavigationGroup>\n\t\t\t\t\t\t</NavigationMenu>\n\t\t\t\t\t</Navigation>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default NavigationPanel;\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nconst wordpress = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\n\t\t<Path d=\"M20 10c0-5.51-4.49-10-10-10C4.48 0 0 4.49 0 10c0 5.52 4.48 10 10 10 5.51 0 10-4.48 10-10zM7.78 15.37L4.37 6.22c.55-.02 1.17-.08 1.17-.08.5-.06.44-1.13-.06-1.11 0 0-1.45.11-2.37.11-.18 0-.37 0-.58-.01C4.12 2.69 6.87 1.11 10 1.11c2.33 0 4.45.87 6.05 2.34-.68-.11-1.65.39-1.65 1.58 0 .74.45 1.36.9 2.1.35.61.55 1.36.55 2.46 0 1.49-1.4 5-1.4 5l-3.03-8.37c.54-.02.82-.17.82-.17.5-.05.44-1.25-.06-1.22 0 0-1.44.12-2.38.12-.87 0-2.33-.12-2.33-.12-.5-.03-.56 1.2-.06 1.22l.92.08 1.26 3.41zM17.41 10c.24-.64.74-1.87.43-4.25.7 1.29 1.05 2.71 1.05 4.25 0 3.29-1.73 6.24-4.4 7.78.97-2.59 1.94-5.2 2.92-7.78zM6.1 18.09C3.12 16.65 1.11 13.53 1.11 10c0-1.3.23-2.48.72-3.59C3.25 10.3 4.67 14.2 6.1 18.09zm4.03-6.63l2.58 6.98c-.86.29-1.76.45-2.71.45-.79 0-1.57-.11-2.29-.33.81-2.38 1.62-4.74 2.42-7.1z\" />\n\t</SVG>\n);\n\nexport default wordpress;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { useEffect, useRef } from '@wordpress/element';\nimport {\n\tButton,\n\tIcon,\n\t__unstableMotion as motion,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { wordpress } from '@wordpress/icons';\nimport { store as coreDataStore } from '@wordpress/core-data';\nimport { useReducedMotion } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../../store';\n\nfunction NavigationToggle( { icon } ) {\n\tconst { isNavigationOpen, isRequestingSiteIcon, siteIconUrl } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getEntityRecord, isResolving } = select( coreDataStore );\n\t\t\tconst siteData =\n\t\t\t\tgetEntityRecord( 'root', '__unstableBase', undefined ) || {};\n\n\t\t\treturn {\n\t\t\t\tisNavigationOpen: select( editSiteStore ).isNavigationOpened(),\n\t\t\t\tisRequestingSiteIcon: isResolving( 'core', 'getEntityRecord', [\n\t\t\t\t\t'root',\n\t\t\t\t\t'__unstableBase',\n\t\t\t\t\tundefined,\n\t\t\t\t] ),\n\t\t\t\tsiteIconUrl: siteData.site_icon_url,\n\t\t\t};\n\t\t},\n\t\t[]\n\t);\n\tconst { setIsNavigationPanelOpened } = useDispatch( editSiteStore );\n\n\tconst disableMotion = useReducedMotion();\n\n\tconst navigationToggleRef = useRef();\n\n\tuseEffect( () => {\n\t\t// TODO: Remove this effect when alternative solution is merged.\n\t\t// See: https://github.com/WordPress/gutenberg/pull/37314\n\t\tif ( ! isNavigationOpen ) {\n\t\t\tnavigationToggleRef.current.focus();\n\t\t}\n\t}, [ isNavigationOpen ] );\n\n\tconst toggleNavigationPanel = () =>\n\t\tsetIsNavigationPanelOpened( ! isNavigationOpen );\n\n\tlet buttonIcon = <Icon size=\"36px\" icon={ wordpress } />;\n\n\tconst effect = {\n\t\texpand: {\n\t\t\tscale: 1.25,\n\t\t\ttransition: { type: 'tween', duration: '0.3' },\n\t\t},\n\t};\n\n\tif ( siteIconUrl ) {\n\t\tbuttonIcon = (\n\t\t\t<motion.img\n\t\t\t\tvariants={ ! disableMotion && effect }\n\t\t\t\talt={ __( 'Site Icon' ) }\n\t\t\t\tclassName=\"edit-site-navigation-toggle__site-icon\"\n\t\t\t\tsrc={ siteIconUrl }\n\t\t\t/>\n\t\t);\n\t} else if ( isRequestingSiteIcon ) {\n\t\tbuttonIcon = null;\n\t} else if ( icon ) {\n\t\tbuttonIcon = <Icon size=\"36px\" icon={ icon } />;\n\t}\n\n\tconst classes = classnames( {\n\t\t'edit-site-navigation-toggle__button': true,\n\t\t'has-icon': siteIconUrl,\n\t} );\n\n\treturn (\n\t\t<motion.div\n\t\t\tclassName={\n\t\t\t\t'edit-site-navigation-toggle' +\n\t\t\t\t( isNavigationOpen ? ' is-open' : '' )\n\t\t\t}\n\t\t\twhileHover=\"expand\"\n\t\t>\n\t\t\t<Button\n\t\t\t\tclassName={ classes }\n\t\t\t\tlabel={ __( 'Toggle navigation' ) }\n\t\t\t\tref={ navigationToggleRef }\n\t\t\t\t// isPressed will add unwanted styles.\n\t\t\t\taria-pressed={ isNavigationOpen }\n\t\t\t\tonClick={ toggleNavigationPanel }\n\t\t\t\tshowTooltip\n\t\t\t>\n\t\t\t\t{ buttonIcon }\n\t\t\t</Button>\n\t\t</motion.div>\n\t);\n}\n\nexport default NavigationToggle;\n","/**\n * WordPress dependencies\n */\nimport { useEffect } from '@wordpress/element';\nimport { createSlotFill } from '@wordpress/components';\nimport { useViewportMatch } from '@wordpress/compose';\nimport { useDispatch } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../store';\nimport NavigationPanel from './navigation-panel';\nimport NavigationToggle from './navigation-toggle';\n\nexport const {\n\tFill: NavigationPanelPreviewFill,\n\tSlot: NavigationPanelPreviewSlot,\n} = createSlotFill( 'EditSiteNavigationPanelPreview' );\n\nconst {\n\tFill: NavigationSidebarFill,\n\tSlot: NavigationSidebarSlot,\n} = createSlotFill( 'EditSiteNavigationSidebar' );\n\nfunction NavigationSidebar( { isDefaultOpen = false, activeTemplateType } ) {\n\tconst isDesktopViewport = useViewportMatch( 'medium' );\n\tconst { setIsNavigationPanelOpened } = useDispatch( editSiteStore );\n\n\tuseEffect(\n\t\tfunction autoOpenNavigationPanelOnViewportChange() {\n\t\t\tsetIsNavigationPanelOpened( isDefaultOpen && isDesktopViewport );\n\t\t},\n\t\t[ isDefaultOpen, isDesktopViewport, setIsNavigationPanelOpened ]\n\t);\n\n\treturn (\n\t\t<NavigationSidebarFill>\n\t\t\t<NavigationToggle />\n\t\t\t<NavigationPanel activeItem={ activeTemplateType } />\n\t\t\t<NavigationPanelPreviewSlot />\n\t\t</NavigationSidebarFill>\n\t);\n}\n\nNavigationSidebar.Slot = NavigationSidebarSlot;\n\nexport default NavigationSidebar;\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"reusableBlocks\"];","/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport {\n\tBlockSettingsMenuControls,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { MenuItem } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\nexport default function ConvertToRegularBlocks( { clientId } ) {\n\tconst { getBlocks } = useSelect( blockEditorStore );\n\tconst { replaceBlocks } = useDispatch( blockEditorStore );\n\n\treturn (\n\t\t<BlockSettingsMenuControls>\n\t\t\t{ ( { onClose } ) => (\n\t\t\t\t<MenuItem\n\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\treplaceBlocks( clientId, getBlocks( clientId ) );\n\t\t\t\t\t\tonClose();\n\t\t\t\t\t} }\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Detach blocks from template part' ) }\n\t\t\t\t</MenuItem>\n\t\t\t) }\n\t\t</BlockSettingsMenuControls>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport {\n\tIcon,\n\tBaseControl,\n\tTextControl,\n\tFlex,\n\tFlexItem,\n\tFlexBlock,\n\tButton,\n\tModal,\n\t__experimentalRadioGroup as RadioGroup,\n\t__experimentalRadio as Radio,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useState } from '@wordpress/element';\nimport { useInstanceId } from '@wordpress/compose';\nimport { store as editorStore } from '@wordpress/editor';\nimport { check } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { TEMPLATE_PART_AREA_GENERAL } from '../../store/constants';\n\nexport default function CreateTemplatePartModal( { closeModal, onCreate } ) {\n\tconst [ title, setTitle ] = useState( '' );\n\tconst [ area, setArea ] = useState( TEMPLATE_PART_AREA_GENERAL );\n\tconst [ isSubmitting, setIsSubmitting ] = useState( false );\n\tconst instanceId = useInstanceId( CreateTemplatePartModal );\n\n\tconst templatePartAreas = useSelect(\n\t\t( select ) =>\n\t\t\tselect( editorStore ).__experimentalGetDefaultTemplatePartAreas(),\n\t\t[]\n\t);\n\n\treturn (\n\t\t<Modal\n\t\t\ttitle={ __( 'Create a template part' ) }\n\t\t\tcloseLabel={ __( 'Close' ) }\n\t\t\tonRequestClose={ closeModal }\n\t\t\toverlayClassName=\"edit-site-create-template-part-modal\"\n\t\t>\n\t\t\t<form\n\t\t\t\tonSubmit={ async ( event ) => {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tif ( ! title ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tsetIsSubmitting( true );\n\t\t\t\t\tawait onCreate( { title, area } );\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t<TextControl\n\t\t\t\t\tlabel={ __( 'Name' ) }\n\t\t\t\t\tvalue={ title }\n\t\t\t\t\tonChange={ setTitle }\n\t\t\t\t\trequired\n\t\t\t\t/>\n\t\t\t\t<BaseControl\n\t\t\t\t\tlabel={ __( 'Area' ) }\n\t\t\t\t\tid={ `edit-site-create-template-part-modal__area-selection-${ instanceId }` }\n\t\t\t\t\tclassName=\"edit-site-create-template-part-modal__area-base-control\"\n\t\t\t\t>\n\t\t\t\t\t<RadioGroup\n\t\t\t\t\t\tlabel={ __( 'Area' ) }\n\t\t\t\t\t\tclassName=\"edit-site-create-template-part-modal__area-radio-group\"\n\t\t\t\t\t\tid={ `edit-site-create-template-part-modal__area-selection-${ instanceId }` }\n\t\t\t\t\t\tonChange={ setArea }\n\t\t\t\t\t\tchecked={ area }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ templatePartAreas.map(\n\t\t\t\t\t\t\t( { icon, label, area: value, description } ) => (\n\t\t\t\t\t\t\t\t<Radio\n\t\t\t\t\t\t\t\t\tkey={ label }\n\t\t\t\t\t\t\t\t\tvalue={ value }\n\t\t\t\t\t\t\t\t\tclassName=\"edit-site-create-template-part-modal__area-radio\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Flex align=\"start\" justify=\"start\">\n\t\t\t\t\t\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t\t\t\t\t\t<Icon icon={ icon } />\n\t\t\t\t\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t\t\t\t\t\t<FlexBlock className=\"edit-site-create-template-part-modal__option-label\">\n\t\t\t\t\t\t\t\t\t\t\t{ label }\n\t\t\t\t\t\t\t\t\t\t\t<div>{ description }</div>\n\t\t\t\t\t\t\t\t\t\t</FlexBlock>\n\n\t\t\t\t\t\t\t\t\t\t<FlexItem className=\"edit-site-create-template-part-modal__checkbox\">\n\t\t\t\t\t\t\t\t\t\t\t{ area === value && (\n\t\t\t\t\t\t\t\t\t\t\t\t<Icon icon={ check } />\n\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t\t\t\t\t</Flex>\n\t\t\t\t\t\t\t\t</Radio>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t) }\n\t\t\t\t\t</RadioGroup>\n\t\t\t\t</BaseControl>\n\t\t\t\t<Flex\n\t\t\t\t\tclassName=\"edit-site-create-template-part-modal__modal-actions\"\n\t\t\t\t\tjustify=\"flex-end\"\n\t\t\t\t>\n\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\tcloseModal();\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</FlexItem>\n\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tdisabled={ ! title }\n\t\t\t\t\t\t\tisBusy={ isSubmitting }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Create' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</FlexItem>\n\t\t\t\t</Flex>\n\t\t\t</form>\n\t\t</Modal>\n\t);\n}\n","/**\n * External dependencies\n */\nimport { kebabCase } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { useDispatch } from '@wordpress/data';\nimport {\n\tBlockSettingsMenuControls,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { MenuItem } from '@wordpress/components';\nimport { createBlock, serialize } from '@wordpress/blocks';\nimport { __ } from '@wordpress/i18n';\nimport { useState } from '@wordpress/element';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { store as noticesStore } from '@wordpress/notices';\n\n/**\n * Internal dependencies\n */\nimport CreateTemplatePartModal from '../create-template-part-modal';\n\nexport default function ConvertToTemplatePart( { clientIds, blocks } ) {\n\tconst [ isModalOpen, setIsModalOpen ] = useState( false );\n\tconst { replaceBlocks } = useDispatch( blockEditorStore );\n\tconst { saveEntityRecord } = useDispatch( coreStore );\n\tconst { createSuccessNotice } = useDispatch( noticesStore );\n\n\tconst onConvert = async ( { title, area } ) => {\n\t\t// Currently template parts only allow latin chars.\n\t\t// Fallback slug will receive suffix by default.\n\t\tconst cleanSlug =\n\t\t\tkebabCase( title ).replace( /[^\\w-]+/g, '' ) || 'wp-custom-part';\n\n\t\tconst templatePart = await saveEntityRecord(\n\t\t\t'postType',\n\t\t\t'wp_template_part',\n\t\t\t{\n\t\t\t\tslug: cleanSlug,\n\t\t\t\ttitle,\n\t\t\t\tcontent: serialize( blocks ),\n\t\t\t\tarea,\n\t\t\t}\n\t\t);\n\t\treplaceBlocks(\n\t\t\tclientIds,\n\t\t\tcreateBlock( 'core/template-part', {\n\t\t\t\tslug: templatePart.slug,\n\t\t\t\ttheme: templatePart.theme,\n\t\t\t} )\n\t\t);\n\t\tcreateSuccessNotice( __( 'Template part created.' ), {\n\t\t\ttype: 'snackbar',\n\t\t} );\n\n\t\t// The modal and this component will be unmounted because of `replaceBlocks` above,\n\t\t// so no need to call `closeModal` or `onClose`.\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<BlockSettingsMenuControls>\n\t\t\t\t{ () => (\n\t\t\t\t\t<MenuItem\n\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\tsetIsModalOpen( true );\n\t\t\t\t\t\t} }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Make template part' ) }\n\t\t\t\t\t</MenuItem>\n\t\t\t\t) }\n\t\t\t</BlockSettingsMenuControls>\n\t\t\t{ isModalOpen && (\n\t\t\t\t<CreateTemplatePartModal\n\t\t\t\t\tcloseModal={ () => {\n\t\t\t\t\t\tsetIsModalOpen( false );\n\t\t\t\t\t} }\n\t\t\t\t\tonCreate={ onConvert }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport ConvertToRegularBlocks from './convert-to-regular';\nimport ConvertToTemplatePart from './convert-to-template-part';\n\nexport default function TemplatePartConverter() {\n\tconst { clientIds, blocks } = useSelect( ( select ) => {\n\t\tconst { getSelectedBlockClientIds, getBlocksByClientId } = select(\n\t\t\tblockEditorStore\n\t\t);\n\t\tconst selectedBlockClientIds = getSelectedBlockClientIds();\n\t\treturn {\n\t\t\tclientIds: selectedBlockClientIds,\n\t\t\tblocks: getBlocksByClientId( selectedBlockClientIds ),\n\t\t};\n\t}, [] );\n\n\t// Allow converting a single template part to standard blocks.\n\tif ( blocks.length === 1 && blocks[ 0 ]?.name === 'core/template-part' ) {\n\t\treturn <ConvertToRegularBlocks clientId={ clientIds[ 0 ] } />;\n\t}\n\n\treturn <ConvertToTemplatePart clientIds={ clientIds } blocks={ blocks } />;\n}\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst pencil = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M20.1 5.1L16.9 2 6.2 12.7l-1.3 4.4 4.5-1.3L20.1 5.1zM4 20.8h8v-1.5H4v1.5z\" />\n\t</SVG>\n);\n\nexport default pencil;\n","/**\n * Internal dependencies\n */\n\nimport { default as pencil } from './pencil';\nexport default pencil;\n","/**\n * WordPress dependencies\n */\nimport { getPathAndQueryString } from '@wordpress/url';\nimport { useMemo } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\nimport { Button } from '@wordpress/components';\nimport { edit } from '@wordpress/icons';\nimport { __ } from '@wordpress/i18n';\nimport { store as coreStore } from '@wordpress/core-data';\n\nexport default function NavigateToLink( {\n\ttype,\n\tid,\n\tactivePage,\n\tonActivePageChange,\n} ) {\n\tconst post = useSelect(\n\t\t( select ) =>\n\t\t\ttype &&\n\t\t\tid &&\n\t\t\ttype !== 'URL' &&\n\t\t\tselect( coreStore ).getEntityRecord( 'postType', type, id ),\n\t\t[ type, id ]\n\t);\n\n\tconst onClick = useMemo( () => {\n\t\tif ( ! post?.link ) return null;\n\t\tconst path = getPathAndQueryString( post.link );\n\t\tif ( path === activePage?.path ) return null;\n\t\treturn () =>\n\t\t\tonActivePageChange( {\n\t\t\t\ttype,\n\t\t\t\tslug: post.slug,\n\t\t\t\tpath,\n\t\t\t\tcontext: {\n\t\t\t\t\tpostType: post.type,\n\t\t\t\t\tpostId: post.id,\n\t\t\t\t},\n\t\t\t} );\n\t}, [ post, activePage?.path, onActivePageChange ] );\n\n\treturn (\n\t\tonClick && (\n\t\t\t<Button\n\t\t\t\ticon={ edit }\n\t\t\t\tlabel={ __( 'Edit Page Template' ) }\n\t\t\t\tonClick={ onClick }\n\t\t\t/>\n\t\t)\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { speak } from '@wordpress/a11y';\nimport { MenuItem } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as interfaceStore } from '@wordpress/interface';\nimport { store as keyboardShortcutsStore } from '@wordpress/keyboard-shortcuts';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../store';\nimport { STORE_NAME } from '../../store/constants';\nimport { SIDEBAR_BLOCK } from '../sidebar/constants';\n\nexport default function BlockInspectorButton( { onClick = () => {} } ) {\n\tconst { shortcut, isBlockInspectorOpen } = useSelect(\n\t\t( select ) => ( {\n\t\t\tshortcut: select(\n\t\t\t\tkeyboardShortcutsStore\n\t\t\t).getShortcutRepresentation(\n\t\t\t\t'core/edit-site/toggle-block-settings-sidebar'\n\t\t\t),\n\t\t\tisBlockInspectorOpen:\n\t\t\t\tselect( interfaceStore ).getActiveComplementaryArea(\n\t\t\t\t\teditSiteStore.name\n\t\t\t\t) === SIDEBAR_BLOCK,\n\t\t} ),\n\t\t[]\n\t);\n\tconst { enableComplementaryArea, disableComplementaryArea } = useDispatch(\n\t\tinterfaceStore\n\t);\n\n\tconst label = isBlockInspectorOpen\n\t\t? __( 'Hide more settings' )\n\t\t: __( 'Show more settings' );\n\n\treturn (\n\t\t<MenuItem\n\t\t\tonClick={ () => {\n\t\t\t\tif ( isBlockInspectorOpen ) {\n\t\t\t\t\tdisableComplementaryArea( STORE_NAME );\n\t\t\t\t\tspeak( __( 'Block settings closed' ) );\n\t\t\t\t} else {\n\t\t\t\t\tenableComplementaryArea( STORE_NAME, SIDEBAR_BLOCK );\n\t\t\t\t\tspeak(\n\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t'Additional settings are now available in the Editor block settings sidebar'\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\t// Close dropdown menu.\n\t\t\t\tonClick();\n\t\t\t} }\n\t\t\tshortcut={ shortcut }\n\t\t>\n\t\t\t{ label }\n\t\t</MenuItem>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport {\n\tstore as blockEditorStore,\n\tBlockSettingsMenuControls,\n} from '@wordpress/block-editor';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { MenuItem } from '@wordpress/components';\nimport { isTemplatePart } from '@wordpress/blocks';\nimport { __, sprintf } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { useLocation } from '../routes';\nimport { useLink } from '../routes/link';\n\nexport default function EditTemplatePartMenuButton() {\n\treturn (\n\t\t<BlockSettingsMenuControls>\n\t\t\t{ ( { selectedClientIds, onClose } ) => (\n\t\t\t\t<EditTemplatePartMenuItem\n\t\t\t\t\tselectedClientId={ selectedClientIds[ 0 ] }\n\t\t\t\t\tonClose={ onClose }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</BlockSettingsMenuControls>\n\t);\n}\n\nfunction EditTemplatePartMenuItem( { selectedClientId, onClose } ) {\n\tconst { params } = useLocation();\n\tconst selectedTemplatePart = useSelect(\n\t\t( select ) => {\n\t\t\tconst block = select( blockEditorStore ).getBlock(\n\t\t\t\tselectedClientId\n\t\t\t);\n\n\t\t\tif ( block && isTemplatePart( block ) ) {\n\t\t\t\tconst { theme, slug } = block.attributes;\n\n\t\t\t\treturn select( coreStore ).getEntityRecord(\n\t\t\t\t\t'postType',\n\t\t\t\t\t'wp_template_part',\n\t\t\t\t\t// Ideally this should be an official public API.\n\t\t\t\t\t`${ theme }//${ slug }`\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\t[ selectedClientId ]\n\t);\n\n\tconst linkProps = useLink(\n\t\t{\n\t\t\tpostId: selectedTemplatePart?.id,\n\t\t\tpostType: selectedTemplatePart?.type,\n\t\t},\n\t\t{\n\t\t\tfromTemplateId: params.postId,\n\t\t}\n\t);\n\n\tif ( ! selectedTemplatePart ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<MenuItem\n\t\t\t{ ...linkProps }\n\t\t\tonClick={ ( event ) => {\n\t\t\t\tlinkProps.onClick( event );\n\t\t\t\tonClose();\n\t\t\t} }\n\t\t>\n\t\t\t{\n\t\t\t\t/* translators: %s: template part title */\n\t\t\t\tsprintf( __( 'Edit %s' ), selectedTemplatePart.slug )\n\t\t\t}\n\t\t</MenuItem>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst arrowLeft = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M20 10.8H6.7l4.1-4.5-1.1-1.1-5.8 6.3 5.8 5.8 1.1-1.1-4-3.9H20z\" />\n\t</SVG>\n);\n\nexport default arrowLeft;\n","/**\n * WordPress dependencies\n */\nimport { Button } from '@wordpress/components';\nimport { arrowLeft } from '@wordpress/icons';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { useLocation, useHistory } from '../routes';\n\nfunction BackButton() {\n\tconst location = useLocation();\n\tconst history = useHistory();\n\tconst isTemplatePart = location.params.postType === 'wp_template_part';\n\tconst previousTemplateId = location.state?.fromTemplateId;\n\n\tif ( ! isTemplatePart || ! previousTemplateId ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Button\n\t\t\tclassName=\"edit-site-visual-editor__back-button\"\n\t\t\ticon={ arrowLeft }\n\t\t\tonClick={ () => {\n\t\t\t\thistory.back();\n\t\t\t} }\n\t\t>\n\t\t\t{ __( 'Back' ) }\n\t\t</Button>\n\t);\n}\n\nexport default BackButton;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { LEFT, RIGHT } from '@wordpress/keycodes';\nimport { VisuallyHidden } from '@wordpress/components';\n\nconst DELTA_DISTANCE = 20; // The distance to resize per keydown in pixels.\n\nexport default function ResizeHandle( { direction, resizeWidthBy } ) {\n\tfunction handleKeyDown( event ) {\n\t\tconst { keyCode } = event;\n\n\t\tif (\n\t\t\t( direction === 'left' && keyCode === LEFT ) ||\n\t\t\t( direction === 'right' && keyCode === RIGHT )\n\t\t) {\n\t\t\tresizeWidthBy( DELTA_DISTANCE );\n\t\t} else if (\n\t\t\t( direction === 'left' && keyCode === RIGHT ) ||\n\t\t\t( direction === 'right' && keyCode === LEFT )\n\t\t) {\n\t\t\tresizeWidthBy( -DELTA_DISTANCE );\n\t\t}\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<button\n\t\t\t\tclassName={ `resizable-editor__drag-handle is-${ direction }` }\n\t\t\t\taria-label={ __( 'Drag to resize' ) }\n\t\t\t\taria-describedby={ `resizable-editor__resize-help-${ direction }` }\n\t\t\t\tonKeyDown={ handleKeyDown }\n\t\t\t/>\n\t\t\t<VisuallyHidden\n\t\t\t\tid={ `resizable-editor__resize-help-${ direction }` }\n\t\t\t>\n\t\t\t\t{ __( 'Use left and right arrow keys to resize the canvas.' ) }\n\t\t\t</VisuallyHidden>\n\t\t</>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useState, useEffect, useRef, useCallback } from '@wordpress/element';\nimport { ResizableBox } from '@wordpress/components';\nimport {\n\t__experimentalUseResizeCanvas as useResizeCanvas,\n\t__unstableEditorStyles as EditorStyles,\n\t__unstableIframe as Iframe,\n\t__unstableUseMouseMoveTypingReset as useMouseMoveTypingReset,\n} from '@wordpress/block-editor';\nimport { useSelect } from '@wordpress/data';\nimport { useMergeRefs } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../store';\nimport ResizeHandle from './resize-handle';\n\nconst DEFAULT_STYLES = {\n\twidth: '100%',\n\theight: '100%',\n};\n\n// Removes the inline styles in the drag handles.\nconst HANDLE_STYLES_OVERRIDE = {\n\tposition: undefined,\n\tuserSelect: undefined,\n\tcursor: undefined,\n\twidth: undefined,\n\theight: undefined,\n\ttop: undefined,\n\tright: undefined,\n\tbottom: undefined,\n\tleft: undefined,\n};\n\nfunction ResizableEditor( { enableResizing, settings, ...props } ) {\n\tconst deviceType = useSelect(\n\t\t( select ) =>\n\t\t\tselect( editSiteStore ).__experimentalGetPreviewDeviceType(),\n\t\t[]\n\t);\n\tconst deviceStyles = useResizeCanvas( deviceType );\n\tconst [ width, setWidth ] = useState( DEFAULT_STYLES.width );\n\tconst [ height, setHeight ] = useState( DEFAULT_STYLES.height );\n\tconst iframeRef = useRef();\n\tconst mouseMoveTypingResetRef = useMouseMoveTypingReset();\n\tconst ref = useMergeRefs( [ iframeRef, mouseMoveTypingResetRef ] );\n\n\tuseEffect(\n\t\tfunction autoResizeIframeHeight() {\n\t\t\tconst iframe = iframeRef.current;\n\n\t\t\tif ( ! iframe || ! enableResizing ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet animationFrame = null;\n\n\t\t\tfunction resizeHeight() {\n\t\t\t\tif ( ! animationFrame ) {\n\t\t\t\t\t// Throttle the updates on animation frame.\n\t\t\t\t\tanimationFrame = iframe.contentWindow.requestAnimationFrame(\n\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\tsetHeight(\n\t\t\t\t\t\t\t\tiframe.contentDocument.documentElement\n\t\t\t\t\t\t\t\t\t.scrollHeight\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tanimationFrame = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet resizeObserver;\n\n\t\t\tfunction registerObserver() {\n\t\t\t\tresizeObserver?.disconnect();\n\n\t\t\t\tresizeObserver = new iframe.contentWindow.ResizeObserver(\n\t\t\t\t\tresizeHeight\n\t\t\t\t);\n\t\t\t\t// Observing the <html> rather than the <body> because the latter\n\t\t\t\t// gets destroyed and remounted after initialization in <Iframe>.\n\t\t\t\tresizeObserver.observe(\n\t\t\t\t\tiframe.contentDocument.documentElement\n\t\t\t\t);\n\n\t\t\t\tresizeHeight();\n\t\t\t}\n\n\t\t\t// This is only required in Firefox for some unknown reasons.\n\t\t\tiframe.addEventListener( 'load', registerObserver );\n\t\t\t// This is required in Chrome and Safari.\n\t\t\tregisterObserver();\n\n\t\t\treturn () => {\n\t\t\t\tiframe.contentWindow?.cancelAnimationFrame( animationFrame );\n\t\t\t\tresizeObserver?.disconnect();\n\t\t\t\tiframe.removeEventListener( 'load', registerObserver );\n\t\t\t};\n\t\t},\n\t\t[ enableResizing ]\n\t);\n\n\tconst resizeWidthBy = useCallback( ( deltaPixels ) => {\n\t\tif ( iframeRef.current ) {\n\t\t\tsetWidth( iframeRef.current.offsetWidth + deltaPixels );\n\t\t}\n\t}, [] );\n\n\treturn (\n\t\t<ResizableBox\n\t\t\tsize={ {\n\t\t\t\twidth,\n\t\t\t\theight,\n\t\t\t} }\n\t\t\tonResizeStop={ ( event, direction, element ) => {\n\t\t\t\tsetWidth( element.style.width );\n\t\t\t} }\n\t\t\tminWidth={ 300 }\n\t\t\tmaxWidth=\"100%\"\n\t\t\tmaxHeight=\"100%\"\n\t\t\tenable={ {\n\t\t\t\tright: enableResizing,\n\t\t\t\tleft: enableResizing,\n\t\t\t} }\n\t\t\tshowHandle={ enableResizing }\n\t\t\t// The editor is centered horizontally, resizing it only\n\t\t\t// moves half the distance. Hence double the ratio to correctly\n\t\t\t// align the cursor to the resizer handle.\n\t\t\tresizeRatio={ 2 }\n\t\t\thandleComponent={ {\n\t\t\t\tleft: (\n\t\t\t\t\t<ResizeHandle\n\t\t\t\t\t\tdirection=\"left\"\n\t\t\t\t\t\tresizeWidthBy={ resizeWidthBy }\n\t\t\t\t\t/>\n\t\t\t\t),\n\t\t\t\tright: (\n\t\t\t\t\t<ResizeHandle\n\t\t\t\t\t\tdirection=\"right\"\n\t\t\t\t\t\tresizeWidthBy={ resizeWidthBy }\n\t\t\t\t\t/>\n\t\t\t\t),\n\t\t\t} }\n\t\t\thandleClasses={ undefined }\n\t\t\thandleStyles={ {\n\t\t\t\tleft: HANDLE_STYLES_OVERRIDE,\n\t\t\t\tright: HANDLE_STYLES_OVERRIDE,\n\t\t\t} }\n\t\t>\n\t\t\t<Iframe\n\t\t\t\tstyle={ enableResizing ? undefined : deviceStyles }\n\t\t\t\thead={\n\t\t\t\t\t<>\n\t\t\t\t\t\t<EditorStyles styles={ settings.styles } />\n\t\t\t\t\t\t<style>{\n\t\t\t\t\t\t\t// Forming a \"block formatting context\" to prevent margin collapsing.\n\t\t\t\t\t\t\t// @see https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Block_formatting_context\n\t\t\t\t\t\t\t`.is-root-container { display: flow-root; }`\n\t\t\t\t\t\t}</style>\n\t\t\t\t\t\t{ enableResizing && (\n\t\t\t\t\t\t\t<style>\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t// Force the <html> and <body>'s heights to fit the content.\n\t\t\t\t\t\t\t\t\t`html, body { height: -moz-fit-content !important; height: fit-content !important; min-height: 0 !important; }`\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t// Some themes will have `min-height: 100vh` for the root container,\n\t\t\t\t\t\t\t\t\t// which isn't a requirement in auto resize mode.\n\t\t\t\t\t\t\t\t\t`.is-root-container { min-height: 0 !important; }`\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</style>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</>\n\t\t\t\t}\n\t\t\t\tassets={ settings.__unstableResolvedAssets }\n\t\t\t\tref={ ref }\n\t\t\t\tname=\"editor-canvas\"\n\t\t\t\tclassName=\"edit-site-visual-editor__editor-canvas\"\n\t\t\t\t{ ...props }\n\t\t\t/>\n\t\t</ResizableBox>\n\t);\n}\n\nexport default ResizableEditor;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { useCallback, useRef } from '@wordpress/element';\nimport { useEntityBlockEditor } from '@wordpress/core-data';\nimport {\n\tBlockList,\n\tBlockEditorProvider,\n\t__experimentalLinkControl,\n\tBlockInspector,\n\tBlockTools,\n\t__unstableBlockSettingsMenuFirstItem,\n\t__unstableUseTypingObserver as useTypingObserver,\n\tBlockEditorKeyboardShortcuts,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { useMergeRefs, useViewportMatch } from '@wordpress/compose';\nimport { ReusableBlocksMenuItems } from '@wordpress/reusable-blocks';\n\n/**\n * Internal dependencies\n */\nimport TemplatePartConverter from '../template-part-converter';\nimport NavigateToLink from '../navigate-to-link';\nimport { SidebarInspectorFill } from '../sidebar';\nimport { store as editSiteStore } from '../../store';\nimport BlockInspectorButton from './block-inspector-button';\nimport EditTemplatePartMenuButton from '../edit-template-part-menu-button';\nimport BackButton from './back-button';\nimport ResizableEditor from './resizable-editor';\n\nconst LAYOUT = {\n\ttype: 'default',\n\t// At the root level of the site editor, no alignments should be allowed.\n\talignments: [],\n};\n\nexport default function BlockEditor( { setIsInserterOpen } ) {\n\tconst { settings, templateType, templateId, page } = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\tgetSettings,\n\t\t\t\tgetEditedPostType,\n\t\t\t\tgetEditedPostId,\n\t\t\t\tgetPage,\n\t\t\t} = select( editSiteStore );\n\n\t\t\treturn {\n\t\t\t\tsettings: getSettings( setIsInserterOpen ),\n\t\t\t\ttemplateType: getEditedPostType(),\n\t\t\t\ttemplateId: getEditedPostId(),\n\t\t\t\tpage: getPage(),\n\t\t\t};\n\t\t},\n\t\t[ setIsInserterOpen ]\n\t);\n\tconst [ blocks, onInput, onChange ] = useEntityBlockEditor(\n\t\t'postType',\n\t\ttemplateType\n\t);\n\tconst { setPage } = useDispatch( editSiteStore );\n\tconst contentRef = useRef();\n\tconst mergedRefs = useMergeRefs( [ contentRef, useTypingObserver() ] );\n\tconst isMobileViewport = useViewportMatch( 'small', '<' );\n\tconst { clearSelectedBlock } = useDispatch( blockEditorStore );\n\n\tconst isTemplatePart = templateType === 'wp_template_part';\n\n\treturn (\n\t\t<BlockEditorProvider\n\t\t\tsettings={ settings }\n\t\t\tvalue={ blocks }\n\t\t\tonInput={ onInput }\n\t\t\tonChange={ onChange }\n\t\t\tuseSubRegistry={ false }\n\t\t>\n\t\t\t<EditTemplatePartMenuButton />\n\t\t\t<TemplatePartConverter />\n\t\t\t<__experimentalLinkControl.ViewerFill>\n\t\t\t\t{ useCallback(\n\t\t\t\t\t( fillProps ) => (\n\t\t\t\t\t\t<NavigateToLink\n\t\t\t\t\t\t\t{ ...fillProps }\n\t\t\t\t\t\t\tactivePage={ page }\n\t\t\t\t\t\t\tonActivePageChange={ setPage }\n\t\t\t\t\t\t/>\n\t\t\t\t\t),\n\t\t\t\t\t[ page ]\n\t\t\t\t) }\n\t\t\t</__experimentalLinkControl.ViewerFill>\n\t\t\t<SidebarInspectorFill>\n\t\t\t\t<BlockInspector />\n\t\t\t</SidebarInspectorFill>\n\t\t\t<BlockTools\n\t\t\t\tclassName={ classnames( 'edit-site-visual-editor', {\n\t\t\t\t\t'is-focus-mode': isTemplatePart,\n\t\t\t\t} ) }\n\t\t\t\t__unstableContentRef={ contentRef }\n\t\t\t\tonClick={ ( event ) => {\n\t\t\t\t\t// Clear selected block when clicking on the gray background.\n\t\t\t\t\tif ( event.target === event.currentTarget ) {\n\t\t\t\t\t\tclearSelectedBlock();\n\t\t\t\t\t}\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t<BlockEditorKeyboardShortcuts.Register />\n\t\t\t\t<BackButton />\n\t\t\t\t<ResizableEditor\n\t\t\t\t\t// Reinitialize the editor and reset the states when the template changes.\n\t\t\t\t\tkey={ templateId }\n\t\t\t\t\tenableResizing={\n\t\t\t\t\t\tisTemplatePart &&\n\t\t\t\t\t\t// Disable resizing in mobile viewport.\n\t\t\t\t\t\t! isMobileViewport\n\t\t\t\t\t}\n\t\t\t\t\tsettings={ settings }\n\t\t\t\t\tcontentRef={ mergedRefs }\n\t\t\t\t>\n\t\t\t\t\t<BlockList\n\t\t\t\t\t\tclassName=\"edit-site-block-editor__block-list wp-site-blocks\"\n\t\t\t\t\t\t__experimentalLayout={ LAYOUT }\n\t\t\t\t\t\trenderAppender={ isTemplatePart ? false : undefined }\n\t\t\t\t\t/>\n\t\t\t\t</ResizableEditor>\n\t\t\t\t<__unstableBlockSettingsMenuFirstItem>\n\t\t\t\t\t{ ( { onClose } ) => (\n\t\t\t\t\t\t<BlockInspectorButton onClick={ onClose } />\n\t\t\t\t\t) }\n\t\t\t\t</__unstableBlockSettingsMenuFirstItem>\n\t\t\t</BlockTools>\n\t\t\t<ReusableBlocksMenuItems />\n\t\t</BlockEditorProvider>\n\t);\n}\n","/**\n * External dependencies\n */\nimport Textarea from 'react-autosize-textarea';\n\n/**\n * WordPress dependencies\n */\n/**\n * WordPress dependencies\n */\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useState } from '@wordpress/element';\nimport { useInstanceId } from '@wordpress/compose';\nimport { VisuallyHidden } from '@wordpress/components';\n\nexport default function CodeEditorTextArea( { value, onChange, onInput } ) {\n\tconst [ stateValue, setStateValue ] = useState( value );\n\tconst [ isDirty, setIsDirty ] = useState( false );\n\tconst instanceId = useInstanceId( CodeEditorTextArea );\n\n\tif ( ! isDirty && stateValue !== value ) {\n\t\tsetStateValue( value );\n\t}\n\n\t/**\n\t * Handles a textarea change event to notify the onChange prop callback and\n\t * reflect the new value in the component's own state. This marks the start\n\t * of the user's edits, if not already changed, preventing future props\n\t * changes to value from replacing the rendered value. This is expected to\n\t * be followed by a reset to dirty state via `stopEditing`.\n\t *\n\t * @see stopEditing\n\t *\n\t * @param {Event} event Change event.\n\t */\n\tconst onChangeHandler = ( event ) => {\n\t\tconst newValue = event.target.value;\n\t\tonInput( newValue );\n\t\tsetStateValue( newValue );\n\t\tsetIsDirty( true );\n\t};\n\n\t/**\n\t * Function called when the user has completed their edits, responsible for\n\t * ensuring that changes, if made, are surfaced to the onPersist prop\n\t * callback and resetting dirty state.\n\t */\n\tconst stopEditing = () => {\n\t\tif ( isDirty ) {\n\t\t\tonChange( stateValue );\n\t\t\tsetIsDirty( false );\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<VisuallyHidden\n\t\t\t\tas=\"label\"\n\t\t\t\thtmlFor={ `code-editor-text-area-${ instanceId }` }\n\t\t\t>\n\t\t\t\t{ __( 'Type text or HTML' ) }\n\t\t\t</VisuallyHidden>\n\t\t\t<Textarea\n\t\t\t\tautoComplete=\"off\"\n\t\t\t\tdir=\"auto\"\n\t\t\t\tvalue={ stateValue }\n\t\t\t\tonChange={ onChangeHandler }\n\t\t\t\tonBlur={ stopEditing }\n\t\t\t\tclassName=\"edit-site-code-editor-text-area\"\n\t\t\t\tid={ `code-editor-text-area-${ instanceId }` }\n\t\t\t\tplaceholder={ __( 'Start writing with text or HTML' ) }\n\t\t\t/>\n\t\t</>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { parse } from '@wordpress/blocks';\nimport { useEntityBlockEditor, useEntityProp } from '@wordpress/core-data';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as keyboardShortcutsStore } from '@wordpress/keyboard-shortcuts';\nimport { __ } from '@wordpress/i18n';\nimport { Button } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../store';\nimport CodeEditorTextArea from './code-editor-text-area';\n\nexport default function CodeEditor() {\n\tconst { templateType, shortcut } = useSelect( ( select ) => {\n\t\tconst { getEditedPostType } = select( editSiteStore );\n\t\tconst { getShortcutRepresentation } = select( keyboardShortcutsStore );\n\t\treturn {\n\t\t\ttemplateType: getEditedPostType(),\n\t\t\tshortcut: getShortcutRepresentation( 'core/edit-site/toggle-mode' ),\n\t\t};\n\t}, [] );\n\tconst [ contentStructure, setContent ] = useEntityProp(\n\t\t'postType',\n\t\ttemplateType,\n\t\t'content'\n\t);\n\tconst [ blocks, , onChange ] = useEntityBlockEditor(\n\t\t'postType',\n\t\ttemplateType\n\t);\n\tconst content =\n\t\tcontentStructure instanceof Function\n\t\t\t? contentStructure( { blocks } )\n\t\t\t: contentStructure;\n\tconst { switchEditorMode } = useDispatch( editSiteStore );\n\treturn (\n\t\t<div className=\"edit-site-code-editor\">\n\t\t\t<div className=\"edit-site-code-editor__toolbar\">\n\t\t\t\t<h2>{ __( 'Editing code' ) }</h2>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\tonClick={ () => switchEditorMode( 'visual' ) }\n\t\t\t\t\tshortcut={ shortcut }\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Exit code editor' ) }\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t\t<div className=\"edit-site-code-editor__body\">\n\t\t\t\t<CodeEditorTextArea\n\t\t\t\t\tvalue={ content }\n\t\t\t\t\tonChange={ ( newContent ) => {\n\t\t\t\t\t\tonChange( parse( newContent ), {\n\t\t\t\t\t\t\tselection: undefined,\n\t\t\t\t\t\t} );\n\t\t\t\t\t} }\n\t\t\t\t\tonInput={ setContent }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useEffect } from '@wordpress/element';\nimport {\n\tuseShortcut,\n\tstore as keyboardShortcutsStore,\n} from '@wordpress/keyboard-shortcuts';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { store as interfaceStore } from '@wordpress/interface';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../store';\nimport { SIDEBAR_BLOCK } from '../sidebar/constants';\nimport { STORE_NAME } from '../../store/constants';\n\nfunction KeyboardShortcuts( { openEntitiesSavedStates } ) {\n\tconst {\n\t\t__experimentalGetDirtyEntityRecords,\n\t\tisSavingEntityRecord,\n\t} = useSelect( coreStore );\n\tconst { getEditorMode } = useSelect( editSiteStore );\n\tconst isListViewOpen = useSelect(\n\t\t( select ) => select( editSiteStore ).isListViewOpened(),\n\t\t[]\n\t);\n\tconst isBlockInspectorOpen = useSelect(\n\t\t( select ) =>\n\t\t\tselect( interfaceStore ).getActiveComplementaryArea(\n\t\t\t\teditSiteStore.name\n\t\t\t) === SIDEBAR_BLOCK,\n\t\t[]\n\t);\n\tconst { redo, undo } = useDispatch( coreStore );\n\tconst { setIsListViewOpened, switchEditorMode } = useDispatch(\n\t\teditSiteStore\n\t);\n\tconst { enableComplementaryArea, disableComplementaryArea } = useDispatch(\n\t\tinterfaceStore\n\t);\n\n\tuseShortcut( 'core/edit-site/save', ( event ) => {\n\t\tevent.preventDefault();\n\n\t\tconst dirtyEntityRecords = __experimentalGetDirtyEntityRecords();\n\t\tconst isDirty = !! dirtyEntityRecords.length;\n\t\tconst isSaving = dirtyEntityRecords.some( ( record ) =>\n\t\t\tisSavingEntityRecord( record.kind, record.name, record.key )\n\t\t);\n\n\t\tif ( ! isSaving && isDirty ) {\n\t\t\topenEntitiesSavedStates();\n\t\t}\n\t} );\n\n\tuseShortcut( 'core/edit-site/undo', ( event ) => {\n\t\tundo();\n\t\tevent.preventDefault();\n\t} );\n\n\tuseShortcut( 'core/edit-site/redo', ( event ) => {\n\t\tredo();\n\t\tevent.preventDefault();\n\t} );\n\n\tuseShortcut( 'core/edit-site/toggle-list-view', () => {\n\t\tsetIsListViewOpened( ! isListViewOpen );\n\t} );\n\n\tuseShortcut( 'core/edit-site/toggle-block-settings-sidebar', ( event ) => {\n\t\t// This shortcut has no known clashes, but use preventDefault to prevent any\n\t\t// obscure shortcuts from triggering.\n\t\tevent.preventDefault();\n\n\t\tif ( isBlockInspectorOpen ) {\n\t\t\tdisableComplementaryArea( STORE_NAME );\n\t\t} else {\n\t\t\tenableComplementaryArea( STORE_NAME, SIDEBAR_BLOCK );\n\t\t}\n\t} );\n\n\tuseShortcut( 'core/edit-site/toggle-mode', () => {\n\t\tswitchEditorMode( getEditorMode() === 'visual' ? 'text' : 'visual' );\n\t} );\n\n\treturn null;\n}\n\nfunction KeyboardShortcutsRegister() {\n\t// Registering the shortcuts\n\tconst { registerShortcut } = useDispatch( keyboardShortcutsStore );\n\tuseEffect( () => {\n\t\tregisterShortcut( {\n\t\t\tname: 'core/edit-site/save',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Save your changes.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'primary',\n\t\t\t\tcharacter: 's',\n\t\t\t},\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/edit-site/undo',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Undo your last changes.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'primary',\n\t\t\t\tcharacter: 'z',\n\t\t\t},\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/edit-site/redo',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Redo your last undo.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'primaryShift',\n\t\t\t\tcharacter: 'z',\n\t\t\t},\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/edit-site/toggle-list-view',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Open the block list view.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'access',\n\t\t\t\tcharacter: 'o',\n\t\t\t},\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/edit-site/toggle-block-settings-sidebar',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Show or hide the block settings sidebar.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'primaryShift',\n\t\t\t\tcharacter: ',',\n\t\t\t},\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/edit-site/keyboard-shortcuts',\n\t\t\tcategory: 'main',\n\t\t\tdescription: __( 'Display these keyboard shortcuts.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'access',\n\t\t\t\tcharacter: 'h',\n\t\t\t},\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/edit-site/next-region',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Navigate to the next part of the editor.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'ctrl',\n\t\t\t\tcharacter: '`',\n\t\t\t},\n\t\t\taliases: [\n\t\t\t\t{\n\t\t\t\t\tmodifier: 'access',\n\t\t\t\t\tcharacter: 'n',\n\t\t\t\t},\n\t\t\t],\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/edit-site/previous-region',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Navigate to the previous part of the editor.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'ctrlShift',\n\t\t\t\tcharacter: '`',\n\t\t\t},\n\t\t\taliases: [\n\t\t\t\t{\n\t\t\t\t\tmodifier: 'access',\n\t\t\t\t\tcharacter: 'p',\n\t\t\t\t},\n\t\t\t],\n\t\t} );\n\t\tregisterShortcut( {\n\t\t\tname: 'core/edit-site/toggle-mode',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Switch between visual editor and code editor.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'secondary',\n\t\t\t\tcharacter: 'm',\n\t\t\t},\n\t\t} );\n\t}, [ registerShortcut ] );\n\n\treturn null;\n}\n\nKeyboardShortcuts.Register = KeyboardShortcutsRegister;\nexport default KeyboardShortcuts;\n","/**\n * WordPress dependencies\n */\nimport { useEffect } from '@wordpress/element';\nimport { useDispatch } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { useLocation } from '../routes';\nimport { store as editSiteStore } from '../../store';\n\nexport default function URLQueryController() {\n\tconst { setTemplate, setTemplatePart, setPage } = useDispatch(\n\t\teditSiteStore\n\t);\n\tconst {\n\t\tparams: { postId, postType },\n\t} = useLocation();\n\n\t// Set correct entity on page navigation.\n\tuseEffect( () => {\n\t\tif ( 'page' === postType || 'post' === postType ) {\n\t\t\tsetPage( { context: { postType, postId } } ); // Resolves correct template based on ID.\n\t\t} else if ( 'wp_template' === postType ) {\n\t\t\tsetTemplate( postId );\n\t\t} else if ( 'wp_template_part' === postType ) {\n\t\t\tsetTemplatePart( postId );\n\t\t}\n\t}, [ postId, postType ] );\n\n\treturn null;\n}\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst close = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M13 11.8l6.1-6.3-1-1-6.1 6.2-6.1-6.2-1 1 6.1 6.3-6.5 6.7 1 1 6.5-6.6 6.5 6.6 1-1z\" />\n\t</SVG>\n);\n\nexport default close;\n","/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { Button, VisuallyHidden } from '@wordpress/components';\nimport { __experimentalLibrary as Library } from '@wordpress/block-editor';\nimport { close } from '@wordpress/icons';\nimport {\n\tuseViewportMatch,\n\t__experimentalUseDialog as useDialog,\n} from '@wordpress/compose';\nimport { __ } from '@wordpress/i18n';\nimport { useEffect, useRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../store';\n\nexport default function InserterSidebar() {\n\tconst { setIsInserterOpened } = useDispatch( editSiteStore );\n\tconst insertionPoint = useSelect(\n\t\t( select ) => select( editSiteStore ).__experimentalGetInsertionPoint(),\n\t\t[]\n\t);\n\n\tconst isMobile = useViewportMatch( 'medium', '<' );\n\tconst TagName = ! isMobile ? VisuallyHidden : 'div';\n\tconst [ inserterDialogRef, inserterDialogProps ] = useDialog( {\n\t\tonClose: () => setIsInserterOpened( false ),\n\t\tfocusOnMount: null,\n\t} );\n\n\tconst libraryRef = useRef();\n\tuseEffect( () => {\n\t\tlibraryRef.current.focusSearch();\n\t}, [] );\n\n\treturn (\n\t\t<div\n\t\t\tref={ inserterDialogRef }\n\t\t\t{ ...inserterDialogProps }\n\t\t\tclassName=\"edit-site-editor__inserter-panel\"\n\t\t>\n\t\t\t<TagName className=\"edit-site-editor__inserter-panel-header\">\n\t\t\t\t<Button\n\t\t\t\t\ticon={ close }\n\t\t\t\t\tlabel={ __( 'Close block inserter' ) }\n\t\t\t\t\tonClick={ () => setIsInserterOpened( false ) }\n\t\t\t\t/>\n\t\t\t</TagName>\n\t\t\t<div className=\"edit-site-editor__inserter-panel-content\">\n\t\t\t\t<Library\n\t\t\t\t\tshowInserterHelpPanel\n\t\t\t\t\tshouldFocusBlock={ isMobile }\n\t\t\t\t\trootClientId={ insertionPoint.rootClientId }\n\t\t\t\t\t__experimentalInsertionIndex={\n\t\t\t\t\t\tinsertionPoint.insertionIndex\n\t\t\t\t\t}\n\t\t\t\t\t__experimentalFilterValue={ insertionPoint.filterValue }\n\t\t\t\t\tref={ libraryRef }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __experimentalListView as ListView } from '@wordpress/block-editor';\nimport { Button } from '@wordpress/components';\nimport {\n\tuseFocusOnMount,\n\tuseFocusReturn,\n\tuseInstanceId,\n\tuseMergeRefs,\n} from '@wordpress/compose';\nimport { useDispatch } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { closeSmall } from '@wordpress/icons';\nimport { ESCAPE } from '@wordpress/keycodes';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../store';\n\nexport default function ListViewSidebar() {\n\tconst { setIsListViewOpened } = useDispatch( editSiteStore );\n\n\tconst focusOnMountRef = useFocusOnMount( 'firstElement' );\n\tconst headerFocusReturnRef = useFocusReturn();\n\tconst contentFocusReturnRef = useFocusReturn();\n\tfunction closeOnEscape( event ) {\n\t\tif ( event.keyCode === ESCAPE && ! event.defaultPrevented ) {\n\t\t\tsetIsListViewOpened( false );\n\t\t}\n\t}\n\n\tconst instanceId = useInstanceId( ListViewSidebar );\n\tconst labelId = `edit-site-editor__list-view-panel-label-${ instanceId }`;\n\n\treturn (\n\t\t// eslint-disable-next-line jsx-a11y/no-static-element-interactions\n\t\t<div\n\t\t\taria-labelledby={ labelId }\n\t\t\tclassName=\"edit-site-editor__list-view-panel\"\n\t\t\tonKeyDown={ closeOnEscape }\n\t\t>\n\t\t\t<div\n\t\t\t\tclassName=\"edit-site-editor__list-view-panel-header\"\n\t\t\t\tref={ headerFocusReturnRef }\n\t\t\t>\n\t\t\t\t<strong id={ labelId }>{ __( 'List View' ) }</strong>\n\t\t\t\t<Button\n\t\t\t\t\ticon={ closeSmall }\n\t\t\t\t\tlabel={ __( 'Close List View Sidebar' ) }\n\t\t\t\t\tonClick={ () => setIsListViewOpened( false ) }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tclassName=\"edit-site-editor__list-view-panel-content\"\n\t\t\t\tref={ useMergeRefs( [\n\t\t\t\t\tcontentFocusReturnRef,\n\t\t\t\t\tfocusOnMountRef,\n\t\t\t\t] ) }\n\t\t\t>\n\t\t\t\t<ListView\n\t\t\t\t\tshowNestedBlocks\n\t\t\t\t\t__experimentalFeatures\n\t\t\t\t\t__experimentalPersistentListViewFeatures\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Button } from '@wordpress/components';\nimport { Warning } from '@wordpress/block-editor';\nimport { useCopyToClipboard } from '@wordpress/compose';\n\nfunction CopyButton( { text, children } ) {\n\tconst ref = useCopyToClipboard( text );\n\treturn (\n\t\t<Button variant=\"secondary\" ref={ ref }>\n\t\t\t{ children }\n\t\t</Button>\n\t);\n}\n\nexport default function ErrorBoundaryWarning( {\n\tmessage,\n\terror,\n\treboot,\n\tdashboardLink,\n} ) {\n\tconst actions = [];\n\n\tif ( reboot ) {\n\t\tactions.push(\n\t\t\t<Button key=\"recovery\" onClick={ reboot } variant=\"secondary\">\n\t\t\t\t{ __( 'Attempt Recovery' ) }\n\t\t\t</Button>\n\t\t);\n\t}\n\n\tif ( error ) {\n\t\tactions.push(\n\t\t\t<CopyButton key=\"copy-error\" text={ error.stack }>\n\t\t\t\t{ __( 'Copy Error' ) }\n\t\t\t</CopyButton>\n\t\t);\n\t}\n\n\tif ( dashboardLink ) {\n\t\tactions.push(\n\t\t\t<Button\n\t\t\t\tkey=\"back-to-dashboard\"\n\t\t\t\tvariant=\"secondary\"\n\t\t\t\thref={ dashboardLink }\n\t\t\t>\n\t\t\t\t{ __( 'Back to dashboard' ) }\n\t\t\t</Button>\n\t\t);\n\t}\n\n\treturn (\n\t\t<Warning className=\"editor-error-boundary\" actions={ actions }>\n\t\t\t{ message }\n\t\t</Warning>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { Component } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport ErrorBoundaryWarning from './warning';\n\nexport default class ErrorBoundary extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.reboot = this.reboot.bind( this );\n\n\t\tthis.state = {\n\t\t\terror: null,\n\t\t};\n\t}\n\n\tstatic getDerivedStateFromError( error ) {\n\t\treturn { error };\n\t}\n\n\treboot() {\n\t\tthis.props.onError();\n\t}\n\n\trender() {\n\t\tconst { error } = this.state;\n\t\tif ( ! error ) {\n\t\t\treturn this.props.children;\n\t\t}\n\n\t\treturn (\n\t\t\t<ErrorBoundaryWarning\n\t\t\t\tmessage={ __(\n\t\t\t\t\t'The editor has encountered an unexpected error.'\n\t\t\t\t) }\n\t\t\t\terror={ error }\n\t\t\t\treboot={ this.reboot }\n\t\t\t/>\n\t\t);\n\t}\n}\n","export default function WelcomeGuideImage( { nonAnimatedSrc, animatedSrc } ) {\n\treturn (\n\t\t<picture className=\"edit-site-welcome-guide__image\">\n\t\t\t<source\n\t\t\t\tsrcSet={ nonAnimatedSrc }\n\t\t\t\tmedia=\"(prefers-reduced-motion: reduce)\"\n\t\t\t/>\n\t\t\t<img src={ animatedSrc } width=\"312\" height=\"240\" alt=\"\" />\n\t\t</picture>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { Guide } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { createInterpolateElement } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport WelcomeGuideImage from './image';\nimport { store as editSiteStore } from '../../store';\n\nexport default function WelcomeGuideEditor() {\n\tconst { toggleFeature } = useDispatch( editSiteStore );\n\n\tconst isActive = useSelect(\n\t\t( select ) => select( editSiteStore ).isFeatureActive( 'welcomeGuide' ),\n\t\t[]\n\t);\n\n\tif ( ! isActive ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Guide\n\t\t\tclassName=\"edit-site-welcome-guide\"\n\t\t\tcontentLabel={ __( 'Welcome to the site editor' ) }\n\t\t\tfinishButtonText={ __( 'Get Started' ) }\n\t\t\tonFinish={ () => toggleFeature( 'welcomeGuide' ) }\n\t\t\tpages={ [\n\t\t\t\t{\n\t\t\t\t\timage: (\n\t\t\t\t\t\t<WelcomeGuideImage\n\t\t\t\t\t\t\tnonAnimatedSrc=\"https://s.w.org/images/block-editor/edit-your-site.svg?1\"\n\t\t\t\t\t\t\tanimatedSrc=\"https://s.w.org/images/block-editor/edit-your-site.gif?1\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t),\n\t\t\t\t\tcontent: (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<h1 className=\"edit-site-welcome-guide__heading\">\n\t\t\t\t\t\t\t\t{ __( 'Edit your site' ) }\n\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t<p className=\"edit-site-welcome-guide__text\">\n\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t'Design everything on your site — from the header right down to the footer — using blocks.'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p className=\"edit-site-welcome-guide__text\">\n\t\t\t\t\t\t\t\t{ createInterpolateElement(\n\t\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t\t'Click <StylesIconImage /> to start designing your blocks, and choose your typography, layout, and colors.'\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tStylesIconImage: (\n\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\talt={ __( 'styles' ) }\n\t\t\t\t\t\t\t\t\t\t\t\tsrc=\"data:image/svg+xml,%3Csvg width='18' height='18' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 4c-4.4 0-8 3.6-8 8v.1c0 4.1 3.2 7.5 7.2 7.9h.8c4.4 0 8-3.6 8-8s-3.6-8-8-8zm0 15V5c3.9 0 7 3.1 7 7s-3.1 7-7 7z' fill='%231E1E1E'/%3E%3C/svg%3E%0A\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</>\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t] }\n\t\t/>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { ExternalLink, Guide } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { store as interfaceStore } from '@wordpress/interface';\n\n/**\n * Internal dependencies\n */\nimport WelcomeGuideImage from './image';\nimport { store as editSiteStore } from '../../store';\n\nexport default function WelcomeGuideStyles() {\n\tconst { toggleFeature } = useDispatch( editSiteStore );\n\n\tconst { isActive, isStylesOpen } = useSelect( ( select ) => {\n\t\tconst sidebar = select( interfaceStore ).getActiveComplementaryArea(\n\t\t\teditSiteStore.name\n\t\t);\n\n\t\treturn {\n\t\t\tisActive: select( editSiteStore ).isFeatureActive(\n\t\t\t\t'welcomeGuideStyles'\n\t\t\t),\n\t\t\tisStylesOpen: sidebar === 'edit-site/global-styles',\n\t\t};\n\t}, [] );\n\n\tif ( ! isActive || ! isStylesOpen ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Guide\n\t\t\tclassName=\"edit-site-welcome-guide\"\n\t\t\tcontentLabel={ __( 'Welcome to styles' ) }\n\t\t\tfinishButtonText={ __( 'Get Started' ) }\n\t\t\tonFinish={ () => toggleFeature( 'welcomeGuideStyles' ) }\n\t\t\tpages={ [\n\t\t\t\t{\n\t\t\t\t\timage: (\n\t\t\t\t\t\t<WelcomeGuideImage\n\t\t\t\t\t\t\tnonAnimatedSrc=\"https://s.w.org/images/block-editor/welcome-to-styles.svg?1\"\n\t\t\t\t\t\t\tanimatedSrc=\"https://s.w.org/images/block-editor/welcome-to-styles.gif?1\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t),\n\t\t\t\t\tcontent: (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<h1 className=\"edit-site-welcome-guide__heading\">\n\t\t\t\t\t\t\t\t{ __( 'Welcome to Styles' ) }\n\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t<p className=\"edit-site-welcome-guide__text\">\n\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t'Tweak your site, or give it a whole new look! Get creative — how about a new color palette for your buttons, or choosing a new font? Take a look at what you can do here.'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</>\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\timage: (\n\t\t\t\t\t\t<WelcomeGuideImage\n\t\t\t\t\t\t\tnonAnimatedSrc=\"https://s.w.org/images/block-editor/set-the-design.svg?1\"\n\t\t\t\t\t\t\tanimatedSrc=\"https://s.w.org/images/block-editor/set-the-design.gif?1\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t),\n\t\t\t\t\tcontent: (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<h1 className=\"edit-site-welcome-guide__heading\">\n\t\t\t\t\t\t\t\t{ __( 'Set the design' ) }\n\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t<p className=\"edit-site-welcome-guide__text\">\n\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t'You can customize your site as much as you like with different colors, typography, and layouts. Or if you prefer, just leave it up to your theme to handle! '\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</>\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\timage: (\n\t\t\t\t\t\t<WelcomeGuideImage\n\t\t\t\t\t\t\tnonAnimatedSrc=\"https://s.w.org/images/block-editor/personalize-blocks.svg?1\"\n\t\t\t\t\t\t\tanimatedSrc=\"https://s.w.org/images/block-editor/personalize-blocks.gif?1\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t),\n\t\t\t\t\tcontent: (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<h1 className=\"edit-site-welcome-guide__heading\">\n\t\t\t\t\t\t\t\t{ __( 'Personalize blocks' ) }\n\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t<p className=\"edit-site-welcome-guide__text\">\n\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t'You can adjust your blocks to ensure a cohesive experience across your site — add your unique colors to a branded Button block, or adjust the Heading block to your preferred size.'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</>\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\timage: (\n\t\t\t\t\t\t<WelcomeGuideImage\n\t\t\t\t\t\t\tnonAnimatedSrc=\"https://s.w.org/images/block-editor/welcome-documentation.svg\"\n\t\t\t\t\t\t\tanimatedSrc=\"https://s.w.org/images/block-editor/welcome-documentation.gif\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t),\n\t\t\t\t\tcontent: (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<h1 className=\"edit-site-welcome-guide__heading\">\n\t\t\t\t\t\t\t\t{ __( 'Learn more' ) }\n\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t<p className=\"edit-site-welcome-guide__text\">\n\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t'New to block themes and styling your site? '\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t<ExternalLink\n\t\t\t\t\t\t\t\t\thref={ __(\n\t\t\t\t\t\t\t\t\t\t'https://wordpress.org/support/article/styles-overview/'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t\t'Here’s a detailed guide to learn how to make the most of it.'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</ExternalLink>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</>\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t] }\n\t\t/>\n\t);\n}\n","/**\n * Internal dependencies\n */\nimport WelcomeGuideEditor from './editor';\nimport WelcomeGuideStyles from './styles';\n\nexport default function WelcomeGuide() {\n\treturn (\n\t\t<>\n\t\t\t<WelcomeGuideEditor />\n\t\t\t<WelcomeGuideStyles />\n\t\t</>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useEffect } from '@wordpress/element';\nimport { useSelect, useDispatch } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../store';\n\n/**\n * Internal dependencies\n */\nimport { useGlobalStylesOutput } from '../global-styles/use-global-styles-output';\n\nfunction useGlobalStylesRenderer() {\n\tconst [ styles, settings ] = useGlobalStylesOutput();\n\tconst { getSettings } = useSelect( editSiteStore );\n\tconst { updateSettings } = useDispatch( editSiteStore );\n\n\tuseEffect( () => {\n\t\tif ( ! styles || ! settings ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst currentStoreSettings = getSettings();\n\t\tconst nonGlobalStyles = currentStoreSettings?.styles?.filter(\n\t\t\t( style ) => ! style.isGlobalStyles\n\t\t);\n\t\tupdateSettings( {\n\t\t\t...currentStoreSettings,\n\t\t\tstyles: [ ...nonGlobalStyles, ...styles ],\n\t\t\t__experimentalFeatures: settings,\n\t\t} );\n\t}, [ styles, settings ] );\n}\n\nexport function GlobalStylesRenderer() {\n\tuseGlobalStylesRenderer();\n\n\treturn null;\n}\n","/**\n * WordPress dependencies\n */\nimport { useEffect, useRef } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { speak } from '@wordpress/a11y';\n\n/**\n * Internal dependencies\n */\nimport { useLocation } from './index';\n\nexport default function useTitle( title ) {\n\tconst location = useLocation();\n\tconst siteTitle = useSelect(\n\t\t( select ) =>\n\t\t\tselect( coreStore ).getEntityRecord( 'root', 'site' )?.title,\n\t\t[]\n\t);\n\tconst isInitialLocationRef = useRef( true );\n\n\tuseEffect( () => {\n\t\tisInitialLocationRef.current = false;\n\t}, [ location ] );\n\n\tuseEffect( () => {\n\t\t// Don't update or announce the title for initial page load.\n\t\tif ( isInitialLocationRef.current ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( title && siteTitle ) {\n\t\t\t// @see https://github.com/WordPress/wordpress-develop/blob/94849898192d271d533e09756007e176feb80697/src/wp-admin/admin-header.php#L67-L68\n\t\t\tconst formattedTitle = sprintf(\n\t\t\t\t/* translators: Admin screen title. 1: Admin screen name, 2: Network or site name. */\n\t\t\t\t__( '%1$s ‹ %2$s — WordPress' ),\n\t\t\t\ttitle,\n\t\t\t\tsiteTitle\n\t\t\t);\n\n\t\t\tdocument.title = formattedTitle;\n\n\t\t\t// Announce title on route change for screen readers.\n\t\t\tspeak(\n\t\t\t\tsprintf(\n\t\t\t\t\t/* translators: The page title that is currently displaying. */\n\t\t\t\t\t__( 'Now displaying: %s' ),\n\t\t\t\t\tdocument.title\n\t\t\t\t),\n\t\t\t\t'assertive'\n\t\t\t);\n\t\t}\n\t}, [ title, siteTitle, location ] );\n}\n","/**\n * WordPress dependencies\n */\nimport { useEffect, useState, useMemo, useCallback } from '@wordpress/element';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { Popover, Button, Notice } from '@wordpress/components';\nimport { EntityProvider, store as coreStore } from '@wordpress/core-data';\nimport { BlockContextProvider, BlockBreadcrumb } from '@wordpress/block-editor';\nimport {\n\tInterfaceSkeleton,\n\tComplementaryArea,\n\tstore as interfaceStore,\n} from '@wordpress/interface';\nimport {\n\tEditorNotices,\n\tEditorSnackbars,\n\tEntitiesSavedStates,\n} from '@wordpress/editor';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { PluginArea } from '@wordpress/plugins';\nimport {\n\tShortcutProvider,\n\tstore as keyboardShortcutsStore,\n} from '@wordpress/keyboard-shortcuts';\nimport { store as noticesStore } from '@wordpress/notices';\n\n/**\n * Internal dependencies\n */\nimport Header from '../header';\nimport { SidebarComplementaryAreaFills } from '../sidebar';\nimport NavigationSidebar from '../navigation-sidebar';\nimport BlockEditor from '../block-editor';\nimport CodeEditor from '../code-editor';\nimport KeyboardShortcuts from '../keyboard-shortcuts';\nimport URLQueryController from '../url-query-controller';\nimport InserterSidebar from '../secondary-sidebar/inserter-sidebar';\nimport ListViewSidebar from '../secondary-sidebar/list-view-sidebar';\nimport ErrorBoundary from '../error-boundary';\nimport WelcomeGuide from '../welcome-guide';\nimport { store as editSiteStore } from '../../store';\nimport { GlobalStylesRenderer } from './global-styles-renderer';\nimport { GlobalStylesProvider } from '../global-styles/global-styles-provider';\nimport useTitle from '../routes/use-title';\n\nconst interfaceLabels = {\n\tsecondarySidebar: __( 'Block Library' ),\n\tdrawer: __( 'Navigation Sidebar' ),\n};\n\nfunction Editor( { onError } ) {\n\tconst {\n\t\tisInserterOpen,\n\t\tisListViewOpen,\n\t\tsidebarIsOpened,\n\t\tsettings,\n\t\tentityId,\n\t\ttemplateType,\n\t\tpage,\n\t\ttemplate,\n\t\ttemplateResolved,\n\t\tisNavigationOpen,\n\t\tpreviousShortcut,\n\t\tnextShortcut,\n\t\teditorMode,\n\t} = useSelect( ( select ) => {\n\t\tconst {\n\t\t\tisInserterOpened,\n\t\t\tisListViewOpened,\n\t\t\tgetSettings,\n\t\t\tgetEditedPostType,\n\t\t\tgetEditedPostId,\n\t\t\tgetPage,\n\t\t\tisNavigationOpened,\n\t\t\tgetEditorMode,\n\t\t} = select( editSiteStore );\n\t\tconst { hasFinishedResolution, getEntityRecord } = select( coreStore );\n\t\tconst postType = getEditedPostType();\n\t\tconst postId = getEditedPostId();\n\n\t\t// The currently selected entity to display. Typically template or template part.\n\t\treturn {\n\t\t\tisInserterOpen: isInserterOpened(),\n\t\t\tisListViewOpen: isListViewOpened(),\n\t\t\tsidebarIsOpened: !! select(\n\t\t\t\tinterfaceStore\n\t\t\t).getActiveComplementaryArea( editSiteStore.name ),\n\t\t\tsettings: getSettings(),\n\t\t\ttemplateType: postType,\n\t\t\tpage: getPage(),\n\t\t\ttemplate: postId\n\t\t\t\t? getEntityRecord( 'postType', postType, postId )\n\t\t\t\t: null,\n\t\t\ttemplateResolved: postId\n\t\t\t\t? hasFinishedResolution( 'getEntityRecord', [\n\t\t\t\t\t\t'postType',\n\t\t\t\t\t\tpostType,\n\t\t\t\t\t\tpostId,\n\t\t\t\t  ] )\n\t\t\t\t: false,\n\t\t\tentityId: postId,\n\t\t\tisNavigationOpen: isNavigationOpened(),\n\t\t\tpreviousShortcut: select(\n\t\t\t\tkeyboardShortcutsStore\n\t\t\t).getAllShortcutKeyCombinations( 'core/edit-site/previous-region' ),\n\t\t\tnextShortcut: select(\n\t\t\t\tkeyboardShortcutsStore\n\t\t\t).getAllShortcutKeyCombinations( 'core/edit-site/next-region' ),\n\t\t\teditorMode: getEditorMode(),\n\t\t};\n\t}, [] );\n\tconst { setPage, setIsInserterOpened } = useDispatch( editSiteStore );\n\tconst { enableComplementaryArea } = useDispatch( interfaceStore );\n\tconst { createErrorNotice } = useDispatch( noticesStore );\n\n\tconst [\n\t\tisEntitiesSavedStatesOpen,\n\t\tsetIsEntitiesSavedStatesOpen,\n\t] = useState( false );\n\tconst openEntitiesSavedStates = useCallback(\n\t\t() => setIsEntitiesSavedStatesOpen( true ),\n\t\t[]\n\t);\n\tconst closeEntitiesSavedStates = useCallback( () => {\n\t\tsetIsEntitiesSavedStatesOpen( false );\n\t}, [] );\n\n\tconst blockContext = useMemo(\n\t\t() => ( {\n\t\t\t...page?.context,\n\t\t\tqueryContext: [\n\t\t\t\tpage?.context.queryContext || { page: 1 },\n\t\t\t\t( newQueryContext ) =>\n\t\t\t\t\tsetPage( {\n\t\t\t\t\t\t...page,\n\t\t\t\t\t\tcontext: {\n\t\t\t\t\t\t\t...page?.context,\n\t\t\t\t\t\t\tqueryContext: {\n\t\t\t\t\t\t\t\t...page?.context.queryContext,\n\t\t\t\t\t\t\t\t...newQueryContext,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t} ),\n\t\t\t],\n\t\t} ),\n\t\t[ page?.context ]\n\t);\n\n\tuseEffect( () => {\n\t\tif ( isNavigationOpen ) {\n\t\t\tdocument.body.classList.add( 'is-navigation-sidebar-open' );\n\t\t} else {\n\t\t\tdocument.body.classList.remove( 'is-navigation-sidebar-open' );\n\t\t}\n\t}, [ isNavigationOpen ] );\n\n\tuseEffect(\n\t\tfunction openGlobalStylesOnLoad() {\n\t\t\tconst searchParams = new URLSearchParams( window.location.search );\n\t\t\tif ( searchParams.get( 'styles' ) === 'open' ) {\n\t\t\t\tenableComplementaryArea(\n\t\t\t\t\t'core/edit-site',\n\t\t\t\t\t'edit-site/global-styles'\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\t[ enableComplementaryArea ]\n\t);\n\n\t// Don't render the Editor until the settings are set and loaded\n\tconst isReady =\n\t\tsettings?.siteUrl &&\n\t\ttemplateType !== undefined &&\n\t\tentityId !== undefined;\n\n\tconst secondarySidebar = () => {\n\t\tif ( isInserterOpen ) {\n\t\t\treturn <InserterSidebar />;\n\t\t}\n\t\tif ( isListViewOpen ) {\n\t\t\treturn <ListViewSidebar />;\n\t\t}\n\t\treturn null;\n\t};\n\n\tfunction onPluginAreaError( name ) {\n\t\tcreateErrorNotice(\n\t\t\tsprintf(\n\t\t\t\t/* translators: %s: plugin name */\n\t\t\t\t__(\n\t\t\t\t\t'The \"%s\" plugin has encountered an error and cannot be rendered.'\n\t\t\t\t),\n\t\t\t\tname\n\t\t\t)\n\t\t);\n\t}\n\n\t// Only announce the title once the editor is ready to prevent \"Replace\"\n\t// action in <URlQueryController> from double-announcing.\n\tuseTitle( isReady && __( 'Editor (beta)' ) );\n\n\treturn (\n\t\t<>\n\t\t\t<URLQueryController />\n\t\t\t{ isReady && (\n\t\t\t\t<ShortcutProvider>\n\t\t\t\t\t<EntityProvider kind=\"root\" type=\"site\">\n\t\t\t\t\t\t<EntityProvider\n\t\t\t\t\t\t\tkind=\"postType\"\n\t\t\t\t\t\t\ttype={ templateType }\n\t\t\t\t\t\t\tid={ entityId }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<GlobalStylesProvider>\n\t\t\t\t\t\t\t\t<BlockContextProvider value={ blockContext }>\n\t\t\t\t\t\t\t\t\t<GlobalStylesRenderer />\n\t\t\t\t\t\t\t\t\t<ErrorBoundary onError={ onError }>\n\t\t\t\t\t\t\t\t\t\t<KeyboardShortcuts.Register />\n\t\t\t\t\t\t\t\t\t\t<SidebarComplementaryAreaFills />\n\t\t\t\t\t\t\t\t\t\t<InterfaceSkeleton\n\t\t\t\t\t\t\t\t\t\t\tlabels={ interfaceLabels }\n\t\t\t\t\t\t\t\t\t\t\tsecondarySidebar={ secondarySidebar() }\n\t\t\t\t\t\t\t\t\t\t\tsidebar={\n\t\t\t\t\t\t\t\t\t\t\t\tsidebarIsOpened && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ComplementaryArea.Slot scope=\"core/edit-site\" />\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tdrawer={\n\t\t\t\t\t\t\t\t\t\t\t\t<NavigationSidebar.Slot />\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\theader={\n\t\t\t\t\t\t\t\t\t\t\t\t<Header\n\t\t\t\t\t\t\t\t\t\t\t\t\topenEntitiesSavedStates={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\topenEntitiesSavedStates\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tnotices={ <EditorSnackbars /> }\n\t\t\t\t\t\t\t\t\t\t\tcontent={\n\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<EditorNotices />\n\t\t\t\t\t\t\t\t\t\t\t\t\t{ editorMode === 'visual' &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttemplate && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<BlockEditor\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetIsInserterOpen={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetIsInserterOpened\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\t\t\t{ editorMode === 'text' &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttemplate && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CodeEditor />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\t\t\t{ templateResolved &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t! template &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsettings?.siteUrl &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tentityId && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Notice\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstatus=\"warning\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisDismissible={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"You attempted to edit an item that doesn't exist. Perhaps it was deleted?\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Notice>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\t\t\t<KeyboardShortcuts\n\t\t\t\t\t\t\t\t\t\t\t\t\t\topenEntitiesSavedStates={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\topenEntitiesSavedStates\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tactions={\n\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{ isEntitiesSavedStatesOpen ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EntitiesSavedStates\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclose={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcloseEntitiesSavedStates\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"edit-site-editor__toggle-save-panel\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"edit-site-editor__toggle-save-panel-button\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\topenEntitiesSavedStates\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taria-expanded={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'Open save panel'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tfooter={\n\t\t\t\t\t\t\t\t\t\t\t\t<BlockBreadcrumb\n\t\t\t\t\t\t\t\t\t\t\t\t\trootLabelText={ __(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'Template'\n\t\t\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tshortcuts={ {\n\t\t\t\t\t\t\t\t\t\t\t\tprevious: previousShortcut,\n\t\t\t\t\t\t\t\t\t\t\t\tnext: nextShortcut,\n\t\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<WelcomeGuide />\n\t\t\t\t\t\t\t\t\t\t<Popover.Slot />\n\t\t\t\t\t\t\t\t\t\t<PluginArea\n\t\t\t\t\t\t\t\t\t\t\tonError={ onPluginAreaError }\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</ErrorBoundary>\n\t\t\t\t\t\t\t\t</BlockContextProvider>\n\t\t\t\t\t\t\t</GlobalStylesProvider>\n\t\t\t\t\t\t</EntityProvider>\n\t\t\t\t\t</EntityProvider>\n\t\t\t\t</ShortcutProvider>\n\t\t\t) }\n\t\t</>\n\t);\n}\nexport default Editor;\n","/**\n * External dependencies\n */\nimport { filter, find, includes, map } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tDropdownMenu,\n\tMenuGroup,\n\tMenuItem,\n\tNavigableMenu,\n} from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { store as editorStore } from '@wordpress/editor';\nimport { __ } from '@wordpress/i18n';\nimport { store as noticesStore } from '@wordpress/notices';\n\n/**\n * Internal dependencies\n */\nimport { useHistory } from '../routes';\n\nconst DEFAULT_TEMPLATE_SLUGS = [\n\t'front-page',\n\t'single-post',\n\t'page',\n\t'archive',\n\t'search',\n\t'404',\n\t'index',\n];\n\nexport default function NewTemplate( { postType } ) {\n\tconst history = useHistory();\n\tconst { templates, defaultTemplateTypes } = useSelect(\n\t\t( select ) => ( {\n\t\t\ttemplates: select( coreStore ).getEntityRecords(\n\t\t\t\t'postType',\n\t\t\t\t'wp_template',\n\t\t\t\t{ per_page: -1 }\n\t\t\t),\n\t\t\tdefaultTemplateTypes: select(\n\t\t\t\teditorStore\n\t\t\t).__experimentalGetDefaultTemplateTypes(),\n\t\t} ),\n\t\t[]\n\t);\n\tconst { saveEntityRecord } = useDispatch( coreStore );\n\tconst { createErrorNotice } = useDispatch( noticesStore );\n\tconst { getLastEntitySaveError } = useSelect( coreStore );\n\n\tasync function createTemplate( { slug } ) {\n\t\ttry {\n\t\t\tconst { title, description } = find( defaultTemplateTypes, {\n\t\t\t\tslug,\n\t\t\t} );\n\n\t\t\tconst template = await saveEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\t'wp_template',\n\t\t\t\t{\n\t\t\t\t\texcerpt: description,\n\t\t\t\t\t// Slugs need to be strings, so this is for template `404`\n\t\t\t\t\tslug: slug.toString(),\n\t\t\t\t\tstatus: 'publish',\n\t\t\t\t\ttitle,\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tconst lastEntitySaveError = getLastEntitySaveError(\n\t\t\t\t'postType',\n\t\t\t\t'wp_template',\n\t\t\t\ttemplate.id\n\t\t\t);\n\t\t\tif ( lastEntitySaveError ) {\n\t\t\t\tthrow lastEntitySaveError;\n\t\t\t}\n\n\t\t\t// Navigate to the created template editor.\n\t\t\thistory.push( {\n\t\t\t\tpostId: template.id,\n\t\t\t\tpostType: template.type,\n\t\t\t} );\n\n\t\t\t// TODO: Add a success notice?\n\t\t} catch ( error ) {\n\t\t\tconst errorMessage =\n\t\t\t\terror.message && error.code !== 'unknown_error'\n\t\t\t\t\t? error.message\n\t\t\t\t\t: __( 'An error occurred while creating the template.' );\n\n\t\t\tcreateErrorNotice( errorMessage, {\n\t\t\t\ttype: 'snackbar',\n\t\t\t} );\n\t\t}\n\t}\n\n\tconst existingTemplateSlugs = map( templates, 'slug' );\n\n\tconst missingTemplates = filter(\n\t\tdefaultTemplateTypes,\n\t\t( template ) =>\n\t\t\tincludes( DEFAULT_TEMPLATE_SLUGS, template.slug ) &&\n\t\t\t! includes( existingTemplateSlugs, template.slug )\n\t);\n\n\tif ( ! missingTemplates.length ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<DropdownMenu\n\t\t\tclassName=\"edit-site-new-template-dropdown\"\n\t\t\ticon={ null }\n\t\t\ttext={ postType.labels.add_new }\n\t\t\tlabel={ postType.labels.add_new_item }\n\t\t\tpopoverProps={ {\n\t\t\t\tnoArrow: false,\n\t\t\t} }\n\t\t\ttoggleProps={ {\n\t\t\t\tvariant: 'primary',\n\t\t\t} }\n\t\t>\n\t\t\t{ () => (\n\t\t\t\t<NavigableMenu className=\"edit-site-new-template-dropdown__popover\">\n\t\t\t\t\t<MenuGroup label={ postType.labels.add_new_item }>\n\t\t\t\t\t\t{ map(\n\t\t\t\t\t\t\tmissingTemplates,\n\t\t\t\t\t\t\t( { title, description, slug } ) => (\n\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\tinfo={ description }\n\t\t\t\t\t\t\t\t\tkey={ slug }\n\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\tcreateTemplate( { slug } );\n\t\t\t\t\t\t\t\t\t\t// We will be navigated way so no need to close the dropdown.\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ title }\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t) }\n\t\t\t\t\t</MenuGroup>\n\t\t\t\t</NavigableMenu>\n\t\t\t) }\n\t\t</DropdownMenu>\n\t);\n}\n","/**\n * External dependencies\n */\nimport { kebabCase } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { useState } from '@wordpress/element';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { Button } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { useHistory } from '../routes';\nimport CreateTemplatePartModal from '../create-template-part-modal';\n\nexport default function NewTemplatePart( { postType } ) {\n\tconst history = useHistory();\n\tconst [ isModalOpen, setIsModalOpen ] = useState( false );\n\tconst { createErrorNotice } = useDispatch( noticesStore );\n\tconst { saveEntityRecord } = useDispatch( coreStore );\n\tconst { getLastEntitySaveError } = useSelect( coreStore );\n\n\tasync function createTemplatePart( { title, area } ) {\n\t\tif ( ! title ) {\n\t\t\tcreateErrorNotice( __( 'Title is not defined.' ), {\n\t\t\t\ttype: 'snackbar',\n\t\t\t} );\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\t// Currently template parts only allow latin chars.\n\t\t\t// Fallback slug will receive suffix by default.\n\t\t\tconst cleanSlug =\n\t\t\t\tkebabCase( title ).replace( /[^\\w-]+/g, '' ) ||\n\t\t\t\t'wp-custom-part';\n\n\t\t\tconst templatePart = await saveEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\t'wp_template_part',\n\t\t\t\t{\n\t\t\t\t\tslug: cleanSlug,\n\t\t\t\t\ttitle,\n\t\t\t\t\tcontent: '',\n\t\t\t\t\tarea,\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tconst lastEntitySaveError = getLastEntitySaveError(\n\t\t\t\t'postType',\n\t\t\t\t'wp_template_part',\n\t\t\t\ttemplatePart.id\n\t\t\t);\n\t\t\tif ( lastEntitySaveError ) {\n\t\t\t\tthrow lastEntitySaveError;\n\t\t\t}\n\n\t\t\tsetIsModalOpen( false );\n\n\t\t\t// Navigate to the created template part editor.\n\t\t\thistory.push( {\n\t\t\t\tpostId: templatePart.id,\n\t\t\t\tpostType: templatePart.type,\n\t\t\t} );\n\n\t\t\t// TODO: Add a success notice?\n\t\t} catch ( error ) {\n\t\t\tconst errorMessage =\n\t\t\t\terror.message && error.code !== 'unknown_error'\n\t\t\t\t\t? error.message\n\t\t\t\t\t: __(\n\t\t\t\t\t\t\t'An error occurred while creating the template part.'\n\t\t\t\t\t  );\n\n\t\t\tcreateErrorNotice( errorMessage, { type: 'snackbar' } );\n\n\t\t\tsetIsModalOpen( false );\n\t\t}\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<Button\n\t\t\t\tvariant=\"primary\"\n\t\t\t\tonClick={ () => {\n\t\t\t\t\tsetIsModalOpen( true );\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t{ postType.labels.add_new }\n\t\t\t</Button>\n\t\t\t{ isModalOpen && (\n\t\t\t\t<CreateTemplatePartModal\n\t\t\t\t\tcloseModal={ () => setIsModalOpen( false ) }\n\t\t\t\t\tonCreate={ createTemplatePart }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport NewTemplate from './new-template';\nimport NewTemplatePart from './new-template-part';\n\nexport default function AddNewTemplate( { templateType = 'wp_template' } ) {\n\tconst postType = useSelect(\n\t\t( select ) => select( coreStore ).getPostType( templateType ),\n\t\t[ templateType ]\n\t);\n\n\tif ( ! postType ) {\n\t\treturn null;\n\t}\n\n\tif ( templateType === 'wp_template' ) {\n\t\treturn <NewTemplate postType={ postType } />;\n\t} else if ( templateType === 'wp_template_part' ) {\n\t\treturn <NewTemplatePart postType={ postType } />;\n\t}\n\n\treturn null;\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { __experimentalHeading as Heading } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport AddNewTemplate from '../add-new-template';\n\nexport default function Header( { templateType } ) {\n\tconst postType = useSelect(\n\t\t( select ) => select( coreStore ).getPostType( templateType ),\n\t\t[ templateType ]\n\t);\n\n\tif ( ! postType ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<header className=\"edit-site-list-header\">\n\t\t\t<Heading level={ 1 } className=\"edit-site-list-header__title\">\n\t\t\t\t{ postType.labels?.name }\n\t\t\t</Heading>\n\n\t\t\t<div className=\"edit-site-list-header__right\">\n\t\t\t\t<AddNewTemplate templateType={ templateType } />\n\t\t\t</div>\n\t\t</header>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useState } from '@wordpress/element';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport {\n\tButton,\n\tFlex,\n\tFlexItem,\n\tMenuItem,\n\tModal,\n\tTextControl,\n} from '@wordpress/components';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { store as noticesStore } from '@wordpress/notices';\n\nexport default function RenameMenuItem( { template, onClose } ) {\n\tconst [ title, setTitle ] = useState( () => template.title.rendered );\n\tconst [ isModalOpen, setIsModalOpen ] = useState( false );\n\n\tconst { getLastEntitySaveError } = useSelect( coreStore );\n\tconst { editEntityRecord, saveEditedEntityRecord } = useDispatch(\n\t\tcoreStore\n\t);\n\tconst { createSuccessNotice, createErrorNotice } = useDispatch(\n\t\tnoticesStore\n\t);\n\n\tif ( ! template.is_custom ) {\n\t\treturn null;\n\t}\n\n\tasync function onTemplateRename( event ) {\n\t\tevent.preventDefault();\n\n\t\ttry {\n\t\t\tawait editEntityRecord( 'postType', template.type, template.id, {\n\t\t\t\ttitle,\n\t\t\t} );\n\n\t\t\t// Update state before saving rerenders the list.\n\t\t\tsetTitle( '' );\n\t\t\tsetIsModalOpen( false );\n\t\t\tonClose();\n\n\t\t\t// Persist edited entity.\n\t\t\tawait saveEditedEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\ttemplate.type,\n\t\t\t\ttemplate.id\n\t\t\t);\n\n\t\t\tconst lastError = getLastEntitySaveError(\n\t\t\t\t'postType',\n\t\t\t\ttemplate.type,\n\t\t\t\ttemplate.id\n\t\t\t);\n\n\t\t\tif ( lastError ) {\n\t\t\t\tthrow lastError;\n\t\t\t}\n\n\t\t\tcreateSuccessNotice( __( 'Entity renamed.' ), {\n\t\t\t\ttype: 'snackbar',\n\t\t\t} );\n\t\t} catch ( error ) {\n\t\t\tconst errorMessage =\n\t\t\t\terror.message && error.code !== 'unknown_error'\n\t\t\t\t\t? error.message\n\t\t\t\t\t: __( 'An error occurred while renaming the entity.' );\n\n\t\t\tcreateErrorNotice( errorMessage, { type: 'snackbar' } );\n\t\t}\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<MenuItem\n\t\t\t\tonClick={ () => {\n\t\t\t\t\tsetIsModalOpen( true );\n\t\t\t\t\tsetTitle( template.title.rendered );\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t{ __( 'Rename' ) }\n\t\t\t</MenuItem>\n\t\t\t{ isModalOpen && (\n\t\t\t\t<Modal\n\t\t\t\t\ttitle={ __( 'Rename' ) }\n\t\t\t\t\tcloseLabel={ __( 'Close' ) }\n\t\t\t\t\tonRequestClose={ () => {\n\t\t\t\t\t\tsetIsModalOpen( false );\n\t\t\t\t\t} }\n\t\t\t\t\toverlayClassName=\"edit-site-list__rename-modal\"\n\t\t\t\t>\n\t\t\t\t\t<form onSubmit={ onTemplateRename }>\n\t\t\t\t\t\t<Flex align=\"flex-start\" gap={ 8 }>\n\t\t\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Name' ) }\n\t\t\t\t\t\t\t\t\tvalue={ title }\n\t\t\t\t\t\t\t\t\tonChange={ setTitle }\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t\t</Flex>\n\n\t\t\t\t\t\t<Flex\n\t\t\t\t\t\t\tclassName=\"edit-site-list__rename-modal-actions\"\n\t\t\t\t\t\t\tjustify=\"flex-end\"\n\t\t\t\t\t\t\texpanded={ false }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\tsetIsModalOpen( false );\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t\t\t<Button variant=\"primary\" type=\"submit\">\n\t\t\t\t\t\t\t\t\t{ __( 'Save' ) }\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t\t</Flex>\n\t\t\t\t\t</form>\n\t\t\t\t</Modal>\n\t\t\t) }\n\t\t</>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useDispatch } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { __ } from '@wordpress/i18n';\nimport { DropdownMenu, MenuGroup, MenuItem } from '@wordpress/components';\nimport { moreVertical } from '@wordpress/icons';\nimport { store as noticesStore } from '@wordpress/notices';\n\n/**\n * Internal dependencies\n */\nimport { store as editSiteStore } from '../../../store';\nimport isTemplateRemovable from '../../../utils/is-template-removable';\nimport isTemplateRevertable from '../../../utils/is-template-revertable';\nimport RenameMenuItem from './rename-menu-item';\n\nexport default function Actions( { template } ) {\n\tconst { removeTemplate, revertTemplate } = useDispatch( editSiteStore );\n\tconst { saveEditedEntityRecord } = useDispatch( coreStore );\n\tconst { createSuccessNotice, createErrorNotice } = useDispatch(\n\t\tnoticesStore\n\t);\n\n\tconst isRemovable = isTemplateRemovable( template );\n\tconst isRevertable = isTemplateRevertable( template );\n\n\tif ( ! isRemovable && ! isRevertable ) {\n\t\treturn null;\n\t}\n\n\tasync function revertAndSaveTemplate() {\n\t\ttry {\n\t\t\tawait revertTemplate( template, { allowUndo: false } );\n\t\t\tawait saveEditedEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\ttemplate.type,\n\t\t\t\ttemplate.id\n\t\t\t);\n\n\t\t\tcreateSuccessNotice( __( 'Entity reverted.' ), {\n\t\t\t\ttype: 'snackbar',\n\t\t\t} );\n\t\t} catch ( error ) {\n\t\t\tconst errorMessage =\n\t\t\t\terror.message && error.code !== 'unknown_error'\n\t\t\t\t\t? error.message\n\t\t\t\t\t: __( 'An error occurred while reverting the entity.' );\n\n\t\t\tcreateErrorNotice( errorMessage, { type: 'snackbar' } );\n\t\t}\n\t}\n\n\treturn (\n\t\t<DropdownMenu\n\t\t\ticon={ moreVertical }\n\t\t\tlabel={ __( 'Actions' ) }\n\t\t\tclassName=\"edit-site-list-table__actions\"\n\t\t>\n\t\t\t{ ( { onClose } ) => (\n\t\t\t\t<MenuGroup>\n\t\t\t\t\t{ isRemovable && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<RenameMenuItem\n\t\t\t\t\t\t\t\ttemplate={ template }\n\t\t\t\t\t\t\t\tonClose={ onClose }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\tisDestructive\n\t\t\t\t\t\t\t\tisTertiary\n\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\tremoveTemplate( template );\n\t\t\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'Delete' ) }\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) }\n\t\t\t\t\t{ isRevertable && (\n\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\tinfo={ __( 'Restore to default state' ) }\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\trevertAndSaveTemplate();\n\t\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Clear customizations' ) }\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t) }\n\t\t\t\t</MenuGroup>\n\t\t\t) }\n\t\t</DropdownMenu>\n\t);\n}\n","/**\n * Check if a template is removable.\n *\n * @param {Object} template The template entity to check.\n * @return {boolean} Whether the template is revertable.\n */\nexport default function isTemplateRemovable( template ) {\n\tif ( ! template ) {\n\t\treturn false;\n\t}\n\n\treturn template.source === 'custom' && ! template.has_theme_file;\n}\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst plugins = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M10.5 4v4h3V4H15v4h1.5a1 1 0 011 1v4l-3 4v2a1 1 0 01-1 1h-3a1 1 0 01-1-1v-2l-3-4V9a1 1 0 011-1H9V4h1.5zm.5 12.5v2h2v-2l3-4v-3H8v3l3 4z\" />\n\t</SVG>\n);\n\nexport default plugins;\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nconst commentAuthorAvatar = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path\n\t\t\tfillRule=\"evenodd\"\n\t\t\td=\"M7.25 16.437a6.5 6.5 0 1 1 9.5 0V16A2.75 2.75 0 0 0 14 13.25h-4A2.75 2.75 0 0 0 7.25 16v.437Zm1.5 1.193a6.47 6.47 0 0 0 3.25.87 6.47 6.47 0 0 0 3.25-.87V16c0-.69-.56-1.25-1.25-1.25h-4c-.69 0-1.25.56-1.25 1.25v1.63ZM4 12a8 8 0 1 1 16 0 8 8 0 0 1-16 0Zm10-2a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z\"\n\t\t\tclipRule=\"evenodd\"\n\t\t/>\n\t</SVG>\n);\n\nexport default commentAuthorAvatar;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst globe = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M12 3.3c-4.8 0-8.8 3.9-8.8 8.8 0 4.8 3.9 8.8 8.8 8.8 4.8 0 8.8-3.9 8.8-8.8s-4-8.8-8.8-8.8zm6.5 5.5h-2.6C15.4 7.3 14.8 6 14 5c2 .6 3.6 2 4.5 3.8zm.7 3.2c0 .6-.1 1.2-.2 1.8h-2.9c.1-.6.1-1.2.1-1.8s-.1-1.2-.1-1.8H19c.2.6.2 1.2.2 1.8zM12 18.7c-1-.7-1.8-1.9-2.3-3.5h4.6c-.5 1.6-1.3 2.9-2.3 3.5zm-2.6-4.9c-.1-.6-.1-1.1-.1-1.8 0-.6.1-1.2.1-1.8h5.2c.1.6.1 1.1.1 1.8s-.1 1.2-.1 1.8H9.4zM4.8 12c0-.6.1-1.2.2-1.8h2.9c-.1.6-.1 1.2-.1 1.8 0 .6.1 1.2.1 1.8H5c-.2-.6-.2-1.2-.2-1.8zM12 5.3c1 .7 1.8 1.9 2.3 3.5H9.7c.5-1.6 1.3-2.9 2.3-3.5zM10 5c-.8 1-1.4 2.3-1.8 3.8H5.5C6.4 7 8 5.6 10 5zM5.5 15.3h2.6c.4 1.5 1 2.8 1.8 3.7-1.8-.6-3.5-2-4.4-3.7zM14 19c.8-1 1.4-2.2 1.8-3.7h2.6C17.6 17 16 18.4 14 19z\" />\n\t</SVG>\n);\n\nexport default globe;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalHStack as HStack,\n\tIcon,\n\tTooltip,\n} from '@wordpress/components';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useSelect } from '@wordpress/data';\nimport { useState } from '@wordpress/element';\nimport {\n\tcommentAuthorAvatar as authorIcon,\n\tlayout as themeIcon,\n\tplugins as pluginIcon,\n\tglobe as globeIcon,\n} from '@wordpress/icons';\nimport { __ } from '@wordpress/i18n';\n\nconst TEMPLATE_POST_TYPE_NAMES = [ 'wp_template', 'wp_template_part' ];\n\nfunction CustomizedTooltip( { isCustomized, children } ) {\n\tif ( ! isCustomized ) {\n\t\treturn children;\n\t}\n\n\treturn (\n\t\t<Tooltip text={ __( 'This template has been customized' ) }>\n\t\t\t{ children }\n\t\t</Tooltip>\n\t);\n}\n\nfunction BaseAddedBy( { text, icon, imageUrl, isCustomized } ) {\n\tconst [ isImageLoaded, setIsImageLoaded ] = useState( false );\n\n\treturn (\n\t\t<HStack alignment=\"left\">\n\t\t\t<CustomizedTooltip isCustomized={ isCustomized }>\n\t\t\t\t{ imageUrl ? (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t\t'edit-site-list-added-by__avatar',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t'is-loaded': isImageLoaded,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t) }\n\t\t\t\t\t>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tonLoad={ () => setIsImageLoaded( true ) }\n\t\t\t\t\t\t\talt=\"\"\n\t\t\t\t\t\t\tsrc={ imageUrl }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t\t'edit-site-list-added-by__icon',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t'is-customized': isCustomized,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t) }\n\t\t\t\t\t>\n\t\t\t\t\t\t<Icon icon={ icon } />\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t</CustomizedTooltip>\n\t\t\t<span>{ text }</span>\n\t\t</HStack>\n\t);\n}\n\nfunction AddedByTheme( { slug, isCustomized } ) {\n\tconst theme = useSelect(\n\t\t( select ) => select( coreStore ).getTheme( slug ),\n\t\t[ slug ]\n\t);\n\n\treturn (\n\t\t<BaseAddedBy\n\t\t\ticon={ themeIcon }\n\t\t\ttext={ theme?.name?.rendered || slug }\n\t\t\tisCustomized={ isCustomized }\n\t\t/>\n\t);\n}\n\nfunction AddedByPlugin( { slug, isCustomized } ) {\n\tconst plugin = useSelect(\n\t\t( select ) => select( coreStore ).getPlugin( slug ),\n\t\t[ slug ]\n\t);\n\n\treturn (\n\t\t<BaseAddedBy\n\t\t\ticon={ pluginIcon }\n\t\t\ttext={ plugin?.name || slug }\n\t\t\tisCustomized={ isCustomized }\n\t\t/>\n\t);\n}\n\nfunction AddedByAuthor( { id } ) {\n\tconst user = useSelect( ( select ) => select( coreStore ).getUser( id ), [\n\t\tid,\n\t] );\n\n\treturn (\n\t\t<BaseAddedBy\n\t\t\ticon={ authorIcon }\n\t\t\timageUrl={ user?.avatar_urls?.[ 48 ] }\n\t\t\ttext={ user?.nickname }\n\t\t/>\n\t);\n}\n\nfunction AddedBySite() {\n\tconst { name, logoURL } = useSelect( ( select ) => {\n\t\tconst { getEntityRecord, getMedia } = select( coreStore );\n\t\tconst siteData = getEntityRecord( 'root', '__unstableBase' );\n\n\t\treturn {\n\t\t\tname: siteData?.name,\n\t\t\tlogoURL: siteData?.site_logo\n\t\t\t\t? getMedia( siteData.site_logo )?.source_url\n\t\t\t\t: undefined,\n\t\t};\n\t}, [] );\n\n\treturn (\n\t\t<BaseAddedBy icon={ globeIcon } imageUrl={ logoURL } text={ name } />\n\t);\n}\n\nexport default function AddedBy( { templateType, template } ) {\n\tif ( ! template ) {\n\t\treturn;\n\t}\n\n\tif ( TEMPLATE_POST_TYPE_NAMES.includes( templateType ) ) {\n\t\t// Template originally provided by a theme, but customized by a user.\n\t\t// Templates originally didn't have the 'origin' field so identify\n\t\t// older customized templates by checking for no origin and a 'theme'\n\t\t// or 'custom' source.\n\t\tif (\n\t\t\ttemplate.has_theme_file &&\n\t\t\t( template.origin === 'theme' ||\n\t\t\t\t( ! template.origin &&\n\t\t\t\t\t[ 'theme', 'custom' ].includes( template.source ) ) )\n\t\t) {\n\t\t\treturn (\n\t\t\t\t<AddedByTheme\n\t\t\t\t\tslug={ template.theme }\n\t\t\t\t\tisCustomized={ template.source === 'custom' }\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\t// Template originally provided by a plugin, but customized by a user.\n\t\tif ( template.has_theme_file && template.origin === 'plugin' ) {\n\t\t\treturn (\n\t\t\t\t<AddedByPlugin\n\t\t\t\t\tslug={ template.theme }\n\t\t\t\t\tisCustomized={ template.source === 'custom' }\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\t// Template was created from scratch, but has no author. Author support\n\t\t// was only added to templates in WordPress 5.9. Fallback to showing the\n\t\t// site logo and title.\n\t\tif (\n\t\t\t! template.has_theme_file &&\n\t\t\ttemplate.source === 'custom' &&\n\t\t\t! template.author\n\t\t) {\n\t\t\treturn <AddedBySite />;\n\t\t}\n\t}\n\n\t// Simply show the author for templates created from scratch that have an\n\t// author or for any other post type.\n\treturn <AddedByAuthor id={ template.author } />;\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { __, sprintf } from '@wordpress/i18n';\nimport {\n\tVisuallyHidden,\n\t__experimentalHeading as Heading,\n} from '@wordpress/components';\nimport { decodeEntities } from '@wordpress/html-entities';\n\n/**\n * Internal dependencies\n */\nimport Link from '../routes/link';\nimport Actions from './actions';\nimport AddedBy from './added-by';\n\nexport default function Table( { templateType } ) {\n\tconst { templates, isLoading, postType } = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\tgetEntityRecords,\n\t\t\t\thasFinishedResolution,\n\t\t\t\tgetPostType,\n\t\t\t} = select( coreStore );\n\n\t\t\treturn {\n\t\t\t\ttemplates: getEntityRecords( 'postType', templateType, {\n\t\t\t\t\tper_page: -1,\n\t\t\t\t} ),\n\t\t\t\tisLoading: ! hasFinishedResolution( 'getEntityRecords', [\n\t\t\t\t\t'postType',\n\t\t\t\t\ttemplateType,\n\t\t\t\t\t{ per_page: -1 },\n\t\t\t\t] ),\n\t\t\t\tpostType: getPostType( templateType ),\n\t\t\t};\n\t\t},\n\t\t[ templateType ]\n\t);\n\n\tif ( ! templates || isLoading ) {\n\t\treturn null;\n\t}\n\n\tif ( ! templates.length ) {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{ sprintf(\n\t\t\t\t\t// translators: The template type name, should be either \"templates\" or \"template parts\".\n\t\t\t\t\t__( 'No %s found.' ),\n\t\t\t\t\tpostType?.labels?.name?.toLowerCase()\n\t\t\t\t) }\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn (\n\t\t// These explicit aria roles are needed for Safari.\n\t\t// See https://developer.mozilla.org/en-US/docs/Web/CSS/display#tables\n\t\t<table className=\"edit-site-list-table\" role=\"table\">\n\t\t\t<thead>\n\t\t\t\t<tr className=\"edit-site-list-table-head\" role=\"row\">\n\t\t\t\t\t<th\n\t\t\t\t\t\tclassName=\"edit-site-list-table-column\"\n\t\t\t\t\t\trole=\"columnheader\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Template' ) }\n\t\t\t\t\t</th>\n\t\t\t\t\t<th\n\t\t\t\t\t\tclassName=\"edit-site-list-table-column\"\n\t\t\t\t\t\trole=\"columnheader\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Added by' ) }\n\t\t\t\t\t</th>\n\t\t\t\t\t<th\n\t\t\t\t\t\tclassName=\"edit-site-list-table-column\"\n\t\t\t\t\t\trole=\"columnheader\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<VisuallyHidden>{ __( 'Actions' ) }</VisuallyHidden>\n\t\t\t\t\t</th>\n\t\t\t\t</tr>\n\t\t\t</thead>\n\n\t\t\t<tbody>\n\t\t\t\t{ templates.map( ( template ) => (\n\t\t\t\t\t<tr\n\t\t\t\t\t\tkey={ template.id }\n\t\t\t\t\t\tclassName=\"edit-site-list-table-row\"\n\t\t\t\t\t\trole=\"row\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<td className=\"edit-site-list-table-column\" role=\"cell\">\n\t\t\t\t\t\t\t<Heading level={ 4 }>\n\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\tparams={ {\n\t\t\t\t\t\t\t\t\t\tpostId: template.id,\n\t\t\t\t\t\t\t\t\t\tpostType: template.type,\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ decodeEntities(\n\t\t\t\t\t\t\t\t\t\ttemplate.title?.rendered ||\n\t\t\t\t\t\t\t\t\t\t\ttemplate.slug\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</Heading>\n\t\t\t\t\t\t\t{ template.description }\n\t\t\t\t\t\t</td>\n\n\t\t\t\t\t\t<td className=\"edit-site-list-table-column\" role=\"cell\">\n\t\t\t\t\t\t\t<AddedBy\n\t\t\t\t\t\t\t\ttemplateType={ templateType }\n\t\t\t\t\t\t\t\ttemplate={ template }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td className=\"edit-site-list-table-column\" role=\"cell\">\n\t\t\t\t\t\t\t<Actions template={ template } />\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t) ) }\n\t\t\t</tbody>\n\t\t</table>\n\t);\n}\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useSelect } from '@wordpress/data';\nimport { InterfaceSkeleton } from '@wordpress/interface';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { store as keyboardShortcutsStore } from '@wordpress/keyboard-shortcuts';\nimport { EditorSnackbars } from '@wordpress/editor';\n\n/**\n * Internal dependencies\n */\nimport useRegisterShortcuts from './use-register-shortcuts';\nimport Header from './header';\nimport NavigationSidebar from '../navigation-sidebar';\nimport Table from './table';\nimport { store as editSiteStore } from '../../store';\nimport { useLocation } from '../routes';\nimport useTitle from '../routes/use-title';\n\nexport default function List() {\n\tconst {\n\t\tparams: { postType: templateType },\n\t} = useLocation();\n\n\tuseRegisterShortcuts();\n\n\tconst { previousShortcut, nextShortcut, isNavigationOpen } = useSelect(\n\t\t( select ) => {\n\t\t\treturn {\n\t\t\t\tpreviousShortcut: select(\n\t\t\t\t\tkeyboardShortcutsStore\n\t\t\t\t).getAllShortcutKeyCombinations(\n\t\t\t\t\t'core/edit-site/previous-region'\n\t\t\t\t),\n\t\t\t\tnextShortcut: select(\n\t\t\t\t\tkeyboardShortcutsStore\n\t\t\t\t).getAllShortcutKeyCombinations( 'core/edit-site/next-region' ),\n\t\t\t\tisNavigationOpen: select( editSiteStore ).isNavigationOpened(),\n\t\t\t};\n\t\t},\n\t\t[]\n\t);\n\n\tconst postType = useSelect(\n\t\t( select ) => select( coreStore ).getPostType( templateType ),\n\t\t[ templateType ]\n\t);\n\n\tuseTitle( postType?.labels?.name );\n\n\t// `postType` could load in asynchronously. Only provide the detailed region labels if\n\t// the postType has loaded, otherwise `InterfaceSkeleton` will fallback to the defaults.\n\tconst itemsListLabel = postType?.labels?.items_list;\n\tconst detailedRegionLabels = postType\n\t\t? {\n\t\t\t\theader: sprintf(\n\t\t\t\t\t// translators: %s - the name of the page, 'Header' as in the header area of that page.\n\t\t\t\t\t__( '%s - Header' ),\n\t\t\t\t\titemsListLabel\n\t\t\t\t),\n\t\t\t\tbody: sprintf(\n\t\t\t\t\t// translators: %s - the name of the page, 'Content' as in the content area of that page.\n\t\t\t\t\t__( '%s - Content' ),\n\t\t\t\t\titemsListLabel\n\t\t\t\t),\n\t\t  }\n\t\t: undefined;\n\n\treturn (\n\t\t<InterfaceSkeleton\n\t\t\tclassName={ classnames( 'edit-site-list', {\n\t\t\t\t'is-navigation-open': isNavigationOpen,\n\t\t\t} ) }\n\t\t\tlabels={ {\n\t\t\t\tdrawer: __( 'Navigation Sidebar' ),\n\t\t\t\t...detailedRegionLabels,\n\t\t\t} }\n\t\t\theader={ <Header templateType={ templateType } /> }\n\t\t\tdrawer={ <NavigationSidebar.Slot /> }\n\t\t\tnotices={ <EditorSnackbars /> }\n\t\t\tcontent={ <Table templateType={ templateType } /> }\n\t\t\tshortcuts={ {\n\t\t\t\tprevious: previousShortcut,\n\t\t\t\tnext: nextShortcut,\n\t\t\t} }\n\t\t/>\n\t);\n}\n","/**\n * WordPress dependencies\n */\n\nimport { useDispatch } from '@wordpress/data';\nimport { useEffect } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { store as keyboardShortcutsStore } from '@wordpress/keyboard-shortcuts';\n\nexport default function useRegisterShortcuts() {\n\tconst { registerShortcut } = useDispatch( keyboardShortcutsStore );\n\tuseEffect( () => {\n\t\tregisterShortcut( {\n\t\t\tname: 'core/edit-site/next-region',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Navigate to the next part of the editor.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'ctrl',\n\t\t\t\tcharacter: '`',\n\t\t\t},\n\t\t\taliases: [\n\t\t\t\t{\n\t\t\t\t\tmodifier: 'access',\n\t\t\t\t\tcharacter: 'n',\n\t\t\t\t},\n\t\t\t],\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/edit-site/previous-region',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Navigate to the previous part of the editor.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'ctrlShift',\n\t\t\t\tcharacter: '`',\n\t\t\t},\n\t\t\taliases: [\n\t\t\t\t{\n\t\t\t\t\tmodifier: 'access',\n\t\t\t\t\tcharacter: 'p',\n\t\t\t\t},\n\t\t\t],\n\t\t} );\n\t}, [] );\n}\n","/**\n * Returns if the params match the list page route.\n *\n * @param {Object} params          The search params.\n * @param {string} params.postId   The post ID.\n * @param {string} params.postType The post type.\n * @return {boolean} Is list page or not.\n */\nexport default function getIsListPage( { postId, postType } ) {\n\treturn !! ( ! postId && postType );\n}\n","/**\n * WordPress dependencies\n */\nimport { SlotFillProvider } from '@wordpress/components';\nimport { UnsavedChangesWarning } from '@wordpress/editor';\n\n/**\n * Internal dependencies\n */\nimport { Routes } from '../routes';\nimport Editor from '../editor';\nimport List from '../list';\nimport NavigationSidebar from '../navigation-sidebar';\nimport getIsListPage from '../../utils/get-is-list-page';\n\nexport default function EditSiteApp( { reboot } ) {\n\treturn (\n\t\t<SlotFillProvider>\n\t\t\t<UnsavedChangesWarning />\n\n\t\t\t<Routes>\n\t\t\t\t{ ( { params } ) => {\n\t\t\t\t\tconst isListPage = getIsListPage( params );\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{ isListPage ? (\n\t\t\t\t\t\t\t\t<List />\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<Editor onError={ reboot } />\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t{ /* Keep the instance of the sidebar to ensure focus will not be lost\n\t\t\t\t\t\t\t * when navigating to other pages. */ }\n\t\t\t\t\t\t\t<NavigationSidebar\n\t\t\t\t\t\t\t\t// Open the navigation sidebar by default when in the list page.\n\t\t\t\t\t\t\t\tisDefaultOpen={ !! isListPage }\n\t\t\t\t\t\t\t\tactiveTemplateType={\n\t\t\t\t\t\t\t\t\tisListPage ? params.postType : undefined\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</>\n\t\t\t\t\t);\n\t\t\t\t} }\n\t\t\t</Routes>\n\t\t</SlotFillProvider>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { ComplementaryArea } from '@wordpress/interface';\n\n/**\n * Renders a sidebar when activated. The contents within the `PluginSidebar` will appear as content within the sidebar.\n * It also automatically renders a corresponding `PluginSidebarMenuItem` component when `isPinnable` flag is set to `true`.\n * If you wish to display the sidebar, you can with use the `PluginSidebarMoreMenuItem` component or the `wp.data.dispatch` API:\n *\n * ```js\n * wp.data.dispatch( 'core/edit-site' ).openGeneralSidebar( 'plugin-name/sidebar-name' );\n * ```\n *\n * @see PluginSidebarMoreMenuItem\n *\n * @param {Object}                props                                 Element props.\n * @param {string}                props.name                            A string identifying the sidebar. Must be unique for every sidebar registered within the scope of your plugin.\n * @param {string}                [props.className]                     An optional class name added to the sidebar body.\n * @param {string}                props.title                           Title displayed at the top of the sidebar.\n * @param {boolean}               [props.isPinnable=true]               Whether to allow to pin sidebar to the toolbar. When set to `true` it also automatically renders a corresponding menu item.\n * @param {WPBlockTypeIconRender} [props.icon=inherits from the plugin] The [Dashicon](https://developer.wordpress.org/resource/dashicons/) icon slug string, or an SVG WP element, to be rendered when the sidebar is pinned to toolbar.\n *\n * @example\n * ```js\n * // Using ES5 syntax\n * var __ = wp.i18n.__;\n * var el = wp.element.createElement;\n * var PanelBody = wp.components.PanelBody;\n * var PluginSidebar = wp.editSite.PluginSidebar;\n * var moreIcon = wp.element.createElement( 'svg' ); //... svg element.\n *\n * function MyPluginSidebar() {\n * \treturn el(\n * \t\t\tPluginSidebar,\n * \t\t\t{\n * \t\t\t\tname: 'my-sidebar',\n * \t\t\t\ttitle: 'My sidebar title',\n * \t\t\t\ticon: moreIcon,\n * \t\t\t},\n * \t\t\tel(\n * \t\t\t\tPanelBody,\n * \t\t\t\t{},\n * \t\t\t\t__( 'My sidebar content' )\n * \t\t\t)\n * \t);\n * }\n * ```\n *\n * @example\n * ```jsx\n * // Using ESNext syntax\n * import { __ } from '@wordpress/i18n';\n * import { PanelBody } from '@wordpress/components';\n * import { PluginSidebar } from '@wordpress/edit-site';\n * import { more } from '@wordpress/icons';\n *\n * const MyPluginSidebar = () => (\n * \t<PluginSidebar\n * \t\tname=\"my-sidebar\"\n * \t\ttitle=\"My sidebar title\"\n * \t\ticon={ more }\n * \t>\n * \t\t<PanelBody>\n * \t\t\t{ __( 'My sidebar content' ) }\n * \t\t</PanelBody>\n * \t</PluginSidebar>\n * );\n * ```\n */\nexport default function PluginSidebarEditSite( { className, ...props } ) {\n\treturn (\n\t\t<ComplementaryArea\n\t\t\tpanelClassName={ className }\n\t\t\tclassName=\"edit-site-sidebar\"\n\t\t\tscope=\"core/edit-site\"\n\t\t\t{ ...props }\n\t\t/>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { ComplementaryAreaMoreMenuItem } from '@wordpress/interface';\n\n/**\n * Renders a menu item in `Plugins` group in `More Menu` drop down,\n * and can be used to activate the corresponding `PluginSidebar` component.\n * The text within the component appears as the menu item label.\n *\n * @param {Object}                props                                 Component props.\n * @param {string}                props.target                          A string identifying the target sidebar you wish to be activated by this menu item. Must be the same as the `name` prop you have given to that sidebar.\n * @param {WPBlockTypeIconRender} [props.icon=inherits from the plugin] The [Dashicon](https://developer.wordpress.org/resource/dashicons/) icon slug string, or an SVG WP element, to be rendered to the left of the menu item label.\n *\n * @example\n * ```js\n * // Using ES5 syntax\n * var __ = wp.i18n.__;\n * var PluginSidebarMoreMenuItem = wp.editSite.PluginSidebarMoreMenuItem;\n * var moreIcon = wp.element.createElement( 'svg' ); //... svg element.\n *\n * function MySidebarMoreMenuItem() {\n * \treturn wp.element.createElement(\n * \t\tPluginSidebarMoreMenuItem,\n * \t\t{\n * \t\t\ttarget: 'my-sidebar',\n * \t\t\ticon: moreIcon,\n * \t\t},\n * \t\t__( 'My sidebar title' )\n * \t)\n * }\n * ```\n *\n * @example\n * ```jsx\n * // Using ESNext syntax\n * import { __ } from '@wordpress/i18n';\n * import { PluginSidebarMoreMenuItem } from '@wordpress/edit-site';\n * import { more } from '@wordpress/icons';\n *\n * const MySidebarMoreMenuItem = () => (\n * \t<PluginSidebarMoreMenuItem\n * \t\ttarget=\"my-sidebar\"\n * \t\ticon={ more }\n * \t>\n * \t\t{ __( 'My sidebar title' ) }\n * \t</PluginSidebarMoreMenuItem>\n * );\n * ```\n *\n * @return {WPComponent} The component to be rendered.\n */\n\nexport default function PluginSidebarMoreMenuItem( props ) {\n\treturn (\n\t\t<ComplementaryAreaMoreMenuItem\n\t\t\t// Menu item is marked with unstable prop for backward compatibility.\n\t\t\t// @see https://github.com/WordPress/gutenberg/issues/14457\n\t\t\t__unstableExplicitMenuItem\n\t\t\tscope=\"core/edit-site\"\n\t\t\t{ ...props }\n\t\t/>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { ActionItem } from '@wordpress/interface';\nimport { compose } from '@wordpress/compose';\nimport { withPluginContext } from '@wordpress/plugins';\n\n/**\n * Renders a menu item in `Plugins` group in `More Menu` drop down, and can be used to as a button or link depending on the props provided.\n * The text within the component appears as the menu item label.\n *\n * @param {Object}                props                                 Component properties.\n * @param {string}                [props.href]                          When `href` is provided then the menu item is represented as an anchor rather than button. It corresponds to the `href` attribute of the anchor.\n * @param {WPBlockTypeIconRender} [props.icon=inherits from the plugin] The [Dashicon](https://developer.wordpress.org/resource/dashicons/) icon slug string, or an SVG WP element, to be rendered to the left of the menu item label.\n * @param {Function}              [props.onClick=noop]                  The callback function to be executed when the user clicks the menu item.\n * @param {...*}                  [props.other]                         Any additional props are passed through to the underlying [Button](/packages/components/src/button/README.md) component.\n *\n * @example\n * ```js\n * // Using ES5 syntax\n * var __ = wp.i18n.__;\n * var PluginMoreMenuItem = wp.editSite.PluginMoreMenuItem;\n * var moreIcon = wp.element.createElement( 'svg' ); //... svg element.\n *\n * function onButtonClick() {\n * \talert( 'Button clicked.' );\n * }\n *\n * function MyButtonMoreMenuItem() {\n * \treturn wp.element.createElement(\n * \t\tPluginMoreMenuItem,\n * \t\t{\n * \t\t\ticon: moreIcon,\n * \t\t\tonClick: onButtonClick,\n * \t\t},\n * \t\t__( 'My button title' )\n * \t);\n * }\n * ```\n *\n * @example\n * ```jsx\n * // Using ESNext syntax\n * import { __ } from '@wordpress/i18n';\n * import { PluginMoreMenuItem } from '@wordpress/edit-site';\n * import { more } from '@wordpress/icons';\n *\n * function onButtonClick() {\n * \talert( 'Button clicked.' );\n * }\n *\n * const MyButtonMoreMenuItem = () => (\n * \t<PluginMoreMenuItem\n * \t\ticon={ more }\n * \t\tonClick={ onButtonClick }\n * \t>\n * \t\t{ __( 'My button title' ) }\n * \t</PluginMoreMenuItem>\n * );\n * ```\n *\n * @return {WPComponent} The component to be rendered.\n */\nexport default compose(\n\twithPluginContext( ( context, ownProps ) => {\n\t\treturn {\n\t\t\ticon: ownProps.icon || context.icon,\n\t\t\tname: 'core/edit-site/plugin-more-menu',\n\t\t};\n\t} )\n)( ActionItem );\n","/**\n * WordPress dependencies\n */\nimport { store as blocksStore } from '@wordpress/blocks';\nimport {\n\tregisterCoreBlocks,\n\t__experimentalRegisterExperimentalCoreBlocks,\n} from '@wordpress/block-library';\nimport { dispatch, select } from '@wordpress/data';\nimport { render, unmountComponentAtNode } from '@wordpress/element';\nimport {\n\t__experimentalFetchLinkSuggestions as fetchLinkSuggestions,\n\t__experimentalFetchUrlData as fetchUrlData,\n} from '@wordpress/core-data';\nimport { store as editorStore } from '@wordpress/editor';\nimport { __ } from '@wordpress/i18n';\nimport { store as viewportStore } from '@wordpress/viewport';\nimport { getQueryArgs } from '@wordpress/url';\n\n/**\n * Internal dependencies\n */\nimport './hooks';\nimport { store as editSiteStore } from './store';\nimport EditSiteApp from './components/app';\nimport getIsListPage from './utils/get-is-list-page';\nimport redirectToHomepage from './components/routes/redirect-to-homepage';\nimport ErrorBoundaryWarning from './components/error-boundary/warning';\n\n/**\n * Reinitializes the editor after the user chooses to reboot the editor after\n * an unhandled error occurs, replacing previously mounted editor element using\n * an initial state from prior to the crash.\n *\n * @param {Element} target   DOM node in which editor is rendered.\n * @param {?Object} settings Editor settings object.\n */\nexport async function reinitializeEditor( target, settings ) {\n\t// The site editor relies on `postType` and `postId` params in the URL to\n\t// define what's being edited. When visiting via the dashboard link, these\n\t// won't be present. Do a client side redirect to the 'homepage' if that's\n\t// the case.\n\ttry {\n\t\tawait redirectToHomepage( settings.siteUrl );\n\t} catch ( error ) {\n\t\trender(\n\t\t\t<ErrorBoundaryWarning\n\t\t\t\tmessage={ __(\n\t\t\t\t\t'The editor is unable to find a block template for the homepage.'\n\t\t\t\t) }\n\t\t\t\terror={ error }\n\t\t\t\tdashboardLink=\"index.php\"\n\t\t\t/>,\n\t\t\ttarget\n\t\t);\n\t\treturn;\n\t}\n\n\t// This will be a no-op if the target doesn't have any React nodes.\n\tunmountComponentAtNode( target );\n\tconst reboot = reinitializeEditor.bind( null, target, settings );\n\n\t// We dispatch actions and update the store synchronously before rendering\n\t// so that we won't trigger unnecessary re-renders with useEffect.\n\t{\n\t\tdispatch( editSiteStore ).updateSettings( settings );\n\n\t\t// Keep the defaultTemplateTypes in the core/editor settings too,\n\t\t// so that they can be selected with core/editor selectors in any editor.\n\t\t// This is needed because edit-site doesn't initialize with EditorProvider,\n\t\t// which internally uses updateEditorSettings as well.\n\t\tdispatch( editorStore ).updateEditorSettings( {\n\t\t\tdefaultTemplateTypes: settings.defaultTemplateTypes,\n\t\t\tdefaultTemplatePartAreas: settings.defaultTemplatePartAreas,\n\t\t} );\n\n\t\tconst isLandingOnListPage = getIsListPage(\n\t\t\tgetQueryArgs( window.location.href )\n\t\t);\n\n\t\tif ( isLandingOnListPage ) {\n\t\t\t// Default the navigation panel to be opened when we're in a bigger\n\t\t\t// screen and land in the list screen.\n\t\t\tdispatch( editSiteStore ).setIsNavigationPanelOpened(\n\t\t\t\tselect( viewportStore ).isViewportMatch( 'medium' )\n\t\t\t);\n\t\t}\n\t}\n\n\trender( <EditSiteApp reboot={ reboot } />, target );\n}\n\n/**\n * Initializes the site editor screen.\n *\n * @param {string} id       ID of the root element to render the screen in.\n * @param {Object} settings Editor settings.\n */\nexport function initializeEditor( id, settings ) {\n\tsettings.__experimentalFetchLinkSuggestions = ( search, searchOptions ) =>\n\t\tfetchLinkSuggestions( search, searchOptions, settings );\n\tsettings.__experimentalFetchRichUrlData = fetchUrlData;\n\tsettings.__experimentalSpotlightEntityBlocks = [ 'core/template-part' ];\n\n\tconst target = document.getElementById( id );\n\n\tdispatch( blocksStore ).__experimentalReapplyBlockTypeFilters();\n\tregisterCoreBlocks();\n\tif ( process.env.IS_GUTENBERG_PLUGIN ) {\n\t\t__experimentalRegisterExperimentalCoreBlocks( {\n\t\t\tenableFSEBlocks: true,\n\t\t} );\n\t}\n\n\treinitializeEditor( target, settings );\n}\n\nexport { default as __experimentalMainDashboardButton } from './components/main-dashboard-button';\nexport { default as __experimentalNavigationToggle } from './components/navigation-sidebar/navigation-toggle';\nexport { default as PluginSidebar } from './components/sidebar/plugin-sidebar';\nexport { default as PluginSidebarMoreMenuItem } from './components/header/plugin-sidebar-more-menu-item';\nexport { default as PluginMoreMenuItem } from './components/header/plugin-more-menu-item';\n","/**\n * WordPress dependencies\n */\nimport apiFetch from '@wordpress/api-fetch';\nimport { addQueryArgs } from '@wordpress/url';\n\n/**\n * Internal dependencies\n */\nimport history from '../../utils/history';\nimport getIsListPage from '../../utils/get-is-list-page';\n\nfunction getNeedsHomepageRedirect( params ) {\n\tconst { postType } = params;\n\treturn (\n\t\t! getIsListPage( params ) &&\n\t\t! [ 'post', 'page', 'wp_template', 'wp_template_part' ].includes(\n\t\t\tpostType\n\t\t)\n\t);\n}\n\n/**\n * Returns the postType and postId of the default homepage.\n *\n * @param {string} siteUrl The URL of the site.\n * @return {Object} An object containing the postType and postId properties\n *                  or `undefined` if a homepage could not be found.\n */\nasync function getHomepageParams( siteUrl ) {\n\tconst siteSettings = await apiFetch( { path: '/wp/v2/settings' } );\n\tif ( ! siteSettings ) {\n\t\tthrow new Error( '`getHomepageParams`: unable to load site settings.' );\n\t}\n\n\tconst {\n\t\tshow_on_front: showOnFront,\n\t\tpage_on_front: frontpageId,\n\t} = siteSettings;\n\n\t// If the user has set a page as the homepage, use those details.\n\tif ( showOnFront === 'page' ) {\n\t\treturn {\n\t\t\tpostType: 'page',\n\t\t\tpostId: frontpageId,\n\t\t};\n\t}\n\n\t// Else get the home template.\n\t// This matches the logic in `__experimentalGetTemplateForLink`.\n\t// (packages/core-data/src/resolvers.js)\n\tconst template = await window\n\t\t.fetch( addQueryArgs( siteUrl, { '_wp-find-template': true } ) )\n\t\t.then( ( response ) => {\n\t\t\tif ( ! response.ok ) {\n\t\t\t\tthrow new Error(\n\t\t\t\t\t`\\`getHomepageParams\\`: HTTP status error, ${ response.status } ${ response.statusText }`\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn response.json();\n\t\t} )\n\t\t.then( ( { data } ) => {\n\t\t\tif ( data.message ) {\n\t\t\t\tthrow new Error(\n\t\t\t\t\t`\\`getHomepageParams\\`: REST API error, ${ data.message }`\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn data;\n\t\t} );\n\n\tif ( ! template?.id ) {\n\t\tthrow new Error( '`getHomepageParams`: unable to find home template.' );\n\t}\n\n\treturn {\n\t\tpostType: 'wp_template',\n\t\tpostId: template.id,\n\t};\n}\n\nexport default async function redirectToHomepage( siteUrl ) {\n\tconst searchParams = new URLSearchParams( history.location.search );\n\tconst params = Object.fromEntries( searchParams.entries() );\n\n\tif ( getNeedsHomepageRedirect( params ) ) {\n\t\tconst homepageParams = await getHomepageParams( siteUrl );\n\n\t\tif ( homepageParams ) {\n\t\t\thistory.replace( homepageParams );\n\t\t}\n\t}\n}\n"],"names":["module","exports","keys","values","map","Map","has","key","indexOf","get","set","value","push","delete","index","splice","createEvent","name","Event","bubbles","e","evt","document","initEvent","assign","ta","nodeName","heightOffset","clientWidth","cachedHeight","pageResize","update","destroy","style","window","removeEventListener","Object","forEach","bind","height","resize","overflowY","overflowX","wordWrap","addEventListener","getComputedStyle","boxSizing","parseFloat","paddingTop","paddingBottom","borderTopWidth","borderBottomWidth","isNaN","changeOverflow","width","offsetWidth","scrollHeight","overflows","el","arr","parentNode","Element","scrollTop","node","getParentOverflows","docTop","documentElement","styleHeight","Math","round","computed","actualHeight","offsetHeight","dispatchEvent","err","methods","autosize","options","Array","prototype","call","length","x","default","hasOwn","hasOwnProperty","classNames","classes","i","arguments","arg","argType","isArray","inner","apply","toString","join","prop","currentStyle","replace","word","letter","toUpperCase","download","data","strFileName","strMimeType","blob","reader","self","defaultMime","mimeType","payload","url","anchor","createElement","a","String","myBlob","Blob","MozBlob","WebKitBlob","fileName","this","split","pop","href","ajax","XMLHttpRequest","open","responseType","onload","target","response","setTimeout","send","test","navigator","msSaveBlob","dataUrlToBlob","saver","type","tempUiArr","Uint8Array","mx","charCodeAt","strUrl","parts","binData","atob","decodeURIComponent","uiArr","winMode","setAttribute","className","innerHTML","display","body","appendChild","click","removeChild","URL","revokeObjectURL","userAgent","confirm","location","f","src","createObjectURL","constructor","btoa","y","encodeURIComponent","FileReader","result","readAsDataURL","computedStyle","lnHeightStr","lnHeight","_lnHeightStyle","lineHeight","_node","fontSizeStr","fontSize","padding","border","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","props","propName","componentName","propFullName","secret","Error","getShim","isRequired","ReactPropTypes","array","bool","func","number","object","string","symbol","any","arrayOf","element","elementType","instanceOf","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","extendStatics","__extends","setPrototypeOf","__proto__","d","b","p","__","create","__assign","t","s","n","__rest","getOwnPropertySymbols","__esModule","React","getLineHeight","RESIZED","TextareaAutosizeClass","_super","_this","state","textarea","onResize","updateLineHeight","setState","onChange","currentValue","currentTarget","componentDidMount","_a","maxRows","async","componentWillUnmount","render","_b","children","innerRef","maxHeight","ref","current","componentDidUpdate","defaultProps","rows","propTypes","Component","TextareaAutosize","forwardRef","TextareaAutosize_1","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","getter","definition","o","defineProperty","enumerable","obj","r","Symbol","toStringTag","addFilter","MediaUpload","PREFERENCES_DEFAULTS","features","welcomeGuide","welcomeGuideStyles","editorMode","STORE_NAME","TEMPLATE_PART_AREA_GENERAL","TEMPLATES_TOP_LEVEL","TEMPLATES_GENERAL","TEMPLATES_POSTS_PREFIXES","TEMPLATES_PAGES_PREFIXES","TEMPLATE_OVERRIDES","singular","home","MENU_ROOT","MENU_TEMPLATES","MENU_TEMPLATES_GENERAL","TEMPLATE_PARTS_SUB_MENUS","area","menu","title","preferences","combineReducers","action","feature","mode","deviceType","settings","editedPost","id","templateId","page","templatePartId","homeTemplateId","navigationPanel","isOpen","blockInserterPanel","listViewPanel","source","SVG","xmlns","viewBox","Path","fillRule","clipRule","preferenceDefaults","scope","defaults","featureName","enableItems","singleEnableItems","itemType","item","multipleEnableItems","isEnable","currentTypeState","currentScopeState","setSingleEnableItem","enableComplementaryArea","disableComplementaryArea","setMultipleEnableItem","pinItem","itemId","unpinItem","toggleFeature","select","dispatch","isFeatureActive","setFeatureValue","setFeatureDefaults","getActiveComplementaryArea","getSingleEnableItem","isItemPinned","isMultipleEnabledItemEnabled","featureValue","storeConfig","reducer","actions","selectors","persist","store","createReduxStore","registerStore","withPluginContext","context","ownProps","icon","identifier","complementaryAreaContext","as","Button","selectedIcon","ComponentToUse","isSelected","useSelect","interfaceStore","useDispatch","onClick","omit","smallScreenTitle","toggleButtonProps","toggleButton","closeSmall","classnames","tabIndex","ActionItem","Fill","fpOnClick","noop","Slot","ButtonGroup","fillProps","bubblesVirtually","fills","isEmpty","Children","initializedByPlugins","__unstableExplicitMenuItem","__unstableTarget","child","includes","PluginsMenuItem","MenuItem","ComplementaryAreaMoreMenuItem","toggleProps","role","check","PinnedItems","ComplementaryAreaFill","ComplementaryAreaWrapped","withComplementaryAreaContext","closeLabel","header","headerClassName","isPinnable","panelClassName","toggleShortcut","isActiveByDefault","showIconLabels","isActive","isPinned","activeArea","isSmall","isLarge","_activeArea","viewportStore","isViewportMatch","previousIsSmall","useRef","shouldOpenWhenNotSmall","useEffect","useAdjustComplementaryListener","isPressed","label","showTooltip","variant","onClose","shortcut","starFilled","starEmpty","Panel","footer","sidebar","secondarySidebar","notices","content","drawer","labels","shortcuts","navigateRegionsProps","useNavigateRegions","querySelector","classList","toggle","useHTMLClass","mergedLabels","useMergeRefs","isTemplateRevertable","template","has_theme_file","__experimentalSetPreviewDeviceType","setTemplate","templateSlug","registry","resolveSelect","coreStore","getEntityRecord","slug","addTemplate","newTemplate","saveEntityRecord","editEntityRecord","blocks","parse","undoIgnore","removeTemplate","deleteEntityRecord","force","lastError","getLastEntityDeleteError","noticesStore","createSuccessNotice","sprintf","rendered","error","errorMessage","message","code","createErrorNotice","setTemplatePart","setHomeTemplateId","setPage","path","postId","entity","postType","getPathAndQueryString","link","__experimentalGetTemplateForLink","setNavigationPanelActiveMenu","openNavigationPanelToMenu","setIsNavigationPanelOpened","setIsInserterOpened","updateSettings","setIsListViewOpened","revertTemplate","allowUndo","templateEntity","getEntity","fileTemplatePath","addQueryArgs","baseURL","fileTemplate","apiFetch","serializeBlocks","blocksForSerialization","__unstableSerializeAndClean","edited","getEditedEntityRecord","raw","undoRevert","openGeneralSidebar","editSiteStoreName","closeGeneralSidebar","switchEditorMode","blockEditorStore","clearSelectedBlock","speak","LEAF_KEY","hasWeakMap","createCache","cache","clear","head","isShallowEqual","fromIndex","isTemplateSuperseded","existingSlugs","showOnFront","every","overrideSlug","__experimentalGetPreviewDeviceType","WeakMap","getCanUserCreateMedia","createRegistrySelector","coreDataStore","canUser","getReusableBlocks","Platform","getEntityRecords","per_page","getSettings","selector","getDependants","rootCache","getCache","callSelector","args","dependants","len","isUniqueByDependants","lastDependants","prev","next","val","dependant","caches","createSelector","setIsInserterOpen","outlineMode","focusMode","hasFixedToolbar","__experimentalSetIsInserterOpened","__experimentalReusableBlocks","__experimentalPreferPatternsOnRoot","getEditedPostType","mediaUpload","onError","rest","uploadMedia","wpAllowedMimeTypes","allowedMimeTypes","getHomeTemplateId","getCurrentEditedPost","getEditedPostId","getPage","getNavigationPanelActiveMenu","getCurrentTemplateNavigationPanelSubMenu","templateType","find","submenu","templates","show_on_front","some","prefix","startsWith","isNavigationOpened","isInserterOpened","__experimentalGetInsertionPoint","rootClientId","insertionIndex","filterValue","isListViewOpened","getCurrentTemplateTemplateParts","templateParts","templatePartsById","keyBy","templatePart","filter","block","isTemplatePart","attributes","theme","getEditorMode","history","createBrowserHistory","originalHistoryPush","originalHistoryReplace","params","RoutesContext","createContext","HistoryContext","useLocation","useContext","useHistory","getLocationWithParams","searchParams","URLSearchParams","search","fromEntries","entries","Routes","setLocation","useState","updatedLocation","Provider","textFormattingShortcuts","keyCombination","modifier","character","description","KeyCombination","forceAriaLabel","displayShortcutList","ariaLabel","shortcutAriaLabel","castArray","Fragment","Shortcut","aliases","alias","DynamicShortcut","getShortcutKeyCombination","getShortcutDescription","getShortcutAliases","keyboardShortcutsStore","ShortcutList","isString","ShortcutSection","ShortcutCategorySection","categoryName","additionalShortcuts","categoryShortcuts","getCategoryShortcuts","concat","KeyboardShortcutHelpModal","isModalActive","toggleModal","Modal","onRequestClose","FeatureToggle","info","messageActivated","messageDeactivated","editSiteStore","flow","ToolsMoreMenuGroup","createSlotFill","SiteExport","downloadjs","errorResponse","json","_x","WelcomeGuideMenuItem","CopyContentMenuItem","createNotice","getText","record","useCopyToClipboard","isDismissible","MODES","getShortcutRepresentation","isRichEditingEnabled","richEditingEnabled","isCodeEditingEnabled","codeEditingEnabled","choices","choice","MenuGroup","MenuItemsChoice","onSelect","POPOVER_PROPS","position","TOGGLE_PROPS","tooltipPosition","MoreMenu","useReducer","useShortcut","DropdownMenu","moreVertical","popoverProps","displayShortcut","external","rel","VisuallyHidden","SaveButton","openEntitiesSavedStates","isEntitiesSavedStatesOpen","isDirty","isSaving","__experimentalGetDirtyEntityRecords","isSavingEntityRecord","dirtyEntityRecords","kind","disabled","isBusy","UndoButton","hasUndo","undo","isRTL","redoIcon","undoIcon","RedoButton","hasRedo","redo","getBlockDisplayText","blockType","getBlockType","getBlockLabel","DocumentActions","entityTitle","entityLabel","isLoaded","dropdownContent","getBlock","activeEntityBlockId","__experimentalGetActiveBlockIdByBlockNames","useSecondaryText","titleRef","size","Dropdown","anchorRef","renderToggle","onToggle","chevronDown","contentClassName","renderContent","useLink","shouldReplace","event","preventDefault","Link","TemplatePartItemMore","closeTemplateDetailsDropdown","editLinkProps","fromTemplateId","TemplatePartItem","clientId","selectBlock","toggleBlockHighlight","templatePartArea","editorStore","__experimentalGetDefaultTemplatePartAreas","defaultArea","highlightBlock","cancelHighlightBlock","iconPosition","onMouseOver","onMouseLeave","onFocus","onBlur","TemplateAreas","EditTemplateTitle","setTitle","useEntityProp","TextControl","help","newTitle","TemplateDetails","__experimentalGetTemplateInfo","templateSubMenu","useMemo","browseAllLinkProps","is_custom","level","weight","Header","inserterButton","isInserterOpen","isListViewOpen","listViewShortcut","isVisualMode","getTemplateInfo","_isLoaded","setPreviewDeviceType","isLargeViewport","useViewportMatch","openInserter","useCallback","focus","toggleListView","isFocusMode","onMouseDown","plus","ToolbarItem","ToolSelector","listView","setDeviceType","DefaultSidebar","cloneElement","GenericNavigationButton","justify","FlexItem","NavigationButton","NavigationBackButton","ROOT_BLOCK_SELECTOR","PRESET_METADATA","valueKey","cssVarInfix","classSuffix","propertyName","STYLE_PATH_TO_CSS_VAR_INFIX","findInPresetsBy","blockName","presetPath","presetProperty","presetValueValue","orderedPresetsByOrigin","presetByOrigin","origins","origin","presets","presetObject","preset","getPresetVariableFromValue","variableStylePath","presetPropertyValue","metadata","getValueFromVariable","variable","USER_VALUE_PREFIX","THEME_VALUE_PREFIX","parsedVar","slice","endsWith","presetType","getValueFromPresetVariable","getValueFromCustomVariable","GlobalStylesContext","user","base","merged","setUserConfig","EMPTY_CONFIG","isGlobalStylesUserThemeJSON","version","useSetting","mergedConfig","baseConfig","userConfig","fullPath","setSetting","newValue","currentConfig","newUserConfig","cloneDeep","pathToSet","PATHS_WITH_MERGE","getSettingValueForContext","currentPath","getSettingValue","configToUse","custom","resultWithFallback","useStyle","finalPath","setStyle","ROOT_BLOCK_SUPPORTS","getSupportedGlobalStylesPanels","supportKeys","STYLE_PROPERTY","styleName","support","requiresOptOut","supports","useColorsPerOrigin","customColors","themeColors","defaultColors","shouldDisplayDefaultColors","colors","EMPTY_ARRAY","useHasBorderPanel","useHasBorderColorControl","useHasBorderRadiusControl","useHasBorderStyleControl","useHasBorderWidthControl","Boolean","BorderPanel","userBorderStyles","createHasValueCallback","createResetCallback","handleOnChange","units","useCustomUnits","availableUnits","showBorderWidth","borderWidthValue","setBorderWidth","showBorderStyle","borderStyle","setBorderStyle","showBorderColor","borderColor","setBorderColor","disableCustomColors","disableCustomGradients","showBorderRadius","borderRadiusValues","setBorderRadius","handleOnChangeWithStyle","resetAll","hasValue","onDeselect","isShownByDefault","min","colorValue","gradients","onColorChange","clearable","borderValues","radius","useHasColorPanel","AXIAL_SIDES","useHasDimensionsPanel","hasPadding","useHasPadding","hasMargin","useHasMargin","hasGap","useHasGap","filterValuesBySides","sides","filteredValues","side","top","bottom","left","right","splitStyleValue","DimensionsPanel","showPaddingControl","showMarginControl","showGapControl","rawPadding","setRawPadding","paddingValues","paddingSides","useCustomSides","isAxialPadding","setPaddingValues","newPaddingValues","resetPaddingValue","rawMargin","setRawMargin","marginValues","marginSides","isAxialMargin","setMarginValues","newMarginValues","margin","resetMarginValue","gapValue","setGapValue","resetGapValue","allowReset","splitOnAxis","__unstableInputWidth","useHasTypographyPanel","hasLineHeight","useHasLineHeightControl","hasFontAppearance","useHasAppearanceControl","hasLetterSpacing","useHasLetterSpacingControl","hasFontStyles","hasFontWeights","TypographyPanel","fontSizes","disableCustomFontSizes","fontFamilies","hasLineHeightEnabled","hasAppearanceControl","hasLetterSpacingControl","fontFamily","setFontFamily","setFontSize","fontStyle","setFontStyle","fontWeight","setFontWeight","setLineHeight","letterSpacing","setLetterSpacing","backgroundColor","gradientValue","color","extraStyles","textDecoration","PanelBody","initialOpen","background","FontSizePicker","marginBottom","LineHeightControl","__nextHasNoMarginBottom","newFontStyle","newFontWeight","parentMenu","hasTypographyPanel","hasColorPanel","hasBorderPanel","hasDimensionsPanel","hasLayoutPanel","typography","layout","styleDefinitions","generate","ruleKey","boxStyle","rules","sideRules","reduce","acc","upperFirst","generateBoxRules","getCSSRules","compileStyleValue","uncompiledValue","VARIABLE_REFERENCE_PREFIX","flattenTree","input","token","newKey","kebabCase","newLeaf","newPrefix","getNodesWithSettings","tree","blockSelectors","nodes","pickPresets","treeToPickFrom","blockPresets","blockCustom","toCustomProperties","ruleset","declarations","getPresetsDeclarations","customProps","useGlobalStylesOutput","stylesheets","setStylesheets","setSettings","styles","blockTypes","__experimentalSelector","getBlockSelectors","getBlockTypes","customProperties","globalStyles","nodesWithStyles","pickStyleKeys","pickBy","elements","ELEMENTS","blockStyles","elementName","sel","getNodesWithStyles","nodesWithSettings","output","properties","useEngine","pathToValue","first","styleValue","entry","cssProperty","rule","getStylesDeclarations","blockSelector","classSelectorToUse","selectorToUse","getPresetsClasses","toStyles","css","isGlobalStyles","textColor","linkColor","gap","alignItems","justifyContent","transform","cursor","flexDirection","borderRadius","variations","__experimentalGetCurrentThemeGlobalStylesVariations","Card","CardBody","spacing","chevronLeft","chevronRight","CardDivider","BlockMenuItem","BlockIcon","Item","hasSupport","isBordered","isSeparated","text","EMPTY_COLORS","defaultPaletteEnabled","screenPath","paletteButtonText","_n","direction","FlexBlock","isLayered","offset","ColorIndicator","BackgroundColorItem","TextColorItem","LinkColorItem","ColorPalettePanel","setThemeColors","baseThemeColors","setDefaultColors","baseDefaultColors","setCustomColors","canReset","canOnlyChangeValues","paletteLabel","emptyMessage","slugPrefix","GradientPalettePanel","themeGradients","setThemeGradients","baseThemeGradients","defaultGradients","setDefaultGradients","baseDefaultGradients","customGradients","setCustomGradients","duotonePalette","DuotonePicker","disableCustomDuotone","currentTab","setCurrentTab","hideLabelFromVision","isBlock","solids","areCustomSolidsEnabled","areCustomGradientsEnabled","colorsPerOrigin","gradientsPerOrigin","shouldDisplayDefaultGradients","useGradientsPerOrigin","isBackgroundEnabled","hasBackgroundColor","hasGradientColor","setBackgroundColor","userBackgroundColor","gradient","setGradient","userGradient","backgroundSettings","gradientSettings","onGradientChange","controlProps","__experimentalHasMultipleOrigins","showTitle","enableAlpha","__experimentalIsRenderedInSidebar","isTextEnabled","hasTextColor","setColor","userColor","isLinkEnabled","hasLinkColor","setLinkColor","userLinkColor","mergeTreesCustomizer","_","srcValue","mergeBaseAndUserConfigs","mergeWith","cleanEmptyObject","isObject","cleanedNestedObjects","mapValues","identity","GlobalStylesProvider","isUserConfigReady","globalStylesId","_globalStylesId","__experimentalGetCurrentGlobalStylesId","config","setConfig","callback","updatedConfig","useGlobalStylesUserConfig","isBaseConfigReady","__experimentalGetCurrentThemeBaseGlobalStyles","useGlobalStylesBaseConfig","isReady","useGlobalStylesContext","Variation","variation","selectVariation","isEqual","onKeyDown","keyCode","ENTER","withEmptyVariation","back","isBorderless","columns","GlobalStylesNavigationScreen","ContextScreens","initialPath","GlobalStylesSidebar","onReset","useGlobalStylesReset","Flex","controls","SIDEBAR_TEMPLATE","SIDEBAR_BLOCK","sidebarName","templateAriaLabel","templateActiveClass","blockAriaLabel","blockActiveClass","TemplateAreaItem","TemplateCard","Icon","InspectorSlot","InspectorFill","SidebarInspectorFill","SidebarComplementaryAreaFills","isEditorSidebarOpened","hasBlockSelection","_sidebar","getBlockSelectionStart","cog","slotName","MainDashboardButtonSlot","MainDashboardButton","slot","useSlot","SITE_EDITOR_KEY","NavLink","linkProps","activeItem","isNavigationOpen","siteTitle","ESCAPE","defaultPrevented","decodeEntities","backButtonLabel","siteIcon","templateIcon","templatePartIcon","isRequestingSiteIcon","siteIconUrl","isResolving","siteData","site_icon_url","disableMotion","useReducedMotion","navigationToggleRef","buttonIcon","wordpress","variants","expand","scale","transition","duration","alt","whileHover","NavigationPanelPreviewFill","NavigationPanelPreviewSlot","NavigationSidebarFill","NavigationSidebarSlot","NavigationSidebar","isDefaultOpen","activeTemplateType","isDesktopViewport","ConvertToRegularBlocks","getBlocks","replaceBlocks","BlockSettingsMenuControls","CreateTemplatePartModal","closeModal","onCreate","setArea","isSubmitting","setIsSubmitting","instanceId","useInstanceId","templatePartAreas","overlayClassName","onSubmit","required","BaseControl","checked","align","ConvertToTemplatePart","clientIds","isModalOpen","setIsModalOpen","cleanSlug","serialize","createBlock","TemplatePartConverter","getSelectedBlockClientIds","getBlocksByClientId","selectedBlockClientIds","NavigateToLink","activePage","onActivePageChange","post","edit","BlockInspectorButton","isBlockInspectorOpen","EditTemplatePartMenuButton","selectedClientIds","EditTemplatePartMenuItem","selectedClientId","selectedTemplatePart","previousTemplateId","arrowLeft","ResizeHandle","resizeWidthBy","LEFT","RIGHT","HANDLE_STYLES_OVERRIDE","userSelect","enableResizing","deviceStyles","useResizeCanvas","setWidth","setHeight","iframeRef","mouseMoveTypingResetRef","useMouseMoveTypingReset","iframe","resizeObserver","animationFrame","resizeHeight","contentWindow","requestAnimationFrame","contentDocument","registerObserver","disconnect","ResizeObserver","observe","cancelAnimationFrame","deltaPixels","ResizableBox","onResizeStop","minWidth","maxWidth","enable","showHandle","resizeRatio","handleComponent","handleClasses","handleStyles","assets","__unstableResolvedAssets","LAYOUT","alignments","BlockEditor","onInput","useEntityBlockEditor","contentRef","mergedRefs","useTypingObserver","isMobileViewport","BlockEditorProvider","useSubRegistry","__experimentalLinkControl","BlockInspector","BlockTools","__unstableContentRef","BlockEditorKeyboardShortcuts","BlockList","__experimentalLayout","renderAppender","__unstableBlockSettingsMenuFirstItem","ReusableBlocksMenuItems","CodeEditorTextArea","stateValue","setStateValue","setIsDirty","htmlFor","autoComplete","dir","placeholder","CodeEditor","contentStructure","setContent","Function","newContent","selection","KeyboardShortcuts","Register","registerShortcut","category","URLQueryController","InserterSidebar","insertionPoint","isMobile","TagName","inserterDialogRef","inserterDialogProps","useDialog","focusOnMount","libraryRef","focusSearch","close","showInserterHelpPanel","shouldFocusBlock","__experimentalInsertionIndex","__experimentalFilterValue","ListViewSidebar","focusOnMountRef","useFocusOnMount","headerFocusReturnRef","useFocusReturn","contentFocusReturnRef","labelId","showNestedBlocks","__experimentalFeatures","__experimentalPersistentListViewFeatures","CopyButton","ErrorBoundaryWarning","reboot","dashboardLink","stack","Warning","ErrorBoundary","super","WelcomeGuideImage","nonAnimatedSrc","animatedSrc","srcSet","media","WelcomeGuideEditor","Guide","contentLabel","finishButtonText","onFinish","pages","image","createInterpolateElement","StylesIconImage","WelcomeGuideStyles","isStylesOpen","ExternalLink","WelcomeGuide","GlobalStylesRenderer","currentStoreSettings","nonGlobalStyles","useGlobalStylesRenderer","useTitle","isInitialLocationRef","formattedTitle","interfaceLabels","sidebarIsOpened","entityId","templateResolved","previousShortcut","nextShortcut","hasFinishedResolution","getAllShortcutKeyCombinations","setIsEntitiesSavedStatesOpen","closeEntitiesSavedStates","blockContext","queryContext","newQueryContext","add","remove","siteUrl","ShortcutProvider","EntityProvider","BlockContextProvider","EditorSnackbars","EditorNotices","Notice","status","EntitiesSavedStates","BlockBreadcrumb","rootLabelText","previous","Popover","PluginArea","DEFAULT_TEMPLATE_SLUGS","NewTemplate","defaultTemplateTypes","__experimentalGetDefaultTemplateTypes","getLastEntitySaveError","existingTemplateSlugs","missingTemplates","add_new","add_new_item","noArrow","NavigableMenu","excerpt","lastEntitySaveError","createTemplate","NewTemplatePart","AddNewTemplate","getPostType","RenameMenuItem","saveEditedEntityRecord","expanded","Actions","isRemovable","isTemplateRemovable","isRevertable","isDestructive","isTertiary","revertAndSaveTemplate","TEMPLATE_POST_TYPE_NAMES","CustomizedTooltip","isCustomized","Tooltip","BaseAddedBy","imageUrl","isImageLoaded","setIsImageLoaded","alignment","onLoad","AddedByTheme","getTheme","themeIcon","AddedByPlugin","plugin","getPlugin","pluginIcon","AddedByAuthor","getUser","authorIcon","avatar_urls","nickname","AddedBySite","logoURL","getMedia","site_logo","source_url","globeIcon","AddedBy","author","Table","isLoading","toLowerCase","List","useRegisterShortcuts","itemsListLabel","items_list","detailedRegionLabels","getIsListPage","EditSiteApp","SlotFillProvider","UnsavedChangesWarning","isListPage","PluginSidebarEditSite","PluginSidebarMoreMenuItem","compose","reinitializeEditor","getNeedsHomepageRedirect","homepageParams","siteSettings","page_on_front","frontpageId","fetch","then","ok","statusText","getHomepageParams","redirectToHomepage","unmountComponentAtNode","updateEditorSettings","defaultTemplatePartAreas","getQueryArgs","initializeEditor","__experimentalFetchLinkSuggestions","searchOptions","fetchLinkSuggestions","__experimentalFetchRichUrlData","fetchUrlData","__experimentalSpotlightEntityBlocks","getElementById","blocksStore","__experimentalReapplyBlockTypeFilters","registerCoreBlocks","__experimentalRegisterExperimentalCoreBlocks","enableFSEBlocks"],"sourceRoot":""}