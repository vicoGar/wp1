{"version":3,"file":"./build/customize-widgets/index.min.js","mappings":"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","sources":["webpack://wp/./node_modules/classnames/index.js","webpack://wp/webpack/bootstrap","webpack://wp/webpack/runtime/compat get default export","webpack://wp/webpack/runtime/define property getters","webpack://wp/webpack/runtime/hasOwnProperty shorthand","webpack://wp/webpack/runtime/make namespace object","webpack://wp/external window [\"wp\",\"element\"]","webpack://wp/external window [\"wp\",\"blockLibrary\"]","webpack://wp/external window [\"wp\",\"widgets\"]","webpack://wp/external window [\"wp\",\"blocks\"]","webpack://wp/external window [\"wp\",\"data\"]","webpack://wp/external window [\"wp\",\"components\"]","webpack://wp/external window [\"wp\",\"i18n\"]","webpack://wp/external window [\"wp\",\"primitives\"]","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/more-vertical.js","webpack://wp/./packages/interface/build-module/components/more-menu-dropdown/@wordpress/interface/src/components/more-menu-dropdown/index.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/check.js","webpack://wp/external window [\"wp\",\"a11y\"]","webpack://wp/external window \"lodash\"","webpack://wp/./packages/interface/build-module/store/@wordpress/interface/src/store/reducer.js","webpack://wp/./packages/interface/build-module/store/@wordpress/interface/src/store/actions.js","webpack://wp/./packages/interface/build-module/store/@wordpress/interface/src/store/selectors.js","webpack://wp/./packages/interface/build-module/store/@wordpress/interface/src/store/constants.js","webpack://wp/./packages/interface/build-module/store/@wordpress/interface/src/store/index.js","webpack://wp/./packages/interface/build-module/components/more-menu-feature-toggle/@wordpress/interface/src/components/more-menu-feature-toggle/index.js","webpack://wp/external window [\"wp\",\"keyboardShortcuts\"]","webpack://wp/external window [\"wp\",\"blockEditor\"]","webpack://wp/external window [\"wp\",\"compose\"]","webpack://wp/./packages/customize-widgets/build-module/components/error-boundary/@wordpress/customize-widgets/src/components/error-boundary/index.js","webpack://wp/external window [\"wp\",\"coreData\"]","webpack://wp/external window [\"wp\",\"mediaUtils\"]","webpack://wp/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://wp/./packages/customize-widgets/build-module/components/block-inspector-button/@wordpress/customize-widgets/src/components/block-inspector-button/index.js","webpack://wp/external window [\"wp\",\"keycodes\"]","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/undo.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/redo.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/plus.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/close-small.js","webpack://wp/./packages/customize-widgets/build-module/store/@wordpress/customize-widgets/src/store/selectors.js","webpack://wp/./packages/customize-widgets/build-module/store/@wordpress/customize-widgets/src/store/actions.js","webpack://wp/./packages/customize-widgets/build-module/store/@wordpress/customize-widgets/src/store/constants.js","webpack://wp/./packages/customize-widgets/build-module/store/@wordpress/customize-widgets/src/store/index.js","webpack://wp/./packages/customize-widgets/build-module/store/@wordpress/customize-widgets/src/store/reducer.js","webpack://wp/./packages/customize-widgets/build-module/components/inserter/@wordpress/customize-widgets/src/components/inserter/index.js","webpack://wp/./packages/icons/build-module/library/@wordpress/icons/src/library/external.js","webpack://wp/./packages/customize-widgets/build-module/components/keyboard-shortcut-help-modal/@wordpress/customize-widgets/src/components/keyboard-shortcut-help-modal/config.js","webpack://wp/./packages/customize-widgets/build-module/components/keyboard-shortcut-help-modal/@wordpress/customize-widgets/src/components/keyboard-shortcut-help-modal/shortcut.js","webpack://wp/./packages/customize-widgets/build-module/components/keyboard-shortcut-help-modal/@wordpress/customize-widgets/src/components/keyboard-shortcut-help-modal/dynamic-shortcut.js","webpack://wp/./packages/customize-widgets/build-module/components/keyboard-shortcut-help-modal/@wordpress/customize-widgets/src/components/keyboard-shortcut-help-modal/index.js","webpack://wp/./packages/customize-widgets/build-module/components/more-menu/@wordpress/customize-widgets/src/components/more-menu/index.js","webpack://wp/./packages/customize-widgets/build-module/components/header/@wordpress/customize-widgets/src/components/header/index.js","webpack://wp/external window [\"wp\",\"isShallowEqual\"]","webpack://wp/./packages/customize-widgets/build-module/@wordpress/customize-widgets/src/utils.js","webpack://wp/./packages/customize-widgets/build-module/components/focus-control/@wordpress/customize-widgets/src/components/focus-control/index.js","webpack://wp/./packages/customize-widgets/build-module/components/sidebar-block-editor/@wordpress/customize-widgets/src/components/sidebar-block-editor/sidebar-editor-provider.js","webpack://wp/./packages/customize-widgets/build-module/components/sidebar-block-editor/@wordpress/customize-widgets/src/components/sidebar-block-editor/use-sidebar-block-editor.js","webpack://wp/./packages/customize-widgets/build-module/components/focus-control/@wordpress/customize-widgets/src/components/focus-control/use-blocks-focus-control.js","webpack://wp/./packages/customize-widgets/build-module/components/welcome-guide/@wordpress/customize-widgets/src/components/welcome-guide/index.js","webpack://wp/./packages/customize-widgets/build-module/components/keyboard-shortcuts/@wordpress/customize-widgets/src/components/keyboard-shortcuts/index.js","webpack://wp/./packages/customize-widgets/build-module/components/block-appender/@wordpress/customize-widgets/src/components/block-appender/index.js","webpack://wp/./packages/customize-widgets/build-module/components/sidebar-block-editor/@wordpress/customize-widgets/src/components/sidebar-block-editor/index.js","webpack://wp/./packages/customize-widgets/build-module/components/inserter/@wordpress/customize-widgets/src/components/inserter/use-inserter.js","webpack://wp/./packages/customize-widgets/build-module/components/sidebar-controls/@wordpress/customize-widgets/src/components/sidebar-controls/index.js","webpack://wp/./packages/customize-widgets/build-module/components/customize-widgets/@wordpress/customize-widgets/src/components/customize-widgets/index.js","webpack://wp/./packages/customize-widgets/build-module/components/customize-widgets/@wordpress/customize-widgets/src/components/customize-widgets/use-clear-selected-block.js","webpack://wp/./packages/customize-widgets/build-module/components/sidebar-block-editor/@wordpress/customize-widgets/src/components/sidebar-block-editor/sidebar-adapter.js","webpack://wp/external window [\"wp\",\"dom\"]","webpack://wp/external window [\"wp\",\"hooks\"]","webpack://wp/./packages/customize-widgets/build-module/filters/@wordpress/customize-widgets/src/filters/move-to-sidebar.js","webpack://wp/./packages/customize-widgets/build-module/filters/@wordpress/customize-widgets/src/filters/replace-media-upload.js","webpack://wp/./packages/customize-widgets/build-module/filters/@wordpress/customize-widgets/src/filters/wide-widget-display.js","webpack://wp/./packages/customize-widgets/build-module/@wordpress/customize-widgets/src/index.js","webpack://wp/./packages/customize-widgets/build-module/controls/@wordpress/customize-widgets/src/controls/sidebar-control.js","webpack://wp/./packages/customize-widgets/build-module/controls/@wordpress/customize-widgets/src/controls/inserter-outer-section.js","webpack://wp/./packages/customize-widgets/build-module/controls/@wordpress/customize-widgets/src/controls/sidebar-section.js","webpack://wp/./packages/customize-widgets/build-module/controls/@wordpress/customize-widgets/src/controls/inspector-section.js"],"sourcesContent":["/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"element\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blockLibrary\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"widgets\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blocks\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"data\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"components\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"i18n\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"primitives\"];","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst moreVertical = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z\" />\n\t</SVG>\n);\n\nexport default moreVertical;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { DropdownMenu } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { moreVertical } from '@wordpress/icons';\n\nexport default function MoreMenuDropdown( {\n\tas: DropdownComponent = DropdownMenu,\n\tclassName,\n\t/* translators: button label text should, if possible, be under 16 characters. */\n\tlabel = __( 'Options' ),\n\tpopoverProps,\n\ttoggleProps,\n\tchildren,\n} ) {\n\treturn (\n\t\t<DropdownComponent\n\t\t\tclassName={ classnames(\n\t\t\t\t'interface-more-menu-dropdown',\n\t\t\t\tclassName\n\t\t\t) }\n\t\t\ticon={ moreVertical }\n\t\t\tlabel={ label }\n\t\t\tpopoverProps={ {\n\t\t\t\tposition: 'bottom left',\n\t\t\t\t...popoverProps,\n\t\t\t\tclassName: classnames(\n\t\t\t\t\t'interface-more-menu-dropdown__content',\n\t\t\t\t\tpopoverProps?.className\n\t\t\t\t),\n\t\t\t} }\n\t\t\ttoggleProps={ {\n\t\t\t\ttooltipPosition: 'bottom',\n\t\t\t\t...toggleProps,\n\t\t\t} }\n\t\t>\n\t\t\t{ ( onClose ) => children( onClose ) }\n\t\t</DropdownComponent>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst check = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z\" />\n\t</SVG>\n);\n\nexport default check;\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"a11y\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"lodash\"];","/**\n * External dependencies\n */\nimport { get } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { combineReducers } from '@wordpress/data';\n\n/**\n * Reducer to keep tract of the active area per scope.\n *\n * @param {boolean} state           Previous state.\n * @param {Object}  action          Action object.\n * @param {string}  action.type     Action type.\n * @param {string}  action.itemType Type of item.\n * @param {string}  action.scope    Item scope.\n * @param {string}  action.item     Item name.\n *\n * @return {Object} Updated state.\n */\nexport function singleEnableItems(\n\tstate = {},\n\t{ type, itemType, scope, item }\n) {\n\tif ( type !== 'SET_SINGLE_ENABLE_ITEM' || ! itemType || ! scope ) {\n\t\treturn state;\n\t}\n\n\treturn {\n\t\t...state,\n\t\t[ itemType ]: {\n\t\t\t...state[ itemType ],\n\t\t\t[ scope ]: item || null,\n\t\t},\n\t};\n}\n\n/**\n * Reducer keeping track of the \"pinned\" items per scope.\n *\n * @param {boolean} state           Previous state.\n * @param {Object}  action          Action object.\n * @param {string}  action.type     Action type.\n * @param {string}  action.itemType Type of item.\n * @param {string}  action.scope    Item scope.\n * @param {string}  action.item     Item name.\n * @param {boolean} action.isEnable Whether the item is pinned.\n *\n * @return {Object} Updated state.\n */\nexport function multipleEnableItems(\n\tstate = {},\n\t{ type, itemType, scope, item, isEnable }\n) {\n\tif (\n\t\ttype !== 'SET_MULTIPLE_ENABLE_ITEM' ||\n\t\t! itemType ||\n\t\t! scope ||\n\t\t! item ||\n\t\tget( state, [ itemType, scope, item ] ) === isEnable\n\t) {\n\t\treturn state;\n\t}\n\tconst currentTypeState = state[ itemType ] || {};\n\tconst currentScopeState = currentTypeState[ scope ] || {};\n\n\treturn {\n\t\t...state,\n\t\t[ itemType ]: {\n\t\t\t...currentTypeState,\n\t\t\t[ scope ]: {\n\t\t\t\t...currentScopeState,\n\t\t\t\t[ item ]: isEnable || false,\n\t\t\t},\n\t\t},\n\t};\n}\n\n/**\n * Reducer returning the defaults for user preferences.\n *\n * This is kept intentionally separate from the preferences\n * themselves so that defaults are not persisted.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport const preferenceDefaults = combineReducers( {\n\tfeatures( state = {}, action ) {\n\t\tif ( action.type === 'SET_FEATURE_DEFAULTS' ) {\n\t\t\tconst { scope, defaults } = action;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ scope ]: {\n\t\t\t\t\t...state[ scope ],\n\t\t\t\t\t...defaults,\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\n\t\treturn state;\n\t},\n} );\n\n/**\n * Reducer returning the user preferences.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport const preferences = combineReducers( {\n\tfeatures( state = {}, action ) {\n\t\tif ( action.type === 'SET_FEATURE_VALUE' ) {\n\t\t\tconst { scope, featureName, value } = action;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ scope ]: {\n\t\t\t\t\t...state[ scope ],\n\t\t\t\t\t[ featureName ]: value,\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\n\t\treturn state;\n\t},\n} );\n\nconst enableItems = combineReducers( {\n\tsingleEnableItems,\n\tmultipleEnableItems,\n} );\n\nexport default combineReducers( {\n\tenableItems,\n\tpreferenceDefaults,\n\tpreferences,\n} );\n","/**\n * Returns an action object used in signalling that an active area should be changed.\n *\n * @param {string} itemType Type of item.\n * @param {string} scope    Item scope.\n * @param {string} item     Item identifier.\n *\n * @return {Object} Action object.\n */\nfunction setSingleEnableItem( itemType, scope, item ) {\n\treturn {\n\t\ttype: 'SET_SINGLE_ENABLE_ITEM',\n\t\titemType,\n\t\tscope,\n\t\titem,\n\t};\n}\n\n/**\n * Returns an action object used in signalling that a complementary item should be enabled.\n *\n * @param {string} scope Complementary area scope.\n * @param {string} area  Area identifier.\n *\n * @return {Object} Action object.\n */\nexport function enableComplementaryArea( scope, area ) {\n\treturn setSingleEnableItem( 'complementaryArea', scope, area );\n}\n\n/**\n * Returns an action object used in signalling that the complementary area of a given scope should be disabled.\n *\n * @param {string} scope Complementary area scope.\n *\n * @return {Object} Action object.\n */\nexport function disableComplementaryArea( scope ) {\n\treturn setSingleEnableItem( 'complementaryArea', scope, undefined );\n}\n\n/**\n * Returns an action object to make an area enabled/disabled.\n *\n * @param {string}  itemType Type of item.\n * @param {string}  scope    Item scope.\n * @param {string}  item     Item identifier.\n * @param {boolean} isEnable Boolean indicating if an area should be pinned or not.\n *\n * @return {Object} Action object.\n */\nfunction setMultipleEnableItem( itemType, scope, item, isEnable ) {\n\treturn {\n\t\ttype: 'SET_MULTIPLE_ENABLE_ITEM',\n\t\titemType,\n\t\tscope,\n\t\titem,\n\t\tisEnable,\n\t};\n}\n\n/**\n * Returns an action object used in signalling that an item should be pinned.\n *\n * @param {string} scope  Item scope.\n * @param {string} itemId Item identifier.\n *\n * @return {Object} Action object.\n */\nexport function pinItem( scope, itemId ) {\n\treturn setMultipleEnableItem( 'pinnedItems', scope, itemId, true );\n}\n\n/**\n * Returns an action object used in signalling that an item should be unpinned.\n *\n * @param {string} scope  Item scope.\n * @param {string} itemId Item identifier.\n *\n * @return {Object} Action object.\n */\nexport function unpinItem( scope, itemId ) {\n\treturn setMultipleEnableItem( 'pinnedItems', scope, itemId, false );\n}\n\n/**\n * Returns an action object used in signalling that a feature should be toggled.\n *\n * @param {string} scope       The feature scope (e.g. core/edit-post).\n * @param {string} featureName The feature name.\n */\nexport function toggleFeature( scope, featureName ) {\n\treturn function ( { select, dispatch } ) {\n\t\tconst currentValue = select.isFeatureActive( scope, featureName );\n\t\tdispatch.setFeatureValue( scope, featureName, ! currentValue );\n\t};\n}\n\n/**\n * Returns an action object used in signalling that a feature should be set to\n * a true or false value\n *\n * @param {string}  scope       The feature scope (e.g. core/edit-post).\n * @param {string}  featureName The feature name.\n * @param {boolean} value       The value to set.\n *\n * @return {Object} Action object.\n */\nexport function setFeatureValue( scope, featureName, value ) {\n\treturn {\n\t\ttype: 'SET_FEATURE_VALUE',\n\t\tscope,\n\t\tfeatureName,\n\t\tvalue: !! value,\n\t};\n}\n\n/**\n * Returns an action object used in signalling that defaults should be set for features.\n *\n * @param {string}                  scope    The feature scope (e.g. core/edit-post).\n * @param {Object<string, boolean>} defaults A key/value map of feature names to values.\n *\n * @return {Object} Action object.\n */\nexport function setFeatureDefaults( scope, defaults ) {\n\treturn {\n\t\ttype: 'SET_FEATURE_DEFAULTS',\n\t\tscope,\n\t\tdefaults,\n\t};\n}\n","/**\n * External dependencies\n */\nimport { get } from 'lodash';\n\n/**\n * Returns the item that is enabled in a given scope.\n *\n * @param {Object} state    Global application state.\n * @param {string} itemType Type of item.\n * @param {string} scope    Item scope.\n *\n * @return {?string|null} The item that is enabled in the passed scope and type.\n */\nfunction getSingleEnableItem( state, itemType, scope ) {\n\treturn get( state.enableItems.singleEnableItems, [ itemType, scope ] );\n}\n\n/**\n * Returns the complementary area that is active in a given scope.\n *\n * @param {Object} state Global application state.\n * @param {string} scope Item scope.\n *\n * @return {string} The complementary area that is active in the given scope.\n */\nexport function getActiveComplementaryArea( state, scope ) {\n\treturn getSingleEnableItem( state, 'complementaryArea', scope );\n}\n\n/**\n * Returns a boolean indicating if an item is enabled or not in a given scope.\n *\n * @param {Object} state    Global application state.\n * @param {string} itemType Type of item.\n * @param {string} scope    Scope.\n * @param {string} item     Item to check.\n *\n * @return {boolean|undefined} True if the item is enabled, false otherwise if the item is explicitly disabled, and undefined if there is no information for that item.\n */\nfunction isMultipleEnabledItemEnabled( state, itemType, scope, item ) {\n\treturn get( state.enableItems.multipleEnableItems, [\n\t\titemType,\n\t\tscope,\n\t\titem,\n\t] );\n}\n\n/**\n * Returns a boolean indicating if an item is pinned or not.\n *\n * @param {Object} state Global application state.\n * @param {string} scope Scope.\n * @param {string} item  Item to check.\n *\n * @return {boolean} True if the item is pinned and false otherwise.\n */\nexport function isItemPinned( state, scope, item ) {\n\treturn (\n\t\tisMultipleEnabledItemEnabled( state, 'pinnedItems', scope, item ) !==\n\t\tfalse\n\t);\n}\n\n/**\n * Returns a boolean indicating whether a feature is active for a particular\n * scope.\n *\n * @param {Object} state       The store state.\n * @param {string} scope       The scope of the feature (e.g. core/edit-post).\n * @param {string} featureName The name of the feature.\n *\n * @return {boolean} Is the feature enabled?\n */\nexport function isFeatureActive( state, scope, featureName ) {\n\tconst featureValue = state.preferences.features[ scope ]?.[ featureName ];\n\tconst defaultedFeatureValue =\n\t\tfeatureValue !== undefined\n\t\t\t? featureValue\n\t\t\t: state.preferenceDefaults.features[ scope ]?.[ featureName ];\n\n\treturn !! defaultedFeatureValue;\n}\n","/**\n * The identifier for the data store.\n *\n * @type {string}\n */\nexport const STORE_NAME = 'core/interface';\n","/**\n * WordPress dependencies\n */\nimport { createReduxStore, registerStore } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport reducer from './reducer';\nimport * as actions from './actions';\nimport * as selectors from './selectors';\nimport { STORE_NAME } from './constants';\n\nconst storeConfig = {\n\treducer,\n\tactions,\n\tselectors,\n\tpersist: [ 'enableItems', 'preferences' ],\n};\n\n/**\n * Store definition for the interface namespace.\n *\n * @see https://github.com/WordPress/gutenberg/blob/HEAD/packages/data/README.md#createReduxStore\n *\n * @type {Object}\n */\nexport const store = createReduxStore( STORE_NAME, storeConfig );\n\n// Once we build a more generic persistence plugin that works across types of stores\n// we'd be able to replace this with a register call.\nregisterStore( STORE_NAME, storeConfig );\n","/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { MenuItem } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { check } from '@wordpress/icons';\nimport { speak } from '@wordpress/a11y';\n\n/**\n * Internal dependencies\n */\nimport { store as interfaceStore } from '../../store';\n\nexport default function MoreMenuFeatureToggle( {\n\tscope,\n\tlabel,\n\tinfo,\n\tmessageActivated,\n\tmessageDeactivated,\n\tshortcut,\n\tfeature,\n} ) {\n\tconst isActive = useSelect(\n\t\t( select ) =>\n\t\t\tselect( interfaceStore ).isFeatureActive( scope, feature ),\n\t\t[ feature ]\n\t);\n\tconst { toggleFeature } = useDispatch( interfaceStore );\n\tconst speakMessage = () => {\n\t\tif ( isActive ) {\n\t\t\tspeak( messageDeactivated || __( 'Feature deactivated' ) );\n\t\t} else {\n\t\t\tspeak( messageActivated || __( 'Feature activated' ) );\n\t\t}\n\t};\n\n\treturn (\n\t\t<MenuItem\n\t\t\ticon={ isActive && check }\n\t\t\tisSelected={ isActive }\n\t\t\tonClick={ () => {\n\t\t\t\ttoggleFeature( scope, feature );\n\t\t\t\tspeakMessage();\n\t\t\t} }\n\t\t\trole=\"menuitemcheckbox\"\n\t\t\tinfo={ info }\n\t\t\tshortcut={ shortcut }\n\t\t>\n\t\t\t{ label }\n\t\t</MenuItem>\n\t);\n}\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"keyboardShortcuts\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blockEditor\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"compose\"];","/**\n * WordPress dependencies\n */\nimport { Component } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { Button } from '@wordpress/components';\nimport { Warning } from '@wordpress/block-editor';\nimport { useCopyToClipboard } from '@wordpress/compose';\n\nfunction CopyButton( { text, children } ) {\n\tconst ref = useCopyToClipboard( text );\n\treturn (\n\t\t<Button variant=\"secondary\" ref={ ref }>\n\t\t\t{ children }\n\t\t</Button>\n\t);\n}\n\nexport default class ErrorBoundary extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\t\tthis.state = {\n\t\t\terror: null,\n\t\t};\n\t}\n\n\tcomponentDidCatch( error ) {\n\t\tthis.setState( { error } );\n\t}\n\n\trender() {\n\t\tconst { error } = this.state;\n\t\tif ( ! error ) {\n\t\t\treturn this.props.children;\n\t\t}\n\n\t\treturn (\n\t\t\t<Warning\n\t\t\t\tclassName=\"customize-widgets-error-boundary\"\n\t\t\t\tactions={ [\n\t\t\t\t\t<CopyButton key=\"copy-error\" text={ error.stack }>\n\t\t\t\t\t\t{ __( 'Copy Error' ) }\n\t\t\t\t\t</CopyButton>,\n\t\t\t\t] }\n\t\t\t>\n\t\t\t\t{ __( 'The editor has encountered an unexpected error.' ) }\n\t\t\t</Warning>\n\t\t);\n\t}\n}\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"coreData\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"mediaUtils\"];","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","/**\n * WordPress dependencies\n */\nimport { useMemo } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { MenuItem } from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\n\nfunction BlockInspectorButton( { inspector, closeMenu, ...props } ) {\n\tconst selectedBlockClientId = useSelect(\n\t\t( select ) => select( blockEditorStore ).getSelectedBlockClientId(),\n\t\t[]\n\t);\n\n\tconst selectedBlock = useMemo(\n\t\t() => document.getElementById( `block-${ selectedBlockClientId }` ),\n\t\t[ selectedBlockClientId ]\n\t);\n\n\treturn (\n\t\t<MenuItem\n\t\t\tonClick={ () => {\n\t\t\t\t// Open the inspector.\n\t\t\t\tinspector.open( {\n\t\t\t\t\treturnFocusWhenClose: selectedBlock,\n\t\t\t\t} );\n\t\t\t\t// Then close the dropdown menu.\n\t\t\t\tcloseMenu();\n\t\t\t} }\n\t\t\t{ ...props }\n\t\t>\n\t\t\t{ __( 'Show more settings' ) }\n\t\t</MenuItem>\n\t);\n}\n\nexport default BlockInspectorButton;\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"keycodes\"];","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst undo = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M18.3 11.7c-.6-.6-1.4-.9-2.3-.9H6.7l2.9-3.3-1.1-1-4.5 5L8.5 16l1-1-2.7-2.7H16c.5 0 .9.2 1.3.5 1 1 1 3.4 1 4.5v.3h1.5v-.2c0-1.5 0-4.3-1.5-5.7z\" />\n\t</SVG>\n);\n\nexport default undo;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst redo = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M15.6 6.5l-1.1 1 2.9 3.3H8c-.9 0-1.7.3-2.3.9-1.4 1.5-1.4 4.2-1.4 5.6v.2h1.5v-.3c0-1.1 0-3.5 1-4.5.3-.3.7-.5 1.3-.5h9.2L14.5 15l1.1 1.1 4.6-4.6-4.6-5z\" />\n\t</SVG>\n);\n\nexport default redo;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst plus = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M18 11.2h-5.2V6h-1.6v5.2H6v1.6h5.2V18h1.6v-5.2H18z\" />\n\t</SVG>\n);\n\nexport default plus;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst closeSmall = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z\" />\n\t</SVG>\n);\n\nexport default closeSmall;\n","/**\n * Returns true if the inserter is opened.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether the inserter is opened.\n */\nexport function isInserterOpened( state ) {\n\treturn !! state.blockInserterPanel;\n}\n\n/**\n * Get the insertion point for the inserter.\n *\n * @param {Object} state Global application state.\n *\n * @return {Object} The root client ID and index to insert at.\n */\nexport function __experimentalGetInsertionPoint( state ) {\n\tconst { rootClientId, insertionIndex } = state.blockInserterPanel;\n\treturn { rootClientId, insertionIndex };\n}\n","/**\n * Returns an action object used to open/close the inserter.\n *\n * @param {boolean|Object} value                Whether the inserter should be\n *                                              opened (true) or closed (false).\n *                                              To specify an insertion point,\n *                                              use an object.\n * @param {string}         value.rootClientId   The root client ID to insert at.\n * @param {number}         value.insertionIndex The index to insert at.\n *\n * @return {Object} Action object.\n */\nexport function setIsInserterOpened( value ) {\n\treturn {\n\t\ttype: 'SET_IS_INSERTER_OPENED',\n\t\tvalue,\n\t};\n}\n","/**\n * Module Constants\n */\nexport const STORE_NAME = 'core/customize-widgets';\n","/**\n * WordPress dependencies\n */\nimport { createReduxStore, registerStore } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport reducer from './reducer';\nimport * as selectors from './selectors';\nimport * as actions from './actions';\nimport { STORE_NAME } from './constants';\n\n/**\n * Block editor data store configuration.\n *\n * @see https://github.com/WordPress/gutenberg/blob/HEAD/packages/data/README.md#registerStore\n *\n * @type {Object}\n */\nconst storeConfig = {\n\treducer,\n\tselectors,\n\tactions,\n};\n\n/**\n * Store definition for the edit widgets namespace.\n *\n * @see https://github.com/WordPress/gutenberg/blob/HEAD/packages/data/README.md#createReduxStore\n *\n * @type {Object}\n */\nexport const store = createReduxStore( STORE_NAME, storeConfig );\n\n// Once we build a more generic persistence plugin that works across types of stores\n// we'd be able to replace this with a register call.\nregisterStore( STORE_NAME, storeConfig );\n","/**\n * WordPress dependencies\n */\nimport { combineReducers } from '@wordpress/data';\n\n/**\n * Reducer tracking whether the inserter is open.\n *\n * @param {boolean|Object} state\n * @param {Object}         action\n */\nfunction blockInserterPanel( state = false, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_IS_INSERTER_OPENED':\n\t\t\treturn action.value;\n\t}\n\treturn state;\n}\n\nexport default combineReducers( {\n\tblockInserterPanel,\n} );\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { __experimentalLibrary as Library } from '@wordpress/block-editor';\nimport { Button } from '@wordpress/components';\nimport { useInstanceId } from '@wordpress/compose';\nimport { useSelect } from '@wordpress/data';\nimport { closeSmall } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { store as customizeWidgetsStore } from '../../store';\n\nfunction Inserter( { setIsOpened } ) {\n\tconst inserterTitleId = useInstanceId(\n\t\tInserter,\n\t\t'customize-widget-layout__inserter-panel-title'\n\t);\n\tconst insertionPoint = useSelect(\n\t\t( select ) =>\n\t\t\tselect( customizeWidgetsStore ).__experimentalGetInsertionPoint(),\n\t\t[]\n\t);\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"customize-widgets-layout__inserter-panel\"\n\t\t\taria-labelledby={ inserterTitleId }\n\t\t>\n\t\t\t<div className=\"customize-widgets-layout__inserter-panel-header\">\n\t\t\t\t<h2\n\t\t\t\t\tid={ inserterTitleId }\n\t\t\t\t\tclassName=\"customize-widgets-layout__inserter-panel-header-title\"\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Add a block' ) }\n\t\t\t\t</h2>\n\t\t\t\t<Button\n\t\t\t\t\tclassName=\"customize-widgets-layout__inserter-panel-header-close-button\"\n\t\t\t\t\ticon={ closeSmall }\n\t\t\t\t\tonClick={ () => setIsOpened( false ) }\n\t\t\t\t\taria-label={ __( 'Close inserter' ) }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"customize-widgets-layout__inserter-panel-content\">\n\t\t\t\t<Library\n\t\t\t\t\trootClientId={ insertionPoint.rootClientId }\n\t\t\t\t\t__experimentalInsertionIndex={\n\t\t\t\t\t\tinsertionPoint.insertionIndex\n\t\t\t\t\t}\n\t\t\t\t\tshowInserterHelpPanel\n\t\t\t\t\tonSelect={ () => setIsOpened( false ) }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default Inserter;\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nconst external = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M18.2 17c0 .7-.6 1.2-1.2 1.2H7c-.7 0-1.2-.6-1.2-1.2V7c0-.7.6-1.2 1.2-1.2h3.2V4.2H7C5.5 4.2 4.2 5.5 4.2 7v10c0 1.5 1.2 2.8 2.8 2.8h10c1.5 0 2.8-1.2 2.8-2.8v-3.6h-1.5V17zM14.9 3v1.5h3.7l-6.4 6.4 1.1 1.1 6.4-6.4v3.7h1.5V3h-6.3z\" />\n\t</SVG>\n);\n\nexport default external;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\nexport const textFormattingShortcuts = [\n\t{\n\t\tkeyCombination: { modifier: 'primary', character: 'b' },\n\t\tdescription: __( 'Make the selected text bold.' ),\n\t},\n\t{\n\t\tkeyCombination: { modifier: 'primary', character: 'i' },\n\t\tdescription: __( 'Make the selected text italic.' ),\n\t},\n\t{\n\t\tkeyCombination: { modifier: 'primary', character: 'k' },\n\t\tdescription: __( 'Convert the selected text into a link.' ),\n\t},\n\t{\n\t\tkeyCombination: { modifier: 'primaryShift', character: 'k' },\n\t\tdescription: __( 'Remove a link.' ),\n\t},\n\t{\n\t\tkeyCombination: { modifier: 'primary', character: 'u' },\n\t\tdescription: __( 'Underline the selected text.' ),\n\t},\n];\n","/**\n * External dependencies\n */\nimport { castArray } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { Fragment } from '@wordpress/element';\nimport { displayShortcutList, shortcutAriaLabel } from '@wordpress/keycodes';\n\nfunction KeyCombination( { keyCombination, forceAriaLabel } ) {\n\tconst shortcut = keyCombination.modifier\n\t\t? displayShortcutList[ keyCombination.modifier ](\n\t\t\t\tkeyCombination.character\n\t\t  )\n\t\t: keyCombination.character;\n\tconst ariaLabel = keyCombination.modifier\n\t\t? shortcutAriaLabel[ keyCombination.modifier ](\n\t\t\t\tkeyCombination.character\n\t\t  )\n\t\t: keyCombination.character;\n\n\treturn (\n\t\t<kbd\n\t\t\tclassName=\"customize-widgets-keyboard-shortcut-help-modal__shortcut-key-combination\"\n\t\t\taria-label={ forceAriaLabel || ariaLabel }\n\t\t>\n\t\t\t{ castArray( shortcut ).map( ( character, index ) => {\n\t\t\t\tif ( character === '+' ) {\n\t\t\t\t\treturn <Fragment key={ index }>{ character }</Fragment>;\n\t\t\t\t}\n\n\t\t\t\treturn (\n\t\t\t\t\t<kbd\n\t\t\t\t\t\tkey={ index }\n\t\t\t\t\t\tclassName=\"customize-widgets-keyboard-shortcut-help-modal__shortcut-key\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ character }\n\t\t\t\t\t</kbd>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t</kbd>\n\t);\n}\n\nfunction Shortcut( { description, keyCombination, aliases = [], ariaLabel } ) {\n\treturn (\n\t\t<>\n\t\t\t<div className=\"customize-widgets-keyboard-shortcut-help-modal__shortcut-description\">\n\t\t\t\t{ description }\n\t\t\t</div>\n\t\t\t<div className=\"customize-widgets-keyboard-shortcut-help-modal__shortcut-term\">\n\t\t\t\t<KeyCombination\n\t\t\t\t\tkeyCombination={ keyCombination }\n\t\t\t\t\tforceAriaLabel={ ariaLabel }\n\t\t\t\t/>\n\t\t\t\t{ aliases.map( ( alias, index ) => (\n\t\t\t\t\t<KeyCombination\n\t\t\t\t\t\tkeyCombination={ alias }\n\t\t\t\t\t\tforceAriaLabel={ ariaLabel }\n\t\t\t\t\t\tkey={ index }\n\t\t\t\t\t/>\n\t\t\t\t) ) }\n\t\t\t</div>\n\t\t</>\n\t);\n}\n\nexport default Shortcut;\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as keyboardShortcutsStore } from '@wordpress/keyboard-shortcuts';\n\n/**\n * Internal dependencies\n */\nimport Shortcut from './shortcut';\n\nfunction DynamicShortcut( { name } ) {\n\tconst { keyCombination, description, aliases } = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\tgetShortcutKeyCombination,\n\t\t\t\tgetShortcutDescription,\n\t\t\t\tgetShortcutAliases,\n\t\t\t} = select( keyboardShortcutsStore );\n\n\t\t\treturn {\n\t\t\t\tkeyCombination: getShortcutKeyCombination( name ),\n\t\t\t\taliases: getShortcutAliases( name ),\n\t\t\t\tdescription: getShortcutDescription( name ),\n\t\t\t};\n\t\t},\n\t\t[ name ]\n\t);\n\n\tif ( ! keyCombination ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Shortcut\n\t\t\tkeyCombination={ keyCombination }\n\t\t\tdescription={ description }\n\t\t\taliases={ aliases }\n\t\t/>\n\t);\n}\n\nexport default DynamicShortcut;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { isString } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { Modal } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport {\n\tuseShortcut,\n\tstore as keyboardShortcutsStore,\n} from '@wordpress/keyboard-shortcuts';\nimport { useDispatch, useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { textFormattingShortcuts } from './config';\nimport Shortcut from './shortcut';\nimport DynamicShortcut from './dynamic-shortcut';\n\nconst ShortcutList = ( { shortcuts } ) => (\n\t/*\n\t * Disable reason: The `list` ARIA role is redundant but\n\t * Safari+VoiceOver won't announce the list otherwise.\n\t */\n\t/* eslint-disable jsx-a11y/no-redundant-roles */\n\t<ul\n\t\tclassName=\"customize-widgets-keyboard-shortcut-help-modal__shortcut-list\"\n\t\trole=\"list\"\n\t>\n\t\t{ shortcuts.map( ( shortcut, index ) => (\n\t\t\t<li\n\t\t\t\tclassName=\"customize-widgets-keyboard-shortcut-help-modal__shortcut\"\n\t\t\t\tkey={ index }\n\t\t\t>\n\t\t\t\t{ isString( shortcut ) ? (\n\t\t\t\t\t<DynamicShortcut name={ shortcut } />\n\t\t\t\t) : (\n\t\t\t\t\t<Shortcut { ...shortcut } />\n\t\t\t\t) }\n\t\t\t</li>\n\t\t) ) }\n\t</ul>\n\t/* eslint-enable jsx-a11y/no-redundant-roles */\n);\n\nconst ShortcutSection = ( { title, shortcuts, className } ) => (\n\t<section\n\t\tclassName={ classnames(\n\t\t\t'customize-widgets-keyboard-shortcut-help-modal__section',\n\t\t\tclassName\n\t\t) }\n\t>\n\t\t{ !! title && (\n\t\t\t<h2 className=\"customize-widgets-keyboard-shortcut-help-modal__section-title\">\n\t\t\t\t{ title }\n\t\t\t</h2>\n\t\t) }\n\t\t<ShortcutList shortcuts={ shortcuts } />\n\t</section>\n);\n\nconst ShortcutCategorySection = ( {\n\ttitle,\n\tcategoryName,\n\tadditionalShortcuts = [],\n} ) => {\n\tconst categoryShortcuts = useSelect(\n\t\t( select ) => {\n\t\t\treturn select( keyboardShortcutsStore ).getCategoryShortcuts(\n\t\t\t\tcategoryName\n\t\t\t);\n\t\t},\n\t\t[ categoryName ]\n\t);\n\n\treturn (\n\t\t<ShortcutSection\n\t\t\ttitle={ title }\n\t\t\tshortcuts={ categoryShortcuts.concat( additionalShortcuts ) }\n\t\t/>\n\t);\n};\n\nexport default function KeyboardShortcutHelpModal( {\n\tisModalActive,\n\ttoggleModal,\n} ) {\n\tconst { registerShortcut } = useDispatch( keyboardShortcutsStore );\n\tregisterShortcut( {\n\t\tname: 'core/customize-widgets/keyboard-shortcuts',\n\t\tcategory: 'main',\n\t\tdescription: __( 'Display these keyboard shortcuts.' ),\n\t\tkeyCombination: {\n\t\t\tmodifier: 'access',\n\t\t\tcharacter: 'h',\n\t\t},\n\t} );\n\n\tuseShortcut( 'core/customize-widgets/keyboard-shortcuts', toggleModal );\n\n\tif ( ! isModalActive ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Modal\n\t\t\tclassName=\"customize-widgets-keyboard-shortcut-help-modal\"\n\t\t\ttitle={ __( 'Keyboard shortcuts' ) }\n\t\t\tcloseLabel={ __( 'Close' ) }\n\t\t\tonRequestClose={ toggleModal }\n\t\t>\n\t\t\t<ShortcutSection\n\t\t\t\tclassName=\"customize-widgets-keyboard-shortcut-help-modal__main-shortcuts\"\n\t\t\t\tshortcuts={ [ 'core/customize-widgets/keyboard-shortcuts' ] }\n\t\t\t/>\n\t\t\t<ShortcutCategorySection\n\t\t\t\ttitle={ __( 'Global shortcuts' ) }\n\t\t\t\tcategoryName=\"global\"\n\t\t\t/>\n\n\t\t\t<ShortcutCategorySection\n\t\t\t\ttitle={ __( 'Selection shortcuts' ) }\n\t\t\t\tcategoryName=\"selection\"\n\t\t\t/>\n\n\t\t\t<ShortcutCategorySection\n\t\t\t\ttitle={ __( 'Block shortcuts' ) }\n\t\t\t\tcategoryName=\"block\"\n\t\t\t\tadditionalShortcuts={ [\n\t\t\t\t\t{\n\t\t\t\t\t\tkeyCombination: { character: '/' },\n\t\t\t\t\t\tdescription: __(\n\t\t\t\t\t\t\t'Change the block type after adding a new paragraph.'\n\t\t\t\t\t\t),\n\t\t\t\t\t\t/* translators: The forward-slash character. e.g. '/'. */\n\t\t\t\t\t\tariaLabel: __( 'Forward-slash' ),\n\t\t\t\t\t},\n\t\t\t\t] }\n\t\t\t/>\n\t\t\t<ShortcutSection\n\t\t\t\ttitle={ __( 'Text formatting' ) }\n\t\t\t\tshortcuts={ textFormattingShortcuts }\n\t\t\t/>\n\t\t</Modal>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport {\n\tMenuGroup,\n\tMenuItem,\n\tToolbarDropdownMenu,\n\tVisuallyHidden,\n} from '@wordpress/components';\nimport { useState } from '@wordpress/element';\nimport { __, _x } from '@wordpress/i18n';\nimport { external } from '@wordpress/icons';\nimport { displayShortcut } from '@wordpress/keycodes';\nimport { useShortcut } from '@wordpress/keyboard-shortcuts';\nimport { MoreMenuDropdown, MoreMenuFeatureToggle } from '@wordpress/interface';\n\n/**\n * Internal dependencies\n */\nimport KeyboardShortcutHelpModal from '../keyboard-shortcut-help-modal';\n\nconst POPOVER_PROPS = {\n\tclassName: 'customize-widgets-more-menu__content',\n};\n\nexport default function MoreMenu() {\n\tconst [\n\t\tisKeyboardShortcutsModalActive,\n\t\tsetIsKeyboardShortcutsModalVisible,\n\t] = useState( false );\n\tconst toggleKeyboardShortcutsModal = () =>\n\t\tsetIsKeyboardShortcutsModalVisible( ! isKeyboardShortcutsModalActive );\n\n\tuseShortcut(\n\t\t'core/customize-widgets/keyboard-shortcuts',\n\t\ttoggleKeyboardShortcutsModal\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<MoreMenuDropdown\n\t\t\t\tas={ ToolbarDropdownMenu }\n\t\t\t\tclassName=\"customize-widgets-more-menu\"\n\t\t\t\tpopoverProps={ POPOVER_PROPS }\n\t\t\t>\n\t\t\t\t{ () => (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<MenuGroup label={ _x( 'View', 'noun' ) }>\n\t\t\t\t\t\t\t<MoreMenuFeatureToggle\n\t\t\t\t\t\t\t\tscope=\"core/customize-widgets\"\n\t\t\t\t\t\t\t\tfeature=\"fixedToolbar\"\n\t\t\t\t\t\t\t\tlabel={ __( 'Top toolbar' ) }\n\t\t\t\t\t\t\t\tinfo={ __(\n\t\t\t\t\t\t\t\t\t'Access all block and document tools in a single place'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tmessageActivated={ __(\n\t\t\t\t\t\t\t\t\t'Top toolbar activated'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tmessageDeactivated={ __(\n\t\t\t\t\t\t\t\t\t'Top toolbar deactivated'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t\t<MenuGroup label={ __( 'Tools' ) }>\n\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\tsetIsKeyboardShortcutsModalVisible( true );\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\tshortcut={ displayShortcut.access( 'h' ) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'Keyboard shortcuts' ) }\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t<MoreMenuFeatureToggle\n\t\t\t\t\t\t\t\tscope=\"core/customize-widgets\"\n\t\t\t\t\t\t\t\tfeature=\"welcomeGuide\"\n\t\t\t\t\t\t\t\tlabel={ __( 'Welcome Guide' ) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\trole=\"menuitem\"\n\t\t\t\t\t\t\t\ticon={ external }\n\t\t\t\t\t\t\t\thref={ __(\n\t\t\t\t\t\t\t\t\t'https://wordpress.org/support/article/block-based-widgets-editor/'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'Help' ) }\n\t\t\t\t\t\t\t\t<VisuallyHidden as=\"span\">\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t/* translators: accessibility text */\n\t\t\t\t\t\t\t\t\t\t__( '(opens in a new tab)' )\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</VisuallyHidden>\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t\t<MenuGroup label={ __( 'Preferences' ) }>\n\t\t\t\t\t\t\t<MoreMenuFeatureToggle\n\t\t\t\t\t\t\t\tscope=\"core/customize-widgets\"\n\t\t\t\t\t\t\t\tfeature=\"keepCaretInsideBlock\"\n\t\t\t\t\t\t\t\tlabel={ __(\n\t\t\t\t\t\t\t\t\t'Contain text cursor inside block'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tinfo={ __(\n\t\t\t\t\t\t\t\t\t'Aids screen readers by stopping text caret from leaving blocks.'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tmessageActivated={ __(\n\t\t\t\t\t\t\t\t\t'Contain text cursor inside block activated'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tmessageDeactivated={ __(\n\t\t\t\t\t\t\t\t\t'Contain text cursor inside block deactivated'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t</>\n\t\t\t\t) }\n\t\t\t</MoreMenuDropdown>\n\t\t\t<KeyboardShortcutHelpModal\n\t\t\t\tisModalActive={ isKeyboardShortcutsModalActive }\n\t\t\t\ttoggleModal={ toggleKeyboardShortcutsModal }\n\t\t\t/>\n\t\t</>\n\t);\n}\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { createPortal, useState, useEffect } from '@wordpress/element';\nimport { __, _x, isRTL } from '@wordpress/i18n';\nimport { ToolbarButton } from '@wordpress/components';\nimport { NavigableToolbar } from '@wordpress/block-editor';\nimport { displayShortcut } from '@wordpress/keycodes';\nimport { plus, undo as undoIcon, redo as redoIcon } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport Inserter from '../inserter';\nimport MoreMenu from '../more-menu';\n\nfunction Header( {\n\tsidebar,\n\tinserter,\n\tisInserterOpened,\n\tsetIsInserterOpened,\n\tisFixedToolbarActive,\n} ) {\n\tconst [ [ hasUndo, hasRedo ], setUndoRedo ] = useState( [\n\t\tsidebar.hasUndo(),\n\t\tsidebar.hasRedo(),\n\t] );\n\n\tuseEffect( () => {\n\t\treturn sidebar.subscribeHistory( () => {\n\t\t\tsetUndoRedo( [ sidebar.hasUndo(), sidebar.hasRedo() ] );\n\t\t} );\n\t}, [ sidebar ] );\n\n\treturn (\n\t\t<>\n\t\t\t<div\n\t\t\t\tclassName={ classnames( 'customize-widgets-header', {\n\t\t\t\t\t'is-fixed-toolbar-active': isFixedToolbarActive,\n\t\t\t\t} ) }\n\t\t\t>\n\t\t\t\t<NavigableToolbar\n\t\t\t\t\tclassName=\"customize-widgets-header-toolbar\"\n\t\t\t\t\taria-label={ __( 'Document tools' ) }\n\t\t\t\t>\n\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\ticon={ ! isRTL() ? undoIcon : redoIcon }\n\t\t\t\t\t\t/* translators: button label text should, if possible, be under 16 characters. */\n\t\t\t\t\t\tlabel={ __( 'Undo' ) }\n\t\t\t\t\t\tshortcut={ displayShortcut.primary( 'z' ) }\n\t\t\t\t\t\t// If there are no undo levels we don't want to actually disable this\n\t\t\t\t\t\t// button, because it will remove focus for keyboard users.\n\t\t\t\t\t\t// See: https://github.com/WordPress/gutenberg/issues/3486\n\t\t\t\t\t\taria-disabled={ ! hasUndo }\n\t\t\t\t\t\tonClick={ sidebar.undo }\n\t\t\t\t\t\tclassName=\"customize-widgets-editor-history-button undo-button\"\n\t\t\t\t\t/>\n\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\ticon={ ! isRTL() ? redoIcon : undoIcon }\n\t\t\t\t\t\t/* translators: button label text should, if possible, be under 16 characters. */\n\t\t\t\t\t\tlabel={ __( 'Redo' ) }\n\t\t\t\t\t\tshortcut={ displayShortcut.primaryShift( 'z' ) }\n\t\t\t\t\t\t// If there are no undo levels we don't want to actually disable this\n\t\t\t\t\t\t// button, because it will remove focus for keyboard users.\n\t\t\t\t\t\t// See: https://github.com/WordPress/gutenberg/issues/3486\n\t\t\t\t\t\taria-disabled={ ! hasRedo }\n\t\t\t\t\t\tonClick={ sidebar.redo }\n\t\t\t\t\t\tclassName=\"customize-widgets-editor-history-button redo-button\"\n\t\t\t\t\t/>\n\n\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\tclassName=\"customize-widgets-header-toolbar__inserter-toggle\"\n\t\t\t\t\t\tisPressed={ isInserterOpened }\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\ticon={ plus }\n\t\t\t\t\t\tlabel={ _x(\n\t\t\t\t\t\t\t'Add block',\n\t\t\t\t\t\t\t'Generic label for block inserter button'\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\tsetIsInserterOpened( ( isOpen ) => ! isOpen );\n\t\t\t\t\t\t} }\n\t\t\t\t\t/>\n\t\t\t\t\t<MoreMenu />\n\t\t\t\t</NavigableToolbar>\n\t\t\t</div>\n\n\t\t\t{ createPortal(\n\t\t\t\t<Inserter setIsOpened={ setIsInserterOpened } />,\n\t\t\t\tinserter.contentContainer[ 0 ]\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nexport default Header;\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"isShallowEqual\"];","// @ts-check\n/**\n * WordPress dependencies\n */\nimport { serialize, parse, createBlock } from '@wordpress/blocks';\nimport { addWidgetIdToBlock } from '@wordpress/widgets';\n\n/**\n * External dependencies\n */\nimport { omit } from 'lodash';\n\n/**\n * Convert settingId to widgetId.\n *\n * @param {string} settingId The setting id.\n * @return {string} The widget id.\n */\nexport function settingIdToWidgetId( settingId ) {\n\tconst matches = settingId.match( /^widget_(.+)(?:\\[(\\d+)\\])$/ );\n\n\tif ( matches ) {\n\t\tconst idBase = matches[ 1 ];\n\t\tconst number = parseInt( matches[ 2 ], 10 );\n\n\t\treturn `${ idBase }-${ number }`;\n\t}\n\n\treturn settingId;\n}\n\n/**\n * Transform a block to a customizable widget.\n *\n * @param {WPBlock} block          The block to be transformed from.\n * @param {Object}  existingWidget The widget to be extended from.\n * @return {Object} The transformed widget.\n */\nexport function blockToWidget( block, existingWidget = null ) {\n\tlet widget;\n\n\tconst isValidLegacyWidgetBlock =\n\t\tblock.name === 'core/legacy-widget' &&\n\t\t( block.attributes.id || block.attributes.instance );\n\n\tif ( isValidLegacyWidgetBlock ) {\n\t\tif ( block.attributes.id ) {\n\t\t\t// Widget that does not extend WP_Widget.\n\t\t\twidget = {\n\t\t\t\tid: block.attributes.id,\n\t\t\t};\n\t\t} else {\n\t\t\tconst { encoded, hash, raw, ...rest } = block.attributes.instance;\n\n\t\t\t// Widget that extends WP_Widget.\n\t\t\twidget = {\n\t\t\t\tidBase: block.attributes.idBase,\n\t\t\t\tinstance: {\n\t\t\t\t\t...existingWidget?.instance,\n\t\t\t\t\t// Required only for the customizer.\n\t\t\t\t\tis_widget_customizer_js_value: true,\n\t\t\t\t\tencoded_serialized_instance: encoded,\n\t\t\t\t\tinstance_hash_key: hash,\n\t\t\t\t\traw_instance: raw,\n\t\t\t\t\t...rest,\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\t} else {\n\t\tconst instance = {\n\t\t\tcontent: serialize( block ),\n\t\t};\n\t\twidget = {\n\t\t\tidBase: 'block',\n\t\t\twidgetClass: 'WP_Widget_Block',\n\t\t\tinstance: {\n\t\t\t\traw_instance: instance,\n\t\t\t},\n\t\t};\n\t}\n\n\treturn {\n\t\t...omit( existingWidget, [ 'form', 'rendered' ] ),\n\t\t...widget,\n\t};\n}\n\n/**\n * Transform a widget to a block.\n *\n * @param {Object} widget          The widget to be transformed from.\n * @param {string} widget.id       The widget id.\n * @param {string} widget.idBase   The id base of the widget.\n * @param {number} widget.number   The number/index of the widget.\n * @param {Object} widget.instance The instance of the widget.\n * @return {WPBlock} The transformed block.\n */\nexport function widgetToBlock( { id, idBase, number, instance } ) {\n\tlet block;\n\n\tconst {\n\t\tencoded_serialized_instance: encoded,\n\t\tinstance_hash_key: hash,\n\t\traw_instance: raw,\n\t\t...rest\n\t} = instance;\n\n\tif ( idBase === 'block' ) {\n\t\tconst parsedBlocks = parse( raw.content );\n\t\tblock = parsedBlocks.length\n\t\t\t? parsedBlocks[ 0 ]\n\t\t\t: createBlock( 'core/paragraph', {} );\n\t} else if ( number ) {\n\t\t// Widget that extends WP_Widget.\n\t\tblock = createBlock( 'core/legacy-widget', {\n\t\t\tidBase,\n\t\t\tinstance: {\n\t\t\t\tencoded,\n\t\t\t\thash,\n\t\t\t\traw,\n\t\t\t\t...rest,\n\t\t\t},\n\t\t} );\n\t} else {\n\t\t// Widget that does not extend WP_Widget.\n\t\tblock = createBlock( 'core/legacy-widget', {\n\t\t\tid,\n\t\t} );\n\t}\n\n\treturn addWidgetIdToBlock( block, id );\n}\n","/**\n * WordPress dependencies\n */\nimport {\n\tcreateContext,\n\tuseState,\n\tuseEffect,\n\tuseContext,\n\tuseCallback,\n\tuseMemo,\n} from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { settingIdToWidgetId } from '../../utils';\n\nconst FocusControlContext = createContext();\n\nexport default function FocusControl( { api, sidebarControls, children } ) {\n\tconst [ focusedWidgetIdRef, setFocusedWidgetIdRef ] = useState( {\n\t\tcurrent: null,\n\t} );\n\n\tconst focusWidget = useCallback(\n\t\t( widgetId ) => {\n\t\t\tfor ( const sidebarControl of sidebarControls ) {\n\t\t\t\tconst widgets = sidebarControl.setting.get();\n\n\t\t\t\tif ( widgets.includes( widgetId ) ) {\n\t\t\t\t\tsidebarControl.sectionInstance.expand( {\n\t\t\t\t\t\t// Schedule it after the complete callback so that\n\t\t\t\t\t\t// it won't be overridden by the \"Back\" button focus.\n\t\t\t\t\t\tcompleteCallback() {\n\t\t\t\t\t\t\t// Create a \"ref-like\" object every time to ensure\n\t\t\t\t\t\t\t// the same widget id can also triggers the focus control.\n\t\t\t\t\t\t\tsetFocusedWidgetIdRef( { current: widgetId } );\n\t\t\t\t\t\t},\n\t\t\t\t\t} );\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t[ sidebarControls ]\n\t);\n\n\tuseEffect( () => {\n\t\tfunction handleFocus( settingId ) {\n\t\t\tconst widgetId = settingIdToWidgetId( settingId );\n\n\t\t\tfocusWidget( widgetId );\n\t\t}\n\n\t\tfunction handleReady() {\n\t\t\tapi.previewer.preview.bind(\n\t\t\t\t'focus-control-for-setting',\n\t\t\t\thandleFocus\n\t\t\t);\n\t\t}\n\n\t\tapi.previewer.bind( 'ready', handleReady );\n\n\t\treturn () => {\n\t\t\tapi.previewer.unbind( 'ready', handleReady );\n\t\t\tapi.previewer.preview.unbind(\n\t\t\t\t'focus-control-for-setting',\n\t\t\t\thandleFocus\n\t\t\t);\n\t\t};\n\t}, [ api, focusWidget ] );\n\n\tconst context = useMemo( () => [ focusedWidgetIdRef, focusWidget ], [\n\t\tfocusedWidgetIdRef,\n\t\tfocusWidget,\n\t] );\n\n\treturn (\n\t\t<FocusControlContext.Provider value={ context }>\n\t\t\t{ children }\n\t\t</FocusControlContext.Provider>\n\t);\n}\n\nexport const useFocusControl = () => useContext( FocusControlContext );\n","/**\n * WordPress dependencies\n */\nimport { BlockEditorProvider } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport useSidebarBlockEditor from './use-sidebar-block-editor';\nimport useBlocksFocusControl from '../focus-control/use-blocks-focus-control';\n\nexport default function SidebarEditorProvider( {\n\tsidebar,\n\tsettings,\n\tchildren,\n} ) {\n\tconst [ blocks, onInput, onChange ] = useSidebarBlockEditor( sidebar );\n\n\tuseBlocksFocusControl( blocks );\n\n\treturn (\n\t\t<BlockEditorProvider\n\t\t\tvalue={ blocks }\n\t\t\tonInput={ onInput }\n\t\t\tonChange={ onChange }\n\t\t\tsettings={ settings }\n\t\t\tuseSubRegistry={ false }\n\t\t>\n\t\t\t{ children }\n\t\t</BlockEditorProvider>\n\t);\n}\n","/**\n * External dependencies\n */\nimport { isEqual } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { useState, useEffect, useCallback } from '@wordpress/element';\nimport isShallowEqual from '@wordpress/is-shallow-equal';\nimport { getWidgetIdFromBlock, addWidgetIdToBlock } from '@wordpress/widgets';\n\n/**\n * Internal dependencies\n */\nimport { blockToWidget, widgetToBlock } from '../../utils';\n\nfunction widgetsToBlocks( widgets ) {\n\treturn widgets.map( ( widget ) => widgetToBlock( widget ) );\n}\n\nexport default function useSidebarBlockEditor( sidebar ) {\n\tconst [ blocks, setBlocks ] = useState( () =>\n\t\twidgetsToBlocks( sidebar.getWidgets() )\n\t);\n\n\tuseEffect( () => {\n\t\treturn sidebar.subscribe( ( prevWidgets, nextWidgets ) => {\n\t\t\tsetBlocks( ( prevBlocks ) => {\n\t\t\t\tconst prevWidgetsMap = new Map(\n\t\t\t\t\tprevWidgets.map( ( widget ) => [ widget.id, widget ] )\n\t\t\t\t);\n\t\t\t\tconst prevBlocksMap = new Map(\n\t\t\t\t\tprevBlocks.map( ( block ) => [\n\t\t\t\t\t\tgetWidgetIdFromBlock( block ),\n\t\t\t\t\t\tblock,\n\t\t\t\t\t] )\n\t\t\t\t);\n\n\t\t\t\tconst nextBlocks = nextWidgets.map( ( nextWidget ) => {\n\t\t\t\t\tconst prevWidget = prevWidgetsMap.get( nextWidget.id );\n\n\t\t\t\t\t// Bail out updates.\n\t\t\t\t\tif ( prevWidget && prevWidget === nextWidget ) {\n\t\t\t\t\t\treturn prevBlocksMap.get( nextWidget.id );\n\t\t\t\t\t}\n\n\t\t\t\t\treturn widgetToBlock( nextWidget );\n\t\t\t\t} );\n\n\t\t\t\t// Bail out updates.\n\t\t\t\tif ( isShallowEqual( prevBlocks, nextBlocks ) ) {\n\t\t\t\t\treturn prevBlocks;\n\t\t\t\t}\n\n\t\t\t\treturn nextBlocks;\n\t\t\t} );\n\t\t} );\n\t}, [ sidebar ] );\n\n\tconst onChangeBlocks = useCallback(\n\t\t( nextBlocks ) => {\n\t\t\tsetBlocks( ( prevBlocks ) => {\n\t\t\t\tif ( isShallowEqual( prevBlocks, nextBlocks ) ) {\n\t\t\t\t\treturn prevBlocks;\n\t\t\t\t}\n\n\t\t\t\tconst prevBlocksMap = new Map(\n\t\t\t\t\tprevBlocks.map( ( block ) => [\n\t\t\t\t\t\tgetWidgetIdFromBlock( block ),\n\t\t\t\t\t\tblock,\n\t\t\t\t\t] )\n\t\t\t\t);\n\n\t\t\t\tconst nextWidgets = nextBlocks.map( ( nextBlock ) => {\n\t\t\t\t\tconst widgetId = getWidgetIdFromBlock( nextBlock );\n\n\t\t\t\t\t// Update existing widgets.\n\t\t\t\t\tif ( widgetId && prevBlocksMap.has( widgetId ) ) {\n\t\t\t\t\t\tconst prevBlock = prevBlocksMap.get( widgetId );\n\t\t\t\t\t\tconst prevWidget = sidebar.getWidget( widgetId );\n\n\t\t\t\t\t\t// Bail out updates by returning the previous widgets.\n\t\t\t\t\t\t// Deep equality is necessary until the block editor's internals changes.\n\t\t\t\t\t\tif ( isEqual( nextBlock, prevBlock ) && prevWidget ) {\n\t\t\t\t\t\t\treturn prevWidget;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn blockToWidget( nextBlock, prevWidget );\n\t\t\t\t\t}\n\n\t\t\t\t\t// Add a new widget.\n\t\t\t\t\treturn blockToWidget( nextBlock );\n\t\t\t\t} );\n\n\t\t\t\t// Bail out updates if the updated widgets are the same.\n\t\t\t\tif ( isShallowEqual( sidebar.getWidgets(), nextWidgets ) ) {\n\t\t\t\t\treturn prevBlocks;\n\t\t\t\t}\n\n\t\t\t\tconst addedWidgetIds = sidebar.setWidgets( nextWidgets );\n\n\t\t\t\treturn nextBlocks.reduce(\n\t\t\t\t\t( updatedNextBlocks, nextBlock, index ) => {\n\t\t\t\t\t\tconst addedWidgetId = addedWidgetIds[ index ];\n\n\t\t\t\t\t\tif ( addedWidgetId !== null ) {\n\t\t\t\t\t\t\t// Only create a new instance if necessary to prevent\n\t\t\t\t\t\t\t// the whole editor from re-rendering on every edit.\n\t\t\t\t\t\t\tif ( updatedNextBlocks === nextBlocks ) {\n\t\t\t\t\t\t\t\tupdatedNextBlocks = nextBlocks.slice();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tupdatedNextBlocks[ index ] = addWidgetIdToBlock(\n\t\t\t\t\t\t\t\tnextBlock,\n\t\t\t\t\t\t\t\taddedWidgetId\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn updatedNextBlocks;\n\t\t\t\t\t},\n\t\t\t\t\tnextBlocks\n\t\t\t\t);\n\t\t\t} );\n\t\t},\n\t\t[ sidebar ]\n\t);\n\n\treturn [ blocks, onChangeBlocks, onChangeBlocks ];\n}\n","/**\n * WordPress dependencies\n */\nimport { useRef, useEffect } from '@wordpress/element';\nimport { useDispatch } from '@wordpress/data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { getWidgetIdFromBlock } from '@wordpress/widgets';\n\n/**\n * Internal dependencies\n */\nimport { useFocusControl } from '.';\n\nexport default function useBlocksFocusControl( blocks ) {\n\tconst { selectBlock } = useDispatch( blockEditorStore );\n\tconst [ focusedWidgetIdRef ] = useFocusControl();\n\n\tconst blocksRef = useRef( blocks );\n\n\tuseEffect( () => {\n\t\tblocksRef.current = blocks;\n\t}, [ blocks ] );\n\n\tuseEffect( () => {\n\t\tif ( focusedWidgetIdRef.current ) {\n\t\t\tconst focusedBlock = blocksRef.current.find(\n\t\t\t\t( block ) =>\n\t\t\t\t\tgetWidgetIdFromBlock( block ) === focusedWidgetIdRef.current\n\t\t\t);\n\n\t\t\tif ( focusedBlock ) {\n\t\t\t\tselectBlock( focusedBlock.clientId );\n\t\t\t\t// If the block is already being selected, the DOM node won't\n\t\t\t\t// get focused again automatically.\n\t\t\t\t// We select the DOM and focus it manually here.\n\t\t\t\tconst blockNode = document.querySelector(\n\t\t\t\t\t`[data-block=\"${ focusedBlock.clientId }\"]`\n\t\t\t\t);\n\t\t\t\tblockNode?.focus();\n\t\t\t}\n\t\t}\n\t}, [ focusedWidgetIdRef, selectBlock ] );\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Button, ExternalLink } from '@wordpress/components';\nimport { useDispatch } from '@wordpress/data';\nimport { store as interfaceStore } from '@wordpress/interface';\n\nexport default function WelcomeGuide( { sidebar } ) {\n\tconst { toggleFeature } = useDispatch( interfaceStore );\n\n\tconst isEntirelyBlockWidgets = sidebar\n\t\t.getWidgets()\n\t\t.every( ( widget ) => widget.id.startsWith( 'block-' ) );\n\n\treturn (\n\t\t<div className=\"customize-widgets-welcome-guide\">\n\t\t\t<div className=\"customize-widgets-welcome-guide__image__wrapper\">\n\t\t\t\t<picture>\n\t\t\t\t\t<source\n\t\t\t\t\t\tsrcSet=\"https://s.w.org/images/block-editor/welcome-editor.svg\"\n\t\t\t\t\t\tmedia=\"(prefers-reduced-motion: reduce)\"\n\t\t\t\t\t/>\n\t\t\t\t\t<img\n\t\t\t\t\t\tclassName=\"customize-widgets-welcome-guide__image\"\n\t\t\t\t\t\tsrc=\"https://s.w.org/images/block-editor/welcome-editor.gif\"\n\t\t\t\t\t\twidth=\"312\"\n\t\t\t\t\t\theight=\"240\"\n\t\t\t\t\t\talt=\"\"\n\t\t\t\t\t/>\n\t\t\t\t</picture>\n\t\t\t</div>\n\t\t\t<h1 className=\"customize-widgets-welcome-guide__heading\">\n\t\t\t\t{ __( 'Welcome to block Widgets' ) }\n\t\t\t</h1>\n\t\t\t<p className=\"customize-widgets-welcome-guide__text\">\n\t\t\t\t{ isEntirelyBlockWidgets\n\t\t\t\t\t? __(\n\t\t\t\t\t\t\t'Your theme provides different “block” areas for you to add and edit content. Try adding a search bar, social icons, or other types of blocks here and see how they’ll look on your site.'\n\t\t\t\t\t  )\n\t\t\t\t\t: __(\n\t\t\t\t\t\t\t'You can now add any block to your site’s widget areas. Don’t worry, all of your favorite widgets still work flawlessly.'\n\t\t\t\t\t  ) }\n\t\t\t</p>\n\t\t\t<Button\n\t\t\t\tclassName=\"customize-widgets-welcome-guide__button\"\n\t\t\t\tvariant=\"primary\"\n\t\t\t\tonClick={ () =>\n\t\t\t\t\ttoggleFeature( 'core/customize-widgets', 'welcomeGuide' )\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t{ __( 'Got it' ) }\n\t\t\t</Button>\n\t\t\t<hr className=\"customize-widgets-welcome-guide__separator\" />\n\t\t\t{ ! isEntirelyBlockWidgets && (\n\t\t\t\t<p className=\"customize-widgets-welcome-guide__more-info\">\n\t\t\t\t\t{ __( 'Want to stick with the old widgets?' ) }\n\t\t\t\t\t<br />\n\t\t\t\t\t<ExternalLink\n\t\t\t\t\t\thref={ __(\n\t\t\t\t\t\t\t'https://wordpress.org/plugins/classic-widgets/'\n\t\t\t\t\t\t) }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Get the Classic Widgets plugin.' ) }\n\t\t\t\t\t</ExternalLink>\n\t\t\t\t</p>\n\t\t\t) }\n\t\t\t<p className=\"customize-widgets-welcome-guide__more-info\">\n\t\t\t\t{ __( 'New to the block editor?' ) }\n\t\t\t\t<br />\n\t\t\t\t<ExternalLink\n\t\t\t\t\thref={ __(\n\t\t\t\t\t\t'https://wordpress.org/support/article/wordpress-editor/'\n\t\t\t\t\t) }\n\t\t\t\t>\n\t\t\t\t\t{ __( \"Here's a detailed guide.\" ) }\n\t\t\t\t</ExternalLink>\n\t\t\t</p>\n\t\t</div>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useEffect } from '@wordpress/element';\nimport {\n\tuseShortcut,\n\tstore as keyboardShortcutsStore,\n} from '@wordpress/keyboard-shortcuts';\nimport { useDispatch } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\n\nfunction KeyboardShortcuts( { undo, redo, save } ) {\n\tuseShortcut( 'core/customize-widgets/undo', ( event ) => {\n\t\tundo();\n\t\tevent.preventDefault();\n\t} );\n\n\tuseShortcut( 'core/customize-widgets/redo', ( event ) => {\n\t\tredo();\n\t\tevent.preventDefault();\n\t} );\n\n\tuseShortcut( 'core/customize-widgets/save', ( event ) => {\n\t\tevent.preventDefault();\n\t\tsave();\n\t} );\n\n\treturn null;\n}\n\nfunction KeyboardShortcutsRegister() {\n\tconst { registerShortcut, unregisterShortcut } = useDispatch(\n\t\tkeyboardShortcutsStore\n\t);\n\n\tuseEffect( () => {\n\t\tregisterShortcut( {\n\t\t\tname: 'core/customize-widgets/undo',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Undo your last changes.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'primary',\n\t\t\t\tcharacter: 'z',\n\t\t\t},\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/customize-widgets/redo',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Redo your last undo.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'primaryShift',\n\t\t\t\tcharacter: 'z',\n\t\t\t},\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/customize-widgets/save',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Save your changes.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'primary',\n\t\t\t\tcharacter: 's',\n\t\t\t},\n\t\t} );\n\n\t\treturn () => {\n\t\t\tunregisterShortcut( 'core/customize-widgets/undo' );\n\t\t\tunregisterShortcut( 'core/customize-widgets/redo' );\n\t\t\tunregisterShortcut( 'core/customize-widgets/save' );\n\t\t};\n\t}, [ registerShortcut ] );\n\n\treturn null;\n}\n\nKeyboardShortcuts.Register = KeyboardShortcutsRegister;\nexport default KeyboardShortcuts;\n","/**\n * WordPress dependencies\n */\nimport { useRef, useEffect } from '@wordpress/element';\nimport {\n\tButtonBlockAppender,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { useSelect } from '@wordpress/data';\n\nexport default function BlockAppender( props ) {\n\tconst ref = useRef();\n\tconst isBlocksListEmpty = useSelect(\n\t\t( select ) => select( blockEditorStore ).getBlockCount() === 0\n\t);\n\n\t// Move the focus to the block appender to prevent focus from\n\t// being lost when emptying the widget area.\n\tuseEffect( () => {\n\t\tif ( isBlocksListEmpty && ref.current ) {\n\t\t\tconst { ownerDocument } = ref.current;\n\n\t\t\tif (\n\t\t\t\t! ownerDocument.activeElement ||\n\t\t\t\townerDocument.activeElement === ownerDocument.body\n\t\t\t) {\n\t\t\t\tref.current.focus();\n\t\t\t}\n\t\t}\n\t}, [ isBlocksListEmpty ] );\n\n\treturn <ButtonBlockAppender { ...props } ref={ ref } />;\n}\n","/**\n * External dependencies\n */\nimport { defaultTo } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useSelect } from '@wordpress/data';\nimport { useMemo, createPortal } from '@wordpress/element';\nimport {\n\tBlockList,\n\tBlockTools,\n\tBlockSelectionClearer,\n\tBlockInspector,\n\tCopyHandler,\n\tObserveTyping,\n\tWritingFlow,\n\tBlockEditorKeyboardShortcuts,\n\t__unstableBlockSettingsMenuFirstItem,\n\t__unstableEditorStyles as EditorStyles,\n} from '@wordpress/block-editor';\nimport { uploadMedia } from '@wordpress/media-utils';\nimport { store as interfaceStore } from '@wordpress/interface';\n\n/**\n * Internal dependencies\n */\nimport BlockInspectorButton from '../block-inspector-button';\nimport Header from '../header';\nimport useInserter from '../inserter/use-inserter';\nimport SidebarEditorProvider from './sidebar-editor-provider';\nimport WelcomeGuide from '../welcome-guide';\nimport KeyboardShortcuts from '../keyboard-shortcuts';\nimport BlockAppender from '../block-appender';\n\nexport default function SidebarBlockEditor( {\n\tblockEditorSettings,\n\tsidebar,\n\tinserter,\n\tinspector,\n} ) {\n\tconst [ isInserterOpened, setIsInserterOpened ] = useInserter( inserter );\n\tconst {\n\t\thasUploadPermissions,\n\t\tisFixedToolbarActive,\n\t\tkeepCaretInsideBlock,\n\t\tisWelcomeGuideActive,\n\t} = useSelect( ( select ) => {\n\t\tconst { isFeatureActive } = select( interfaceStore );\n\t\treturn {\n\t\t\thasUploadPermissions: defaultTo(\n\t\t\t\tselect( coreStore ).canUser( 'create', 'media' ),\n\t\t\t\ttrue\n\t\t\t),\n\t\t\tisFixedToolbarActive: isFeatureActive(\n\t\t\t\t'core/customize-widgets',\n\t\t\t\t'fixedToolbar'\n\t\t\t),\n\t\t\tkeepCaretInsideBlock: isFeatureActive(\n\t\t\t\t'core/customize-widgets',\n\t\t\t\t'keepCaretInsideBlock'\n\t\t\t),\n\t\t\tisWelcomeGuideActive: isFeatureActive(\n\t\t\t\t'core/customize-widgets',\n\t\t\t\t'welcomeGuide'\n\t\t\t),\n\t\t};\n\t}, [] );\n\tconst settings = useMemo( () => {\n\t\tlet mediaUploadBlockEditor;\n\t\tif ( hasUploadPermissions ) {\n\t\t\tmediaUploadBlockEditor = ( { onError, ...argumentsObject } ) => {\n\t\t\t\tuploadMedia( {\n\t\t\t\t\twpAllowedMimeTypes: blockEditorSettings.allowedMimeTypes,\n\t\t\t\t\tonError: ( { message } ) => onError( message ),\n\t\t\t\t\t...argumentsObject,\n\t\t\t\t} );\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\t...blockEditorSettings,\n\t\t\t__experimentalSetIsInserterOpened: setIsInserterOpened,\n\t\t\tmediaUpload: mediaUploadBlockEditor,\n\t\t\thasFixedToolbar: isFixedToolbarActive,\n\t\t\tkeepCaretInsideBlock,\n\t\t\t__unstableHasCustomAppender: true,\n\t\t};\n\t}, [\n\t\thasUploadPermissions,\n\t\tblockEditorSettings,\n\t\tisFixedToolbarActive,\n\t\tkeepCaretInsideBlock,\n\t\tsetIsInserterOpened,\n\t] );\n\n\tif ( isWelcomeGuideActive ) {\n\t\treturn <WelcomeGuide sidebar={ sidebar } />;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<BlockEditorKeyboardShortcuts.Register />\n\t\t\t<KeyboardShortcuts.Register />\n\n\t\t\t<SidebarEditorProvider sidebar={ sidebar } settings={ settings }>\n\t\t\t\t<KeyboardShortcuts\n\t\t\t\t\tundo={ sidebar.undo }\n\t\t\t\t\tredo={ sidebar.redo }\n\t\t\t\t\tsave={ sidebar.save }\n\t\t\t\t/>\n\n\t\t\t\t<Header\n\t\t\t\t\tsidebar={ sidebar }\n\t\t\t\t\tinserter={ inserter }\n\t\t\t\t\tisInserterOpened={ isInserterOpened }\n\t\t\t\t\tsetIsInserterOpened={ setIsInserterOpened }\n\t\t\t\t\tisFixedToolbarActive={ isFixedToolbarActive }\n\t\t\t\t/>\n\n\t\t\t\t<CopyHandler>\n\t\t\t\t\t<BlockTools>\n\t\t\t\t\t\t<EditorStyles styles={ settings.defaultEditorStyles } />\n\t\t\t\t\t\t<BlockSelectionClearer>\n\t\t\t\t\t\t\t<WritingFlow className=\"editor-styles-wrapper\">\n\t\t\t\t\t\t\t\t<ObserveTyping>\n\t\t\t\t\t\t\t\t\t<BlockList\n\t\t\t\t\t\t\t\t\t\trenderAppender={ BlockAppender }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</ObserveTyping>\n\t\t\t\t\t\t\t</WritingFlow>\n\t\t\t\t\t\t</BlockSelectionClearer>\n\t\t\t\t\t</BlockTools>\n\t\t\t\t</CopyHandler>\n\n\t\t\t\t{ createPortal(\n\t\t\t\t\t// This is a temporary hack to prevent button component inside <BlockInspector>\n\t\t\t\t\t// from submitting form when type=\"button\" is not specified.\n\t\t\t\t\t<form onSubmit={ ( event ) => event.preventDefault() }>\n\t\t\t\t\t\t<BlockInspector />\n\t\t\t\t\t</form>,\n\t\t\t\t\tinspector.contentContainer[ 0 ]\n\t\t\t\t) }\n\t\t\t</SidebarEditorProvider>\n\n\t\t\t<__unstableBlockSettingsMenuFirstItem>\n\t\t\t\t{ ( { onClose } ) => (\n\t\t\t\t\t<BlockInspectorButton\n\t\t\t\t\t\tinspector={ inspector }\n\t\t\t\t\t\tcloseMenu={ onClose }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</__unstableBlockSettingsMenuFirstItem>\n\t\t</>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useEffect, useCallback } from '@wordpress/element';\nimport { useSelect, useDispatch, select as selectStore } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as customizeWidgetsStore } from '../../store';\n\nexport default function useInserter( inserter ) {\n\tconst isInserterOpened = useSelect(\n\t\t( select ) => select( customizeWidgetsStore ).isInserterOpened(),\n\t\t[]\n\t);\n\tconst { setIsInserterOpened } = useDispatch( customizeWidgetsStore );\n\n\tuseEffect( () => {\n\t\tif ( isInserterOpened ) {\n\t\t\tinserter.open();\n\t\t} else {\n\t\t\tinserter.close();\n\t\t}\n\t}, [ inserter, isInserterOpened ] );\n\n\treturn [\n\t\tisInserterOpened,\n\t\tuseCallback(\n\t\t\t( updater ) => {\n\t\t\t\tlet isOpen = updater;\n\t\t\t\tif ( typeof updater === 'function' ) {\n\t\t\t\t\tisOpen = updater(\n\t\t\t\t\t\tselectStore( customizeWidgetsStore ).isInserterOpened()\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tsetIsInserterOpened( isOpen );\n\t\t\t},\n\t\t\t[ setIsInserterOpened ]\n\t\t),\n\t];\n}\n","/**\n * WordPress dependencies\n */\nimport { createContext, useMemo, useContext } from '@wordpress/element';\n\nexport const SidebarControlsContext = createContext();\n\nexport default function SidebarControls( {\n\tsidebarControls,\n\tactiveSidebarControl,\n\tchildren,\n} ) {\n\tconst context = useMemo(\n\t\t() => ( {\n\t\t\tsidebarControls,\n\t\t\tactiveSidebarControl,\n\t\t} ),\n\t\t[ sidebarControls, activeSidebarControl ]\n\t);\n\n\treturn (\n\t\t<SidebarControlsContext.Provider value={ context }>\n\t\t\t{ children }\n\t\t</SidebarControlsContext.Provider>\n\t);\n}\n\nexport function useSidebarControls() {\n\tconst { sidebarControls } = useContext( SidebarControlsContext );\n\n\treturn sidebarControls;\n}\n\nexport function useActiveSidebarControl() {\n\tconst { activeSidebarControl } = useContext( SidebarControlsContext );\n\n\treturn activeSidebarControl;\n}\n","/**\n * WordPress dependencies\n */\nimport { useState, useEffect, useRef, createPortal } from '@wordpress/element';\nimport { SlotFillProvider, Popover } from '@wordpress/components';\nimport { ShortcutProvider } from '@wordpress/keyboard-shortcuts';\n\n/**\n * Internal dependencies\n */\nimport ErrorBoundary from '../error-boundary';\nimport SidebarBlockEditor from '../sidebar-block-editor';\nimport FocusControl from '../focus-control';\nimport SidebarControls from '../sidebar-controls';\nimport useClearSelectedBlock from './use-clear-selected-block';\n\nexport default function CustomizeWidgets( {\n\tapi,\n\tsidebarControls,\n\tblockEditorSettings,\n} ) {\n\tconst [ activeSidebarControl, setActiveSidebarControl ] = useState( null );\n\tconst parentContainer = document.getElementById(\n\t\t'customize-theme-controls'\n\t);\n\tconst popoverRef = useRef();\n\n\tuseClearSelectedBlock( activeSidebarControl, popoverRef );\n\n\tuseEffect( () => {\n\t\tconst unsubscribers = sidebarControls.map( ( sidebarControl ) =>\n\t\t\tsidebarControl.subscribe( ( expanded ) => {\n\t\t\t\tif ( expanded ) {\n\t\t\t\t\tsetActiveSidebarControl( sidebarControl );\n\t\t\t\t}\n\t\t\t} )\n\t\t);\n\n\t\treturn () => {\n\t\t\tunsubscribers.forEach( ( unsubscriber ) => unsubscriber() );\n\t\t};\n\t}, [ sidebarControls ] );\n\n\tconst activeSidebar =\n\t\tactiveSidebarControl &&\n\t\tcreatePortal(\n\t\t\t<ErrorBoundary>\n\t\t\t\t<SidebarBlockEditor\n\t\t\t\t\tkey={ activeSidebarControl.id }\n\t\t\t\t\tblockEditorSettings={ blockEditorSettings }\n\t\t\t\t\tsidebar={ activeSidebarControl.sidebarAdapter }\n\t\t\t\t\tinserter={ activeSidebarControl.inserter }\n\t\t\t\t\tinspector={ activeSidebarControl.inspector }\n\t\t\t\t/>\n\t\t\t</ErrorBoundary>,\n\t\t\tactiveSidebarControl.container[ 0 ]\n\t\t);\n\n\t// We have to portal this to the parent of both the editor and the inspector,\n\t// so that the popovers will appear above both of them.\n\tconst popover =\n\t\tparentContainer &&\n\t\tcreatePortal(\n\t\t\t<div className=\"customize-widgets-popover\" ref={ popoverRef }>\n\t\t\t\t<Popover.Slot />\n\t\t\t</div>,\n\t\t\tparentContainer\n\t\t);\n\n\treturn (\n\t\t<ShortcutProvider>\n\t\t\t<SlotFillProvider>\n\t\t\t\t<SidebarControls\n\t\t\t\t\tsidebarControls={ sidebarControls }\n\t\t\t\t\tactiveSidebarControl={ activeSidebarControl }\n\t\t\t\t>\n\t\t\t\t\t<FocusControl\n\t\t\t\t\t\tapi={ api }\n\t\t\t\t\t\tsidebarControls={ sidebarControls }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ activeSidebar }\n\t\t\t\t\t\t{ popover }\n\t\t\t\t\t</FocusControl>\n\t\t\t\t</SidebarControls>\n\t\t\t</SlotFillProvider>\n\t\t</ShortcutProvider>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useEffect } from '@wordpress/element';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\n\n/**\n * We can't just use <BlockSelectionClearer> because the customizer has\n * many root nodes rather than just one in the post editor.\n * We need to listen to the focus events in all those roots, and also in\n * the preview iframe.\n * This hook will clear the selected block when focusing outside the editor,\n * with a few exceptions:\n * 1. Focusing on popovers.\n * 2. Focusing on the inspector.\n * 3. Focusing on any modals/dialogs.\n * These cases are normally triggered by user interactions from the editor,\n * not by explicitly focusing outside the editor, hence no need for clearing.\n *\n * @param {Object} sidebarControl The sidebar control instance.\n * @param {Object} popoverRef     The ref object of the popover node container.\n */\nexport default function useClearSelectedBlock( sidebarControl, popoverRef ) {\n\tconst { hasSelectedBlock, hasMultiSelection } = useSelect(\n\t\tblockEditorStore\n\t);\n\tconst { clearSelectedBlock } = useDispatch( blockEditorStore );\n\n\tuseEffect( () => {\n\t\tif ( popoverRef.current && sidebarControl ) {\n\t\t\tconst inspector = sidebarControl.inspector;\n\t\t\tconst container = sidebarControl.container[ 0 ];\n\t\t\tconst ownerDocument = container.ownerDocument;\n\t\t\tconst ownerWindow = ownerDocument.defaultView;\n\n\t\t\tfunction handleClearSelectedBlock( element ) {\n\t\t\t\tif (\n\t\t\t\t\t// 1. Make sure there are blocks being selected.\n\t\t\t\t\t( hasSelectedBlock() || hasMultiSelection() ) &&\n\t\t\t\t\t// 2. The element should exist in the DOM (not deleted).\n\t\t\t\t\telement &&\n\t\t\t\t\townerDocument.contains( element ) &&\n\t\t\t\t\t// 3. It should also not exist in the container, the popover, nor the dialog.\n\t\t\t\t\t! container.contains( element ) &&\n\t\t\t\t\t! popoverRef.current.contains( element ) &&\n\t\t\t\t\t! element.closest( '[role=\"dialog\"]' ) &&\n\t\t\t\t\t// 4. The inspector should not be opened.\n\t\t\t\t\t! inspector.expanded()\n\t\t\t\t) {\n\t\t\t\t\tclearSelectedBlock();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Handle mouse down in the same document.\n\t\t\tfunction handleMouseDown( event ) {\n\t\t\t\thandleClearSelectedBlock( event.target );\n\t\t\t}\n\t\t\t// Handle focusing outside the current document, like to iframes.\n\t\t\tfunction handleBlur() {\n\t\t\t\thandleClearSelectedBlock( ownerDocument.activeElement );\n\t\t\t}\n\n\t\t\townerDocument.addEventListener( 'mousedown', handleMouseDown );\n\t\t\townerWindow.addEventListener( 'blur', handleBlur );\n\n\t\t\treturn () => {\n\t\t\t\townerDocument.removeEventListener(\n\t\t\t\t\t'mousedown',\n\t\t\t\t\thandleMouseDown\n\t\t\t\t);\n\t\t\t\townerWindow.removeEventListener( 'blur', handleBlur );\n\t\t\t};\n\t\t}\n\t}, [\n\t\tpopoverRef,\n\t\tsidebarControl,\n\t\thasSelectedBlock,\n\t\thasMultiSelection,\n\t\tclearSelectedBlock,\n\t] );\n}\n","/**\n * Internal dependencies\n */\nimport { settingIdToWidgetId } from '../../utils';\n\nconst { wp } = window;\n\nfunction parseWidgetId( widgetId ) {\n\tconst matches = widgetId.match( /^(.+)-(\\d+)$/ );\n\tif ( matches ) {\n\t\treturn {\n\t\t\tidBase: matches[ 1 ],\n\t\t\tnumber: parseInt( matches[ 2 ], 10 ),\n\t\t};\n\t}\n\n\t// Likely an old single widget.\n\treturn { idBase: widgetId };\n}\n\nfunction widgetIdToSettingId( widgetId ) {\n\tconst { idBase, number } = parseWidgetId( widgetId );\n\tif ( number ) {\n\t\treturn `widget_${ idBase }[${ number }]`;\n\t}\n\n\treturn `widget_${ idBase }`;\n}\n\n/**\n * This is a custom debounce function to call different callbacks depending on\n * whether it's the _leading_ call or not.\n *\n * @param {Function} leading  The callback that gets called first.\n * @param {Function} callback The callback that gets called after the first time.\n * @param {number}   timeout  The debounced time in milliseconds.\n * @return {Function} The debounced function.\n */\nfunction debounce( leading, callback, timeout ) {\n\tlet isLeading = false;\n\tlet timerID;\n\n\tfunction debounced( ...args ) {\n\t\tconst result = ( isLeading ? callback : leading ).apply( this, args );\n\n\t\tisLeading = true;\n\n\t\tclearTimeout( timerID );\n\n\t\ttimerID = setTimeout( () => {\n\t\t\tisLeading = false;\n\t\t}, timeout );\n\n\t\treturn result;\n\t}\n\n\tdebounced.cancel = () => {\n\t\tisLeading = false;\n\t\tclearTimeout( timerID );\n\t};\n\n\treturn debounced;\n}\n\nexport default class SidebarAdapter {\n\tconstructor( setting, api ) {\n\t\tthis.setting = setting;\n\t\tthis.api = api;\n\n\t\tthis.locked = false;\n\t\tthis.widgetsCache = new WeakMap();\n\t\tthis.subscribers = new Set();\n\n\t\tthis.history = [\n\t\t\tthis._getWidgetIds().map( ( widgetId ) =>\n\t\t\t\tthis.getWidget( widgetId )\n\t\t\t),\n\t\t];\n\t\tthis.historyIndex = 0;\n\t\tthis.historySubscribers = new Set();\n\t\t// Debounce the input for 1 second.\n\t\tthis._debounceSetHistory = debounce(\n\t\t\tthis._pushHistory,\n\t\t\tthis._replaceHistory,\n\t\t\t1000\n\t\t);\n\n\t\tthis.setting.bind( this._handleSettingChange.bind( this ) );\n\t\tthis.api.bind( 'change', this._handleAllSettingsChange.bind( this ) );\n\n\t\tthis.undo = this.undo.bind( this );\n\t\tthis.redo = this.redo.bind( this );\n\t\tthis.save = this.save.bind( this );\n\t}\n\n\tsubscribe( callback ) {\n\t\tthis.subscribers.add( callback );\n\n\t\treturn () => {\n\t\t\tthis.subscribers.delete( callback );\n\t\t};\n\t}\n\n\tgetWidgets() {\n\t\treturn this.history[ this.historyIndex ];\n\t}\n\n\t_emit( ...args ) {\n\t\tfor ( const callback of this.subscribers ) {\n\t\t\tcallback( ...args );\n\t\t}\n\t}\n\n\t_getWidgetIds() {\n\t\treturn this.setting.get();\n\t}\n\n\t_pushHistory() {\n\t\tthis.history = [\n\t\t\t...this.history.slice( 0, this.historyIndex + 1 ),\n\t\t\tthis._getWidgetIds().map( ( widgetId ) =>\n\t\t\t\tthis.getWidget( widgetId )\n\t\t\t),\n\t\t];\n\t\tthis.historyIndex += 1;\n\n\t\tthis.historySubscribers.forEach( ( listener ) => listener() );\n\t}\n\n\t_replaceHistory() {\n\t\tthis.history[\n\t\t\tthis.historyIndex\n\t\t] = this._getWidgetIds().map( ( widgetId ) =>\n\t\t\tthis.getWidget( widgetId )\n\t\t);\n\t}\n\n\t_handleSettingChange() {\n\t\tif ( this.locked ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst prevWidgets = this.getWidgets();\n\n\t\tthis._pushHistory();\n\n\t\tthis._emit( prevWidgets, this.getWidgets() );\n\t}\n\n\t_handleAllSettingsChange( setting ) {\n\t\tif ( this.locked ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( ! setting.id.startsWith( 'widget_' ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst widgetId = settingIdToWidgetId( setting.id );\n\t\tif ( ! this.setting.get().includes( widgetId ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst prevWidgets = this.getWidgets();\n\n\t\tthis._pushHistory();\n\n\t\tthis._emit( prevWidgets, this.getWidgets() );\n\t}\n\n\t_createWidget( widget ) {\n\t\tconst widgetModel = wp.customize.Widgets.availableWidgets.findWhere( {\n\t\t\tid_base: widget.idBase,\n\t\t} );\n\n\t\tlet number = widget.number;\n\t\tif ( widgetModel.get( 'is_multi' ) && ! number ) {\n\t\t\twidgetModel.set(\n\t\t\t\t'multi_number',\n\t\t\t\twidgetModel.get( 'multi_number' ) + 1\n\t\t\t);\n\t\t\tnumber = widgetModel.get( 'multi_number' );\n\t\t}\n\n\t\tconst settingId = number\n\t\t\t? `widget_${ widget.idBase }[${ number }]`\n\t\t\t: `widget_${ widget.idBase }`;\n\n\t\tconst settingArgs = {\n\t\t\ttransport: wp.customize.Widgets.data.selectiveRefreshableWidgets[\n\t\t\t\twidgetModel.get( 'id_base' )\n\t\t\t]\n\t\t\t\t? 'postMessage'\n\t\t\t\t: 'refresh',\n\t\t\tpreviewer: this.setting.previewer,\n\t\t};\n\t\tconst setting = this.api.create(\n\t\t\tsettingId,\n\t\t\tsettingId,\n\t\t\t'',\n\t\t\tsettingArgs\n\t\t);\n\t\tsetting.set( widget.instance );\n\n\t\tconst widgetId = settingIdToWidgetId( settingId );\n\n\t\treturn widgetId;\n\t}\n\n\t_removeWidget( widget ) {\n\t\tconst settingId = widgetIdToSettingId( widget.id );\n\t\tconst setting = this.api( settingId );\n\n\t\tif ( setting ) {\n\t\t\tconst instance = setting.get();\n\t\t\tthis.widgetsCache.delete( instance );\n\t\t}\n\n\t\tthis.api.remove( settingId );\n\t}\n\n\t_updateWidget( widget ) {\n\t\tconst prevWidget = this.getWidget( widget.id );\n\n\t\t// Bail out update if nothing changed.\n\t\tif ( prevWidget === widget ) {\n\t\t\treturn widget.id;\n\t\t}\n\n\t\t// Update existing setting if only the widget's instance changed.\n\t\tif (\n\t\t\tprevWidget.idBase &&\n\t\t\twidget.idBase &&\n\t\t\tprevWidget.idBase === widget.idBase\n\t\t) {\n\t\t\tconst settingId = widgetIdToSettingId( widget.id );\n\t\t\tthis.api( settingId ).set( widget.instance );\n\t\t\treturn widget.id;\n\t\t}\n\n\t\t// Otherwise delete and re-create.\n\t\tthis._removeWidget( widget );\n\t\treturn this._createWidget( widget );\n\t}\n\n\tgetWidget( widgetId ) {\n\t\tif ( ! widgetId ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst { idBase, number } = parseWidgetId( widgetId );\n\t\tconst settingId = widgetIdToSettingId( widgetId );\n\t\tconst setting = this.api( settingId );\n\n\t\tif ( ! setting ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst instance = setting.get();\n\n\t\tif ( this.widgetsCache.has( instance ) ) {\n\t\t\treturn this.widgetsCache.get( instance );\n\t\t}\n\n\t\tconst widget = {\n\t\t\tid: widgetId,\n\t\t\tidBase,\n\t\t\tnumber,\n\t\t\tinstance,\n\t\t};\n\n\t\tthis.widgetsCache.set( instance, widget );\n\n\t\treturn widget;\n\t}\n\n\t_updateWidgets( nextWidgets ) {\n\t\tthis.locked = true;\n\n\t\tconst addedWidgetIds = [];\n\n\t\tconst nextWidgetIds = nextWidgets.map( ( nextWidget ) => {\n\t\t\tif ( nextWidget.id && this.getWidget( nextWidget.id ) ) {\n\t\t\t\taddedWidgetIds.push( null );\n\n\t\t\t\treturn this._updateWidget( nextWidget );\n\t\t\t}\n\n\t\t\tconst widgetId = this._createWidget( nextWidget );\n\n\t\t\taddedWidgetIds.push( widgetId );\n\n\t\t\treturn widgetId;\n\t\t} );\n\n\t\tconst deletedWidgets = this.getWidgets().filter(\n\t\t\t( widget ) => ! nextWidgetIds.includes( widget.id )\n\t\t);\n\t\tdeletedWidgets.forEach( ( widget ) => this._removeWidget( widget ) );\n\n\t\tthis.setting.set( nextWidgetIds );\n\n\t\tthis.locked = false;\n\n\t\treturn addedWidgetIds;\n\t}\n\n\tsetWidgets( nextWidgets ) {\n\t\tconst addedWidgetIds = this._updateWidgets( nextWidgets );\n\n\t\tthis._debounceSetHistory();\n\n\t\treturn addedWidgetIds;\n\t}\n\n\t/**\n\t * Undo/Redo related features\n\t */\n\thasUndo() {\n\t\treturn this.historyIndex > 0;\n\t}\n\n\thasRedo() {\n\t\treturn this.historyIndex < this.history.length - 1;\n\t}\n\n\t_seek( historyIndex ) {\n\t\tconst currentWidgets = this.getWidgets();\n\n\t\tthis.historyIndex = historyIndex;\n\n\t\tconst widgets = this.history[ this.historyIndex ];\n\n\t\tthis._updateWidgets( widgets );\n\n\t\tthis._emit( currentWidgets, this.getWidgets() );\n\n\t\tthis.historySubscribers.forEach( ( listener ) => listener() );\n\t\tthis._debounceSetHistory.cancel();\n\t}\n\n\tundo() {\n\t\tif ( ! this.hasUndo() ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._seek( this.historyIndex - 1 );\n\t}\n\n\tredo() {\n\t\tif ( ! this.hasRedo() ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._seek( this.historyIndex + 1 );\n\t}\n\n\tsubscribeHistory( listener ) {\n\t\tthis.historySubscribers.add( listener );\n\n\t\treturn () => {\n\t\t\tthis.historySubscribers.delete( listener );\n\t\t};\n\t}\n\n\tsave() {\n\t\tthis.api.previewer.save();\n\t}\n}\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"dom\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"hooks\"];","/**\n * External dependencies\n */\nimport { without } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tBlockControls,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { createHigherOrderComponent } from '@wordpress/compose';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { addFilter } from '@wordpress/hooks';\nimport { MoveToWidgetArea, getWidgetIdFromBlock } from '@wordpress/widgets';\n\n/**\n * Internal dependencies\n */\nimport {\n\tuseSidebarControls,\n\tuseActiveSidebarControl,\n} from '../components/sidebar-controls';\nimport { useFocusControl } from '../components/focus-control';\nimport { blockToWidget } from '../utils';\n\nconst withMoveToSidebarToolbarItem = createHigherOrderComponent(\n\t( BlockEdit ) => ( props ) => {\n\t\tlet widgetId = getWidgetIdFromBlock( props );\n\t\tconst sidebarControls = useSidebarControls();\n\t\tconst activeSidebarControl = useActiveSidebarControl();\n\t\tconst hasMultipleSidebars = sidebarControls?.length > 1;\n\t\tconst blockName = props.name;\n\t\tconst clientId = props.clientId;\n\t\tconst canInsertBlockInSidebar = useSelect(\n\t\t\t( select ) => {\n\t\t\t\t// Use an empty string to represent the root block list, which\n\t\t\t\t// in the customizer editor represents a sidebar/widget area.\n\t\t\t\treturn select( blockEditorStore ).canInsertBlockType(\n\t\t\t\t\tblockName,\n\t\t\t\t\t''\n\t\t\t\t);\n\t\t\t},\n\t\t\t[ blockName ]\n\t\t);\n\t\tconst block = useSelect(\n\t\t\t( select ) => select( blockEditorStore ).getBlock( clientId ),\n\t\t\t[ clientId ]\n\t\t);\n\t\tconst { removeBlock } = useDispatch( blockEditorStore );\n\t\tconst [ , focusWidget ] = useFocusControl();\n\n\t\tfunction moveToSidebar( sidebarControlId ) {\n\t\t\tconst newSidebarControl = sidebarControls.find(\n\t\t\t\t( sidebarControl ) => sidebarControl.id === sidebarControlId\n\t\t\t);\n\n\t\t\tif ( widgetId ) {\n\t\t\t\t/**\n\t\t\t\t * If there's a widgetId, move it to the other sidebar.\n\t\t\t\t */\n\t\t\t\tconst oldSetting = activeSidebarControl.setting;\n\t\t\t\tconst newSetting = newSidebarControl.setting;\n\n\t\t\t\toldSetting( without( oldSetting(), widgetId ) );\n\t\t\t\tnewSetting( [ ...newSetting(), widgetId ] );\n\t\t\t} else {\n\t\t\t\t/**\n\t\t\t\t * If there isn't a widgetId, it's most likely a inner block.\n\t\t\t\t * First, remove the block in the original sidebar,\n\t\t\t\t * then, create a new widget in the new sidebar and get back its widgetId.\n\t\t\t\t */\n\t\t\t\tconst sidebarAdapter = newSidebarControl.sidebarAdapter;\n\n\t\t\t\tremoveBlock( clientId );\n\t\t\t\tconst addedWidgetIds = sidebarAdapter.setWidgets( [\n\t\t\t\t\t...sidebarAdapter.getWidgets(),\n\t\t\t\t\tblockToWidget( block ),\n\t\t\t\t] );\n\t\t\t\t// The last non-null id is the added widget's id.\n\t\t\t\twidgetId = addedWidgetIds.reverse().find( ( id ) => !! id );\n\t\t\t}\n\n\t\t\t// Move focus to the moved widget and expand the sidebar.\n\t\t\tfocusWidget( widgetId );\n\t\t}\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<BlockEdit { ...props } />\n\t\t\t\t{ hasMultipleSidebars && canInsertBlockInSidebar && (\n\t\t\t\t\t<BlockControls>\n\t\t\t\t\t\t<MoveToWidgetArea\n\t\t\t\t\t\t\twidgetAreas={ sidebarControls.map(\n\t\t\t\t\t\t\t\t( sidebarControl ) => ( {\n\t\t\t\t\t\t\t\t\tid: sidebarControl.id,\n\t\t\t\t\t\t\t\t\tname: sidebarControl.params.label,\n\t\t\t\t\t\t\t\t\tdescription:\n\t\t\t\t\t\t\t\t\t\tsidebarControl.params.description,\n\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tcurrentWidgetAreaId={ activeSidebarControl?.id }\n\t\t\t\t\t\t\tonSelect={ moveToSidebar }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</BlockControls>\n\t\t\t\t) }\n\t\t\t</>\n\t\t);\n\t},\n\t'withMoveToSidebarToolbarItem'\n);\n\naddFilter(\n\t'editor.BlockEdit',\n\t'core/customize-widgets/block-edit',\n\twithMoveToSidebarToolbarItem\n);\n","/**\n * WordPress dependencies\n */\nimport { addFilter } from '@wordpress/hooks';\nimport { MediaUpload } from '@wordpress/media-utils';\n\nconst replaceMediaUpload = () => MediaUpload;\n\naddFilter(\n\t'editor.MediaUpload',\n\t'core/edit-widgets/replace-media-upload',\n\treplaceMediaUpload\n);\n","/**\n * WordPress dependencies\n */\nimport { createHigherOrderComponent } from '@wordpress/compose';\nimport { addFilter } from '@wordpress/hooks';\n\nconst { wp } = window;\n\nconst withWideWidgetDisplay = createHigherOrderComponent(\n\t( BlockEdit ) => ( props ) => {\n\t\tconst { idBase } = props.attributes;\n\t\tconst isWide =\n\t\t\twp.customize.Widgets.data.availableWidgets.find(\n\t\t\t\t( widget ) => widget.id_base === idBase\n\t\t\t)?.is_wide ?? false;\n\n\t\treturn <BlockEdit { ...props } isWide={ isWide } />;\n\t},\n\t'withWideWidgetDisplay'\n);\n\naddFilter(\n\t'editor.BlockEdit',\n\t'core/customize-widgets/wide-widget-display',\n\twithWideWidgetDisplay\n);\n","/**\n * WordPress dependencies\n */\nimport { render } from '@wordpress/element';\nimport {\n\tregisterCoreBlocks,\n\t__experimentalGetCoreBlocks,\n\t__experimentalRegisterExperimentalCoreBlocks,\n} from '@wordpress/block-library';\nimport {\n\tregisterLegacyWidgetBlock,\n\tregisterLegacyWidgetVariations,\n\tregisterWidgetGroupBlock,\n} from '@wordpress/widgets';\nimport {\n\tsetFreeformContentHandlerName,\n\tstore as blocksStore,\n} from '@wordpress/blocks';\nimport { dispatch } from '@wordpress/data';\nimport { store as interfaceStore } from '@wordpress/interface';\n\n/**\n * Internal dependencies\n */\nimport CustomizeWidgets from './components/customize-widgets';\nimport getSidebarSection from './controls/sidebar-section';\nimport getSidebarControl from './controls/sidebar-control';\nimport './filters';\n\nconst { wp } = window;\n\nconst DISABLED_BLOCKS = [\n\t'core/more',\n\t'core/block',\n\t'core/freeform',\n\t'core/template-part',\n];\nconst ENABLE_EXPERIMENTAL_FSE_BLOCKS = false;\n\n/**\n * Initializes the widgets block editor in the customizer.\n *\n * @param {string} editorName          The editor name.\n * @param {Object} blockEditorSettings Block editor settings.\n */\nexport function initialize( editorName, blockEditorSettings ) {\n\tdispatch( interfaceStore ).setFeatureDefaults( 'core/customize-widgets', {\n\t\tfixedToolbar: false,\n\t\twelcomeGuide: true,\n\t} );\n\n\tdispatch( blocksStore ).__experimentalReapplyBlockTypeFilters();\n\tconst coreBlocks = __experimentalGetCoreBlocks().filter( ( block ) => {\n\t\treturn ! (\n\t\t\tDISABLED_BLOCKS.includes( block.name ) ||\n\t\t\tblock.name.startsWith( 'core/post' ) ||\n\t\t\tblock.name.startsWith( 'core/query' ) ||\n\t\t\tblock.name.startsWith( 'core/site' ) ||\n\t\t\tblock.name.startsWith( 'core/navigation' )\n\t\t);\n\t} );\n\tregisterCoreBlocks( coreBlocks );\n\tregisterLegacyWidgetBlock();\n\tif ( process.env.IS_GUTENBERG_PLUGIN ) {\n\t\t__experimentalRegisterExperimentalCoreBlocks( {\n\t\t\tenableFSEBlocks: ENABLE_EXPERIMENTAL_FSE_BLOCKS,\n\t\t} );\n\t}\n\tregisterLegacyWidgetVariations( blockEditorSettings );\n\tregisterWidgetGroupBlock();\n\n\t// As we are unregistering `core/freeform` to avoid the Classic block, we must\n\t// replace it with something as the default freeform content handler. Failure to\n\t// do this will result in errors in the default block parser.\n\t// see: https://github.com/WordPress/gutenberg/issues/33097\n\tsetFreeformContentHandlerName( 'core/html' );\n\n\tconst SidebarControl = getSidebarControl( blockEditorSettings );\n\n\twp.customize.sectionConstructor.sidebar = getSidebarSection();\n\twp.customize.controlConstructor.sidebar_block_editor = SidebarControl;\n\n\tconst container = document.createElement( 'div' );\n\tdocument.body.appendChild( container );\n\n\twp.customize.bind( 'ready', () => {\n\t\tconst sidebarControls = [];\n\t\twp.customize.control.each( ( control ) => {\n\t\t\tif ( control instanceof SidebarControl ) {\n\t\t\t\tsidebarControls.push( control );\n\t\t\t}\n\t\t} );\n\n\t\trender(\n\t\t\t<CustomizeWidgets\n\t\t\t\tapi={ wp.customize }\n\t\t\t\tsidebarControls={ sidebarControls }\n\t\t\t\tblockEditorSettings={ blockEditorSettings }\n\t\t\t/>,\n\t\t\tcontainer\n\t\t);\n\t} );\n}\n","/**\n * WordPress dependencies\n */\nimport { dispatch } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport SidebarAdapter from '../components/sidebar-block-editor/sidebar-adapter';\nimport getInserterOuterSection from './inserter-outer-section';\nimport { store as customizeWidgetsStore } from '../store';\n\nconst getInserterId = ( controlId ) => `widgets-inserter-${ controlId }`;\n\nexport default function getSidebarControl() {\n\tconst {\n\t\twp: { customize },\n\t} = window;\n\n\treturn class SidebarControl extends customize.Control {\n\t\tconstructor( ...args ) {\n\t\t\tsuper( ...args );\n\n\t\t\tthis.subscribers = new Set();\n\t\t}\n\n\t\tready() {\n\t\t\tconst InserterOuterSection = getInserterOuterSection();\n\t\t\tthis.inserter = new InserterOuterSection(\n\t\t\t\tgetInserterId( this.id ),\n\t\t\t\t{}\n\t\t\t);\n\t\t\tcustomize.section.add( this.inserter );\n\n\t\t\tthis.sectionInstance = customize.section( this.section() );\n\n\t\t\tthis.inspector = this.sectionInstance.inspector;\n\n\t\t\tthis.sidebarAdapter = new SidebarAdapter( this.setting, customize );\n\t\t}\n\n\t\tsubscribe( callback ) {\n\t\t\tthis.subscribers.add( callback );\n\n\t\t\treturn () => {\n\t\t\t\tthis.subscribers.delete( callback );\n\t\t\t};\n\t\t}\n\n\t\tonChangeSectionExpanded( expanded, args ) {\n\t\t\tif ( ! args.unchanged ) {\n\t\t\t\t// Close the inserter when the section collapses.\n\t\t\t\tif ( ! expanded ) {\n\t\t\t\t\tdispatch( customizeWidgetsStore ).setIsInserterOpened(\n\t\t\t\t\t\tfalse\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tthis.subscribers.forEach( ( subscriber ) =>\n\t\t\t\t\tsubscriber( expanded, args )\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t};\n}\n","/**\n * WordPress dependencies\n */\nimport { ESCAPE } from '@wordpress/keycodes';\nimport { focus } from '@wordpress/dom';\nimport { dispatch } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as customizeWidgetsStore } from '../store';\n\nexport default function getInserterOuterSection() {\n\tconst {\n\t\twp: { customize },\n\t} = window;\n\n\tconst OuterSection = customize.OuterSection;\n\t// Override the OuterSection class to handle multiple outer sections.\n\t// It closes all the other outer sections whenever one is opened.\n\t// The result is that at most one outer section can be opened at the same time.\n\tcustomize.OuterSection = class extends OuterSection {\n\t\tonChangeExpanded( expanded, args ) {\n\t\t\tif ( expanded ) {\n\t\t\t\tcustomize.section.each( ( section ) => {\n\t\t\t\t\tif (\n\t\t\t\t\t\tsection.params.type === 'outer' &&\n\t\t\t\t\t\tsection.id !== this.id\n\t\t\t\t\t) {\n\t\t\t\t\t\tif ( section.expanded() ) {\n\t\t\t\t\t\t\tsection.collapse();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\treturn super.onChangeExpanded( expanded, args );\n\t\t}\n\t};\n\t// Handle constructor so that \"params.type\" can be correctly pointed to \"outer\".\n\tcustomize.sectionConstructor.outer = customize.OuterSection;\n\n\treturn class InserterOuterSection extends customize.OuterSection {\n\t\tconstructor( ...args ) {\n\t\t\tsuper( ...args );\n\n\t\t\t// This is necessary since we're creating a new class which is not identical to the original OuterSection.\n\t\t\t// @See https://github.com/WordPress/wordpress-develop/blob/42b05c397c50d9dc244083eff52991413909d4bd/src/js/_enqueues/wp/customize/controls.js#L1427-L1436\n\t\t\tthis.params.type = 'outer';\n\n\t\t\tthis.activeElementBeforeExpanded = null;\n\n\t\t\tconst ownerWindow = this.contentContainer[ 0 ].ownerDocument\n\t\t\t\t.defaultView;\n\n\t\t\t// Handle closing the inserter when pressing the Escape key.\n\t\t\townerWindow.addEventListener(\n\t\t\t\t'keydown',\n\t\t\t\t( event ) => {\n\t\t\t\t\tif (\n\t\t\t\t\t\tthis.expanded() &&\n\t\t\t\t\t\t( event.keyCode === ESCAPE ||\n\t\t\t\t\t\t\tevent.code === 'Escape' ) &&\n\t\t\t\t\t\t! event.defaultPrevented\n\t\t\t\t\t) {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\tdispatch( customizeWidgetsStore ).setIsInserterOpened(\n\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t// Use capture mode to make this run before other event listeners.\n\t\t\t\ttrue\n\t\t\t);\n\n\t\t\tthis.contentContainer.addClass( 'widgets-inserter' );\n\n\t\t\t// Set a flag if the state is being changed from open() or close().\n\t\t\t// Don't propagate the event if it's an internal action to prevent infinite loop.\n\t\t\tthis.isFromInternalAction = false;\n\t\t\tthis.expanded.bind( () => {\n\t\t\t\tif ( ! this.isFromInternalAction ) {\n\t\t\t\t\t// Propagate the event to React to sync the state.\n\t\t\t\t\tdispatch( customizeWidgetsStore ).setIsInserterOpened(\n\t\t\t\t\t\tthis.expanded()\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tthis.isFromInternalAction = false;\n\t\t\t} );\n\t\t}\n\t\topen() {\n\t\t\tif ( ! this.expanded() ) {\n\t\t\t\tconst contentContainer = this.contentContainer[ 0 ];\n\t\t\t\tthis.activeElementBeforeExpanded =\n\t\t\t\t\tcontentContainer.ownerDocument.activeElement;\n\n\t\t\t\tthis.isFromInternalAction = true;\n\n\t\t\t\tthis.expand( {\n\t\t\t\t\tcompleteCallback() {\n\t\t\t\t\t\t// We have to do this in a \"completeCallback\" or else the elements will not yet be visible/tabbable.\n\t\t\t\t\t\t// The first one should be the close button,\n\t\t\t\t\t\t// we want to skip it and choose the second one instead, which is the search box.\n\t\t\t\t\t\tconst searchBox = focus.tabbable.find(\n\t\t\t\t\t\t\tcontentContainer\n\t\t\t\t\t\t)[ 1 ];\n\t\t\t\t\t\tif ( searchBox ) {\n\t\t\t\t\t\t\tsearchBox.focus();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\t\tclose() {\n\t\t\tif ( this.expanded() ) {\n\t\t\t\tconst contentContainer = this.contentContainer[ 0 ];\n\t\t\t\tconst activeElement =\n\t\t\t\t\tcontentContainer.ownerDocument.activeElement;\n\n\t\t\t\tthis.isFromInternalAction = true;\n\n\t\t\t\tthis.collapse( {\n\t\t\t\t\tcompleteCallback() {\n\t\t\t\t\t\t// Return back the focus when closing the inserter.\n\t\t\t\t\t\t// Only do this if the active element which triggers the action is inside the inserter,\n\t\t\t\t\t\t// (the close button for instance). In that case the focus will be lost.\n\t\t\t\t\t\t// Otherwise, we don't hijack the focus when the user is focusing on other elements\n\t\t\t\t\t\t// (like the quick inserter).\n\t\t\t\t\t\tif ( contentContainer.contains( activeElement ) ) {\n\t\t\t\t\t\t\t// Return back the focus when closing the inserter.\n\t\t\t\t\t\t\tif ( this.activeElementBeforeExpanded ) {\n\t\t\t\t\t\t\t\tthis.activeElementBeforeExpanded.focus();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\t};\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport getInspectorSection from './inspector-section';\n\nconst getInspectorSectionId = ( sidebarId ) =>\n\t`widgets-inspector-${ sidebarId }`;\n\nexport default function getSidebarSection() {\n\tconst {\n\t\twp: { customize },\n\t} = window;\n\n\treturn class SidebarSection extends customize.Section {\n\t\tready() {\n\t\t\tconst InspectorSection = getInspectorSection();\n\t\t\tthis.inspector = new InspectorSection(\n\t\t\t\tgetInspectorSectionId( this.id ),\n\t\t\t\t{\n\t\t\t\t\ttitle: __( 'Block Settings' ),\n\t\t\t\t\tparentSection: this,\n\t\t\t\t\tcustomizeAction: [\n\t\t\t\t\t\t__( 'Customizing' ),\n\t\t\t\t\t\t__( 'Widgets' ),\n\t\t\t\t\t\tthis.params.title,\n\t\t\t\t\t].join( ' ▸ ' ),\n\t\t\t\t}\n\t\t\t);\n\t\t\tcustomize.section.add( this.inspector );\n\t\t\tthis.contentContainer[ 0 ].classList.add(\n\t\t\t\t'customize-widgets__sidebar-section'\n\t\t\t);\n\t\t}\n\t\thasSubSectionOpened() {\n\t\t\treturn this.inspector.expanded();\n\t\t}\n\t\tonChangeExpanded( expanded, _args ) {\n\t\t\tconst controls = this.controls();\n\t\t\tconst args = {\n\t\t\t\t..._args,\n\t\t\t\tcompleteCallback() {\n\t\t\t\t\tcontrols.forEach( ( control ) => {\n\t\t\t\t\t\tcontrol.onChangeSectionExpanded?.( expanded, args );\n\t\t\t\t\t} );\n\t\t\t\t\t_args.completeCallback?.();\n\t\t\t\t},\n\t\t\t};\n\n\t\t\tif ( args.manualTransition ) {\n\t\t\t\tif ( expanded ) {\n\t\t\t\t\tthis.contentContainer.addClass( [ 'busy', 'open' ] );\n\t\t\t\t\tthis.contentContainer.removeClass( 'is-sub-section-open' );\n\t\t\t\t\tthis.contentContainer\n\t\t\t\t\t\t.closest( '.wp-full-overlay' )\n\t\t\t\t\t\t.addClass( 'section-open' );\n\t\t\t\t\tthis.contentContainer.one( 'transitionend', () => {\n\t\t\t\t\t\tthis.contentContainer.removeClass( 'busy' );\n\t\t\t\t\t\targs.completeCallback();\n\t\t\t\t\t} );\n\t\t\t\t} else {\n\t\t\t\t\tthis.contentContainer.addClass( [\n\t\t\t\t\t\t'busy',\n\t\t\t\t\t\t'is-sub-section-open',\n\t\t\t\t\t] );\n\t\t\t\t\tthis.contentContainer\n\t\t\t\t\t\t.closest( '.wp-full-overlay' )\n\t\t\t\t\t\t.addClass( 'section-open' );\n\t\t\t\t\tthis.contentContainer.removeClass( 'open' );\n\t\t\t\t\tthis.contentContainer.one( 'transitionend', () => {\n\t\t\t\t\t\tthis.contentContainer.removeClass( 'busy' );\n\t\t\t\t\t\targs.completeCallback();\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsuper.onChangeExpanded( expanded, args );\n\t\t\t}\n\t\t}\n\t};\n}\n","export default function getInspectorSection() {\n\tconst {\n\t\twp: { customize },\n\t} = window;\n\n\treturn class InspectorSection extends customize.Section {\n\t\tconstructor( id, options ) {\n\t\t\tsuper( id, options );\n\n\t\t\tthis.parentSection = options.parentSection;\n\n\t\t\tthis.returnFocusWhenClose = null;\n\t\t\tthis._isOpen = false;\n\t\t}\n\t\tget isOpen() {\n\t\t\treturn this._isOpen;\n\t\t}\n\t\tset isOpen( value ) {\n\t\t\tthis._isOpen = value;\n\t\t\tthis.triggerActiveCallbacks();\n\t\t}\n\t\tready() {\n\t\t\tthis.contentContainer[ 0 ].classList.add(\n\t\t\t\t'customize-widgets-layout__inspector'\n\t\t\t);\n\t\t}\n\t\tisContextuallyActive() {\n\t\t\treturn this.isOpen;\n\t\t}\n\t\tonChangeExpanded( expanded, args ) {\n\t\t\tsuper.onChangeExpanded( expanded, args );\n\n\t\t\tif ( this.parentSection && ! args.unchanged ) {\n\t\t\t\tif ( expanded ) {\n\t\t\t\t\tthis.parentSection.collapse( {\n\t\t\t\t\t\tmanualTransition: true,\n\t\t\t\t\t} );\n\t\t\t\t} else {\n\t\t\t\t\tthis.parentSection.expand( {\n\t\t\t\t\t\tmanualTransition: true,\n\t\t\t\t\t\tcompleteCallback: () => {\n\t\t\t\t\t\t\t// Return focus after finishing the transition.\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tthis.returnFocusWhenClose &&\n\t\t\t\t\t\t\t\t! this.contentContainer[ 0 ].contains(\n\t\t\t\t\t\t\t\t\tthis.returnFocusWhenClose\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tthis.returnFocusWhenClose.focus();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\topen( { returnFocusWhenClose } = {} ) {\n\t\t\tthis.isOpen = true;\n\t\t\tthis.returnFocusWhenClose = returnFocusWhenClose;\n\n\t\t\tthis.expand( {\n\t\t\t\tallowMultiple: true,\n\t\t\t} );\n\t\t}\n\t\tclose() {\n\t\t\tthis.collapse( {\n\t\t\t\tallowMultiple: true,\n\t\t\t} );\n\t\t}\n\t\tcollapse( options ) {\n\t\t\t// Overridden collapse() function. Mostly call the parent collapse(), but also\n\t\t\t// move our .isOpen to false.\n\t\t\t// Initially, I tried tracking this with onChangeExpanded(), but it doesn't work\n\t\t\t// because the block settings sidebar is a layer \"on top of\" the G editor sidebar.\n\t\t\t//\n\t\t\t// For example, when closing the block settings sidebar, the G\n\t\t\t// editor sidebar would display, and onChangeExpanded in\n\t\t\t// inspector-section would run with expanded=true, but I want\n\t\t\t// isOpen to be false when the block settings is closed.\n\t\t\tthis.isOpen = false;\n\t\t\tsuper.collapse( options );\n\t\t}\n\t\ttriggerActiveCallbacks() {\n\t\t\t// Manually fire the callbacks associated with moving this.active\n\t\t\t// from false to true.  \"active\" is always true for this section,\n\t\t\t// and \"isContextuallyActive\" reflects if the block settings\n\t\t\t// sidebar is currently visible, that is, it has replaced the main\n\t\t\t// Gutenberg view.\n\t\t\t// The WP customizer only checks \".isContextuallyActive()\" when\n\t\t\t// \".active\" changes values. But our \".active\" never changes value.\n\t\t\t// The WP customizer never foresaw a section being used a way we\n\t\t\t// fit the block settings sidebar into a section. By manually\n\t\t\t// triggering the \"this.active\" callbacks, we force the WP\n\t\t\t// customizer to query our .isContextuallyActive() function and\n\t\t\t// update its view of our status.\n\t\t\tthis.active.callbacks.fireWith( this.active, [ false, true ] );\n\t\t}\n\t};\n}\n"],"names":["hasOwn","hasOwnProperty","classNames","classes","i","arguments","length","arg","argType","push","Array","isArray","inner","apply","toString","Object","prototype","key","call","join","module","exports","default","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","obj","prop","r","Symbol","toStringTag","value","window","SVG","xmlns","viewBox","Path","MoreMenuDropdown","as","DropdownComponent","DropdownMenu","className","label","__","popoverProps","toggleProps","children","classnames","icon","moreVertical","position","tooltipPosition","onClose","preferenceDefaults","combineReducers","features","state","action","type","scope","defaults","preferences","featureName","enableItems","singleEnableItems","itemType","item","multipleEnableItems","isEnable","currentTypeState","currentScopeState","setSingleEnableItem","enableComplementaryArea","area","disableComplementaryArea","setMultipleEnableItem","pinItem","itemId","unpinItem","toggleFeature","select","dispatch","currentValue","isFeatureActive","setFeatureValue","setFeatureDefaults","getActiveComplementaryArea","getSingleEnableItem","isItemPinned","isMultipleEnabledItemEnabled","featureValue","STORE_NAME","storeConfig","reducer","actions","selectors","persist","store","createReduxStore","MoreMenuFeatureToggle","info","messageActivated","messageDeactivated","shortcut","feature","isActive","useSelect","interfaceStore","useDispatch","MenuItem","check","isSelected","onClick","speak","role","registerStore","CopyButton","text","ref","useCopyToClipboard","Button","variant","ErrorBoundary","Component","constructor","super","this","error","componentDidCatch","setState","render","Warning","stack","props","_extends","assign","target","source","inspector","closeMenu","selectedBlockClientId","blockEditorStore","getSelectedBlockClientId","selectedBlock","useMemo","document","getElementById","open","returnFocusWhenClose","isInserterOpened","blockInserterPanel","__experimentalGetInsertionPoint","rootClientId","insertionIndex","setIsInserterOpened","Inserter","setIsOpened","inserterTitleId","useInstanceId","insertionPoint","customizeWidgetsStore","id","closeSmall","__experimentalInsertionIndex","showInserterHelpPanel","onSelect","textFormattingShortcuts","keyCombination","modifier","character","description","KeyCombination","forceAriaLabel","displayShortcutList","ariaLabel","shortcutAriaLabel","castArray","map","index","Fragment","aliases","alias","name","getShortcutKeyCombination","getShortcutDescription","getShortcutAliases","keyboardShortcutsStore","ShortcutList","shortcuts","isString","ShortcutSection","title","ShortcutCategorySection","categoryName","additionalShortcuts","categoryShortcuts","getCategoryShortcuts","concat","KeyboardShortcutHelpModal","isModalActive","toggleModal","registerShortcut","category","useShortcut","Modal","closeLabel","onRequestClose","POPOVER_PROPS","MoreMenu","isKeyboardShortcutsModalActive","setIsKeyboardShortcutsModalVisible","useState","toggleKeyboardShortcutsModal","ToolbarDropdownMenu","MenuGroup","_x","displayShortcut","external","href","rel","VisuallyHidden","sidebar","inserter","isFixedToolbarActive","hasUndo","hasRedo","setUndoRedo","useEffect","subscribeHistory","NavigableToolbar","ToolbarButton","isRTL","redoIcon","undoIcon","undo","redo","isPressed","plus","isOpen","createPortal","contentContainer","settingIdToWidgetId","settingId","matches","match","parseInt","blockToWidget","block","widget","existingWidget","isValidLegacyWidgetBlock","attributes","instance","encoded","hash","raw","rest","idBase","is_widget_customizer_js_value","encoded_serialized_instance","instance_hash_key","raw_instance","widgetClass","content","serialize","omit","widgetToBlock","number","parsedBlocks","parse","createBlock","addWidgetIdToBlock","FocusControlContext","createContext","FocusControl","api","sidebarControls","focusedWidgetIdRef","setFocusedWidgetIdRef","current","focusWidget","useCallback","widgetId","sidebarControl","setting","includes","sectionInstance","expand","completeCallback","handleFocus","handleReady","previewer","preview","bind","unbind","context","Provider","useFocusControl","useContext","SidebarEditorProvider","settings","blocks","onInput","onChange","setBlocks","getWidgets","subscribe","prevWidgets","nextWidgets","prevBlocks","prevWidgetsMap","Map","prevBlocksMap","getWidgetIdFromBlock","nextBlocks","nextWidget","prevWidget","isShallowEqual","onChangeBlocks","nextBlock","has","prevBlock","getWidget","isEqual","addedWidgetIds","setWidgets","reduce","updatedNextBlocks","addedWidgetId","slice","useSidebarBlockEditor","selectBlock","blocksRef","useRef","focusedBlock","find","clientId","blockNode","querySelector","focus","useBlocksFocusControl","BlockEditorProvider","useSubRegistry","WelcomeGuide","isEntirelyBlockWidgets","every","startsWith","srcSet","media","src","width","height","alt","ExternalLink","KeyboardShortcuts","save","event","preventDefault","Register","unregisterShortcut","BlockAppender","isBlocksListEmpty","getBlockCount","ownerDocument","activeElement","body","ButtonBlockAppender","SidebarBlockEditor","blockEditorSettings","close","updater","selectStore","useInserter","hasUploadPermissions","keepCaretInsideBlock","isWelcomeGuideActive","defaultTo","coreStore","canUser","mediaUploadBlockEditor","onError","argumentsObject","uploadMedia","wpAllowedMimeTypes","allowedMimeTypes","message","__experimentalSetIsInserterOpened","mediaUpload","hasFixedToolbar","__unstableHasCustomAppender","BlockEditorKeyboardShortcuts","CopyHandler","BlockTools","styles","defaultEditorStyles","BlockSelectionClearer","WritingFlow","ObserveTyping","BlockList","renderAppender","onSubmit","BlockInspector","__unstableBlockSettingsMenuFirstItem","SidebarControlsContext","SidebarControls","activeSidebarControl","CustomizeWidgets","setActiveSidebarControl","parentContainer","popoverRef","hasSelectedBlock","hasMultiSelection","clearSelectedBlock","container","ownerWindow","defaultView","handleClearSelectedBlock","element","contains","closest","expanded","handleMouseDown","handleBlur","addEventListener","removeEventListener","useClearSelectedBlock","unsubscribers","forEach","unsubscriber","activeSidebar","sidebarAdapter","popover","Popover","ShortcutProvider","SlotFillProvider","wp","parseWidgetId","widgetIdToSettingId","SidebarAdapter","locked","widgetsCache","WeakMap","subscribers","Set","history","_getWidgetIds","historyIndex","historySubscribers","_debounceSetHistory","leading","callback","timeout","timerID","isLeading","debounced","args","result","clearTimeout","setTimeout","cancel","debounce","_pushHistory","_replaceHistory","_handleSettingChange","_handleAllSettingsChange","add","delete","_emit","listener","_createWidget","widgetModel","customize","Widgets","availableWidgets","findWhere","id_base","set","settingArgs","transport","data","selectiveRefreshableWidgets","create","_removeWidget","remove","_updateWidget","_updateWidgets","nextWidgetIds","filter","_seek","currentWidgets","widgets","withMoveToSidebarToolbarItem","createHigherOrderComponent","BlockEdit","useSidebarControls","useActiveSidebarControl","hasMultipleSidebars","blockName","canInsertBlockInSidebar","canInsertBlockType","getBlock","removeBlock","BlockControls","MoveToWidgetArea","widgetAreas","params","currentWidgetAreaId","sidebarControlId","newSidebarControl","oldSetting","newSetting","without","reverse","addFilter","MediaUpload","withWideWidgetDisplay","isWide","is_wide","DISABLED_BLOCKS","initialize","editorName","fixedToolbar","welcomeGuide","blocksStore","__experimentalReapplyBlockTypeFilters","coreBlocks","__experimentalGetCoreBlocks","registerCoreBlocks","registerLegacyWidgetBlock","__experimentalRegisterExperimentalCoreBlocks","enableFSEBlocks","registerLegacyWidgetVariations","registerWidgetGroupBlock","setFreeformContentHandlerName","SidebarControl","Control","ready","InserterOuterSection","OuterSection","onChangeExpanded","section","each","collapse","sectionConstructor","outer","activeElementBeforeExpanded","keyCode","ESCAPE","code","defaultPrevented","stopPropagation","addClass","isFromInternalAction","searchBox","getInserterOuterSection","onChangeSectionExpanded","unchanged","subscriber","getSidebarControl","Section","InspectorSection","options","parentSection","_isOpen","triggerActiveCallbacks","classList","isContextuallyActive","manualTransition","allowMultiple","active","callbacks","fireWith","getInspectorSection","customizeAction","hasSubSectionOpened","_args","controls","control","removeClass","one","getSidebarSection","controlConstructor","sidebar_block_editor","createElement","appendChild"],"sourceRoot":""}